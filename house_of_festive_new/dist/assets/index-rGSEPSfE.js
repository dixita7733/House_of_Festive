(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();var Dd={exports:{}},Wa={},jd={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ry;function cx(){if(ry)return Ae;ry=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),T=Symbol.iterator;function I(O){return O===null||typeof O!="object"?null:(O=T&&O[T]||O["@@iterator"],typeof O=="function"?O:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,$={};function b(O,Q,fe){this.props=O,this.context=Q,this.refs=$,this.updater=fe||L}b.prototype.isReactComponent={},b.prototype.setState=function(O,Q){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Q,"setState")},b.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function W(){}W.prototype=b.prototype;function ee(O,Q,fe){this.props=O,this.context=Q,this.refs=$,this.updater=fe||L}var te=ee.prototype=new W;te.constructor=ee,z(te,b.prototype),te.isPureReactComponent=!0;var le=Array.isArray,Ie=Object.prototype.hasOwnProperty,Te={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function S(O,Q,fe){var Se,Ce={},De=null,Me=null;if(Q!=null)for(Se in Q.ref!==void 0&&(Me=Q.ref),Q.key!==void 0&&(De=""+Q.key),Q)Ie.call(Q,Se)&&!D.hasOwnProperty(Se)&&(Ce[Se]=Q[Se]);var Fe=arguments.length-2;if(Fe===1)Ce.children=fe;else if(1<Fe){for(var He=Array(Fe),Tt=0;Tt<Fe;Tt++)He[Tt]=arguments[Tt+2];Ce.children=He}if(O&&O.defaultProps)for(Se in Fe=O.defaultProps,Fe)Ce[Se]===void 0&&(Ce[Se]=Fe[Se]);return{$$typeof:n,type:O,key:De,ref:Me,props:Ce,_owner:Te.current}}function k(O,Q){return{$$typeof:n,type:O.type,key:Q,ref:O.ref,props:O.props,_owner:O._owner}}function R(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function P(O){var Q={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(fe){return Q[fe]})}var V=/\/+/g;function A(O,Q){return typeof O=="object"&&O!==null&&O.key!=null?P(""+O.key):Q.toString(36)}function Qe(O,Q,fe,Se,Ce){var De=typeof O;(De==="undefined"||De==="boolean")&&(O=null);var Me=!1;if(O===null)Me=!0;else switch(De){case"string":case"number":Me=!0;break;case"object":switch(O.$$typeof){case n:case e:Me=!0}}if(Me)return Me=O,Ce=Ce(Me),O=Se===""?"."+A(Me,0):Se,le(Ce)?(fe="",O!=null&&(fe=O.replace(V,"$&/")+"/"),Qe(Ce,Q,fe,"",function(Tt){return Tt})):Ce!=null&&(R(Ce)&&(Ce=k(Ce,fe+(!Ce.key||Me&&Me.key===Ce.key?"":(""+Ce.key).replace(V,"$&/")+"/")+O)),Q.push(Ce)),1;if(Me=0,Se=Se===""?".":Se+":",le(O))for(var Fe=0;Fe<O.length;Fe++){De=O[Fe];var He=Se+A(De,Fe);Me+=Qe(De,Q,fe,He,Ce)}else if(He=I(O),typeof He=="function")for(O=He.call(O),Fe=0;!(De=O.next()).done;)De=De.value,He=Se+A(De,Fe++),Me+=Qe(De,Q,fe,He,Ce);else if(De==="object")throw Q=String(O),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return Me}function Ot(O,Q,fe){if(O==null)return O;var Se=[],Ce=0;return Qe(O,Se,"","",function(De){return Q.call(fe,De,Ce++)}),Se}function Lt(O){if(O._status===-1){var Q=O._result;Q=Q(),Q.then(function(fe){(O._status===0||O._status===-1)&&(O._status=1,O._result=fe)},function(fe){(O._status===0||O._status===-1)&&(O._status=2,O._result=fe)}),O._status===-1&&(O._status=0,O._result=Q)}if(O._status===1)return O._result.default;throw O._result}var Be={current:null},re={transition:null},me={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:re,ReactCurrentOwner:Te};function oe(){throw Error("act(...) is not supported in production builds of React.")}return Ae.Children={map:Ot,forEach:function(O,Q,fe){Ot(O,function(){Q.apply(this,arguments)},fe)},count:function(O){var Q=0;return Ot(O,function(){Q++}),Q},toArray:function(O){return Ot(O,function(Q){return Q})||[]},only:function(O){if(!R(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Ae.Component=b,Ae.Fragment=t,Ae.Profiler=o,Ae.PureComponent=ee,Ae.StrictMode=s,Ae.Suspense=m,Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,Ae.act=oe,Ae.cloneElement=function(O,Q,fe){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var Se=z({},O.props),Ce=O.key,De=O.ref,Me=O._owner;if(Q!=null){if(Q.ref!==void 0&&(De=Q.ref,Me=Te.current),Q.key!==void 0&&(Ce=""+Q.key),O.type&&O.type.defaultProps)var Fe=O.type.defaultProps;for(He in Q)Ie.call(Q,He)&&!D.hasOwnProperty(He)&&(Se[He]=Q[He]===void 0&&Fe!==void 0?Fe[He]:Q[He])}var He=arguments.length-2;if(He===1)Se.children=fe;else if(1<He){Fe=Array(He);for(var Tt=0;Tt<He;Tt++)Fe[Tt]=arguments[Tt+2];Se.children=Fe}return{$$typeof:n,type:O.type,key:Ce,ref:De,props:Se,_owner:Me}},Ae.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:l,_context:O},O.Consumer=O},Ae.createElement=S,Ae.createFactory=function(O){var Q=S.bind(null,O);return Q.type=O,Q},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(O){return{$$typeof:f,render:O}},Ae.isValidElement=R,Ae.lazy=function(O){return{$$typeof:x,_payload:{_status:-1,_result:O},_init:Lt}},Ae.memo=function(O,Q){return{$$typeof:v,type:O,compare:Q===void 0?null:Q}},Ae.startTransition=function(O){var Q=re.transition;re.transition={};try{O()}finally{re.transition=Q}},Ae.unstable_act=oe,Ae.useCallback=function(O,Q){return Be.current.useCallback(O,Q)},Ae.useContext=function(O){return Be.current.useContext(O)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(O){return Be.current.useDeferredValue(O)},Ae.useEffect=function(O,Q){return Be.current.useEffect(O,Q)},Ae.useId=function(){return Be.current.useId()},Ae.useImperativeHandle=function(O,Q,fe){return Be.current.useImperativeHandle(O,Q,fe)},Ae.useInsertionEffect=function(O,Q){return Be.current.useInsertionEffect(O,Q)},Ae.useLayoutEffect=function(O,Q){return Be.current.useLayoutEffect(O,Q)},Ae.useMemo=function(O,Q){return Be.current.useMemo(O,Q)},Ae.useReducer=function(O,Q,fe){return Be.current.useReducer(O,Q,fe)},Ae.useRef=function(O){return Be.current.useRef(O)},Ae.useState=function(O){return Be.current.useState(O)},Ae.useSyncExternalStore=function(O,Q,fe){return Be.current.useSyncExternalStore(O,Q,fe)},Ae.useTransition=function(){return Be.current.useTransition()},Ae.version="18.3.1",Ae}var sy;function Of(){return sy||(sy=1,jd.exports=cx()),jd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iy;function hx(){if(iy)return Wa;iy=1;var n=Of(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function h(f,m,v){var x,T={},I=null,L=null;v!==void 0&&(I=""+v),m.key!==void 0&&(I=""+m.key),m.ref!==void 0&&(L=m.ref);for(x in m)s.call(m,x)&&!l.hasOwnProperty(x)&&(T[x]=m[x]);if(f&&f.defaultProps)for(x in m=f.defaultProps,m)T[x]===void 0&&(T[x]=m[x]);return{$$typeof:e,type:f,key:I,ref:L,props:T,_owner:o.current}}return Wa.Fragment=t,Wa.jsx=h,Wa.jsxs=h,Wa}var oy;function dx(){return oy||(oy=1,Dd.exports=hx()),Dd.exports}var p=dx(),B=Of(),Ku={},Vd={exports:{}},sn={},Od={exports:{}},Ld={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ay;function fx(){return ay||(ay=1,function(n){function e(re,me){var oe=re.length;re.push(me);e:for(;0<oe;){var O=oe-1>>>1,Q=re[O];if(0<o(Q,me))re[O]=me,re[oe]=Q,oe=O;else break e}}function t(re){return re.length===0?null:re[0]}function s(re){if(re.length===0)return null;var me=re[0],oe=re.pop();if(oe!==me){re[0]=oe;e:for(var O=0,Q=re.length,fe=Q>>>1;O<fe;){var Se=2*(O+1)-1,Ce=re[Se],De=Se+1,Me=re[De];if(0>o(Ce,oe))De<Q&&0>o(Me,Ce)?(re[O]=Me,re[De]=oe,O=De):(re[O]=Ce,re[Se]=oe,O=Se);else if(De<Q&&0>o(Me,oe))re[O]=Me,re[De]=oe,O=De;else break e}}return me}function o(re,me){var oe=re.sortIndex-me.sortIndex;return oe!==0?oe:re.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var h=Date,f=h.now();n.unstable_now=function(){return h.now()-f}}var m=[],v=[],x=1,T=null,I=3,L=!1,z=!1,$=!1,b=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function te(re){for(var me=t(v);me!==null;){if(me.callback===null)s(v);else if(me.startTime<=re)s(v),me.sortIndex=me.expirationTime,e(m,me);else break;me=t(v)}}function le(re){if($=!1,te(re),!z)if(t(m)!==null)z=!0,Lt(Ie);else{var me=t(v);me!==null&&Be(le,me.startTime-re)}}function Ie(re,me){z=!1,$&&($=!1,W(S),S=-1),L=!0;var oe=I;try{for(te(me),T=t(m);T!==null&&(!(T.expirationTime>me)||re&&!P());){var O=T.callback;if(typeof O=="function"){T.callback=null,I=T.priorityLevel;var Q=O(T.expirationTime<=me);me=n.unstable_now(),typeof Q=="function"?T.callback=Q:T===t(m)&&s(m),te(me)}else s(m);T=t(m)}if(T!==null)var fe=!0;else{var Se=t(v);Se!==null&&Be(le,Se.startTime-me),fe=!1}return fe}finally{T=null,I=oe,L=!1}}var Te=!1,D=null,S=-1,k=5,R=-1;function P(){return!(n.unstable_now()-R<k)}function V(){if(D!==null){var re=n.unstable_now();R=re;var me=!0;try{me=D(!0,re)}finally{me?A():(Te=!1,D=null)}}else Te=!1}var A;if(typeof ee=="function")A=function(){ee(V)};else if(typeof MessageChannel<"u"){var Qe=new MessageChannel,Ot=Qe.port2;Qe.port1.onmessage=V,A=function(){Ot.postMessage(null)}}else A=function(){b(V,0)};function Lt(re){D=re,Te||(Te=!0,A())}function Be(re,me){S=b(function(){re(n.unstable_now())},me)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_continueExecution=function(){z||L||(z=!0,Lt(Ie))},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return I},n.unstable_getFirstCallbackNode=function(){return t(m)},n.unstable_next=function(re){switch(I){case 1:case 2:case 3:var me=3;break;default:me=I}var oe=I;I=me;try{return re()}finally{I=oe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(re,me){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var oe=I;I=re;try{return me()}finally{I=oe}},n.unstable_scheduleCallback=function(re,me,oe){var O=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?O+oe:O):oe=O,re){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=oe+Q,re={id:x++,callback:me,priorityLevel:re,startTime:oe,expirationTime:Q,sortIndex:-1},oe>O?(re.sortIndex=oe,e(v,re),t(m)===null&&re===t(v)&&($?(W(S),S=-1):$=!0,Be(le,oe-O))):(re.sortIndex=Q,e(m,re),z||L||(z=!0,Lt(Ie))),re},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(re){var me=I;return function(){var oe=I;I=me;try{return re.apply(this,arguments)}finally{I=oe}}}}(Ld)),Ld}var ly;function px(){return ly||(ly=1,Od.exports=fx()),Od.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uy;function mx(){if(uy)return sn;uy=1;var n=Of(),e=px();function t(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(r,i){h(r,i),h(r+"Capture",i)}function h(r,i){for(o[r]=i,r=0;r<i.length;r++)s.add(i[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},T={};function I(r){return m.call(T,r)?!0:m.call(x,r)?!1:v.test(r)?T[r]=!0:(x[r]=!0,!1)}function L(r,i,a,c){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function z(r,i,a,c){if(i===null||typeof i>"u"||L(r,i,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function $(r,i,a,c,d,y,w){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=r,this.type=i,this.sanitizeURL=y,this.removeEmptyString=w}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){b[r]=new $(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];b[i]=new $(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){b[r]=new $(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){b[r]=new $(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){b[r]=new $(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){b[r]=new $(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){b[r]=new $(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){b[r]=new $(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){b[r]=new $(r,5,!1,r.toLowerCase(),null,!1,!1)});var W=/[\-:]([a-z])/g;function ee(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(W,ee);b[i]=new $(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(W,ee);b[i]=new $(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(W,ee);b[i]=new $(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){b[r]=new $(r,1,!1,r.toLowerCase(),null,!1,!1)}),b.xlinkHref=new $("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){b[r]=new $(r,1,!1,r.toLowerCase(),null,!0,!0)});function te(r,i,a,c){var d=b.hasOwnProperty(i)?b[i]:null;(d!==null?d.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(z(i,a,d,c)&&(a=null),c||d===null?I(i)&&(a===null?r.removeAttribute(i):r.setAttribute(i,""+a)):d.mustUseProperty?r[d.propertyName]=a===null?d.type===3?!1:"":a:(i=d.attributeName,c=d.attributeNamespace,a===null?r.removeAttribute(i):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,c?r.setAttributeNS(c,i,a):r.setAttribute(i,a))))}var le=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ie=Symbol.for("react.element"),Te=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),P=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),Qe=Symbol.for("react.suspense_list"),Ot=Symbol.for("react.memo"),Lt=Symbol.for("react.lazy"),Be=Symbol.for("react.offscreen"),re=Symbol.iterator;function me(r){return r===null||typeof r!="object"?null:(r=re&&r[re]||r["@@iterator"],typeof r=="function"?r:null)}var oe=Object.assign,O;function Q(r){if(O===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);O=i&&i[1]||""}return`
`+O+r}var fe=!1;function Se(r,i){if(!r||fe)return"";fe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(H){var c=H}Reflect.construct(r,[],i)}else{try{i.call()}catch(H){c=H}r.call(i.prototype)}else{try{throw Error()}catch(H){c=H}r()}}catch(H){if(H&&c&&typeof H.stack=="string"){for(var d=H.stack.split(`
`),y=c.stack.split(`
`),w=d.length-1,C=y.length-1;1<=w&&0<=C&&d[w]!==y[C];)C--;for(;1<=w&&0<=C;w--,C--)if(d[w]!==y[C]){if(w!==1||C!==1)do if(w--,C--,0>C||d[w]!==y[C]){var N=`
`+d[w].replace(" at new "," at ");return r.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",r.displayName)),N}while(1<=w&&0<=C);break}}}finally{fe=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?Q(r):""}function Ce(r){switch(r.tag){case 5:return Q(r.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return r=Se(r.type,!1),r;case 11:return r=Se(r.type.render,!1),r;case 1:return r=Se(r.type,!0),r;default:return""}}function De(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case D:return"Fragment";case Te:return"Portal";case k:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case Qe:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case P:return(r.displayName||"Context")+".Consumer";case R:return(r._context.displayName||"Context")+".Provider";case V:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Ot:return i=r.displayName||null,i!==null?i:De(r.type)||"Memo";case Lt:i=r._payload,r=r._init;try{return De(r(i))}catch{}}return null}function Me(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(i);case 8:return i===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Fe(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function He(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Tt(r){var i=He(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),c=""+r[i];if(!r.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,y=a.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return d.call(this)},set:function(w){c=""+w,y.call(this,w)}}),Object.defineProperty(r,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function wr(r){r._valueTracker||(r._valueTracker=Tt(r))}function Di(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return r&&(c=He(r)?r.checked?"true":"false":r.value),r=c,r!==a?(i.setValue(r),!0):!1}function Kr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Bs(r,i){var a=i.checked;return oe({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function ji(r,i){var a=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;a=Fe(i.value!=null?i.value:a),r._wrapperState={initialChecked:c,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Jo(r,i){i=i.checked,i!=null&&te(r,"checked",i,!1)}function Zo(r,i){Jo(r,i);var a=Fe(i.value),c=i.type;if(a!=null)c==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(c==="submit"||c==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?Vi(r,i.type,a):i.hasOwnProperty("defaultValue")&&Vi(r,i.type,Fe(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function Dl(r,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,a||i===r.value||(r.value=i),r.defaultValue=i}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Vi(r,i,a){(i!=="number"||Kr(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var xr=Array.isArray;function Er(r,i,a,c){if(r=r.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<r.length;a++)d=i.hasOwnProperty("$"+r[a].value),r[a].selected!==d&&(r[a].selected=d),d&&c&&(r[a].defaultSelected=!0)}else{for(a=""+Fe(a),i=null,d=0;d<r.length;d++){if(r[d].value===a){r[d].selected=!0,c&&(r[d].defaultSelected=!0);return}i!==null||r[d].disabled||(i=r[d])}i!==null&&(i.selected=!0)}}function ea(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return oe({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Oi(r,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(t(92));if(xr(a)){if(1<a.length)throw Error(t(93));a=a[0]}i=a}i==null&&(i=""),a=i}r._wrapperState={initialValue:Fe(a)}}function Li(r,i){var a=Fe(i.value),c=Fe(i.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),i.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),c!=null&&(r.defaultValue=""+c)}function ta(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function yt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vt(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?yt(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Tr,na=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,c,d){MSApp.execUnsafeLocalFunction(function(){return r(i,a,c,d)})}:r}(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(Tr=Tr||document.createElement("div"),Tr.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Tr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function Qr(r,i){if(i){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=i;return}}r.textContent=i}var $s={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hs=["Webkit","ms","Moz","O"];Object.keys($s).forEach(function(r){Hs.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),$s[i]=$s[r]})});function ra(r,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||$s.hasOwnProperty(r)&&$s[r]?(""+i).trim():i+"px"}function sa(r,i){r=r.style;for(var a in i)if(i.hasOwnProperty(a)){var c=a.indexOf("--")===0,d=ra(a,i[a],c);a==="float"&&(a="cssFloat"),c?r.setProperty(a,d):r[a]=d}}var ia=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function oa(r,i){if(i){if(ia[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function aa(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qs=null;function Mi(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Fi=null,yn=null,Xn=null;function Ui(r){if(r=Pa(r)){if(typeof Fi!="function")throw Error(t(280));var i=r.stateNode;i&&(i=uu(i),Fi(r.stateNode,r.type,i))}}function Yn(r){yn?Xn?Xn.push(r):Xn=[r]:yn=r}function la(){if(yn){var r=yn,i=Xn;if(Xn=yn=null,Ui(r),i)for(r=0;r<i.length;r++)Ui(i[r])}}function Ws(r,i){return r(i)}function ua(){}var Ir=!1;function ca(r,i,a){if(Ir)return r(i,a);Ir=!0;try{return Ws(r,i,a)}finally{Ir=!1,(yn!==null||Xn!==null)&&(ua(),la())}}function at(r,i){var a=r.stateNode;if(a===null)return null;var c=uu(a);if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,i,typeof a));return a}var zi=!1;if(f)try{var kn={};Object.defineProperty(kn,"passive",{get:function(){zi=!0}}),window.addEventListener("test",kn,kn),window.removeEventListener("test",kn,kn)}catch{zi=!1}function Gs(r,i,a,c,d,y,w,C,N){var H=Array.prototype.slice.call(arguments,3);try{i.apply(a,H)}catch(Y){this.onError(Y)}}var Ks=!1,Bi=null,Rn=!1,ha=null,ah={onError:function(r){Ks=!0,Bi=r}};function $i(r,i,a,c,d,y,w,C,N){Ks=!1,Bi=null,Gs.apply(ah,arguments)}function jl(r,i,a,c,d,y,w,C,N){if($i.apply(this,arguments),Ks){if(Ks){var H=Bi;Ks=!1,Bi=null}else throw Error(t(198));Rn||(Rn=!0,ha=H)}}function Nn(r){var i=r,a=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(a=i.return),r=i.return;while(r)}return i.tag===3?a:null}function Qs(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function Pn(r){if(Nn(r)!==r)throw Error(t(188))}function Vl(r){var i=r.alternate;if(!i){if(i=Nn(r),i===null)throw Error(t(188));return i!==r?null:r}for(var a=r,c=i;;){var d=a.return;if(d===null)break;var y=d.alternate;if(y===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===y.child){for(y=d.child;y;){if(y===a)return Pn(d),r;if(y===c)return Pn(d),i;y=y.sibling}throw Error(t(188))}if(a.return!==c.return)a=d,c=y;else{for(var w=!1,C=d.child;C;){if(C===a){w=!0,a=d,c=y;break}if(C===c){w=!0,c=d,a=y;break}C=C.sibling}if(!w){for(C=y.child;C;){if(C===a){w=!0,a=y,c=d;break}if(C===c){w=!0,c=y,a=d;break}C=C.sibling}if(!w)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:i}function da(r){return r=Vl(r),r!==null?Hi(r):null}function Hi(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=Hi(r);if(i!==null)return i;r=r.sibling}return null}var qi=e.unstable_scheduleCallback,fa=e.unstable_cancelCallback,Ol=e.unstable_shouldYield,lh=e.unstable_requestPaint,qe=e.unstable_now,Ll=e.unstable_getCurrentPriorityLevel,Xs=e.unstable_ImmediatePriority,Xr=e.unstable_UserBlockingPriority,vn=e.unstable_NormalPriority,pa=e.unstable_LowPriority,Ml=e.unstable_IdlePriority,Ys=null,ln=null;function Fl(r){if(ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(Ys,r,void 0,(r.current.flags&128)===128)}catch{}}var Wt=Math.clz32?Math.clz32:zl,ma=Math.log,Ul=Math.LN2;function zl(r){return r>>>=0,r===0?32:31-(ma(r)/Ul|0)|0}var Wi=64,Gi=4194304;function Yr(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Js(r,i){var a=r.pendingLanes;if(a===0)return 0;var c=0,d=r.suspendedLanes,y=r.pingedLanes,w=a&268435455;if(w!==0){var C=w&~d;C!==0?c=Yr(C):(y&=w,y!==0&&(c=Yr(y)))}else w=a&~d,w!==0?c=Yr(w):y!==0&&(c=Yr(y));if(c===0)return 0;if(i!==0&&i!==c&&(i&d)===0&&(d=c&-c,y=i&-i,d>=y||d===16&&(y&4194240)!==0))return i;if((c&4)!==0&&(c|=a&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=c;0<i;)a=31-Wt(i),d=1<<a,c|=r[a],i&=~d;return c}function uh(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sr(r,i){for(var a=r.suspendedLanes,c=r.pingedLanes,d=r.expirationTimes,y=r.pendingLanes;0<y;){var w=31-Wt(y),C=1<<w,N=d[w];N===-1?((C&a)===0||(C&c)!==0)&&(d[w]=uh(C,i)):N<=i&&(r.expiredLanes|=C),y&=~C}}function un(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Zs(){var r=Wi;return Wi<<=1,(Wi&4194240)===0&&(Wi=64),r}function Jr(r){for(var i=[],a=0;31>a;a++)i.push(r);return i}function Zr(r,i,a){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-Wt(i),r[i]=a}function $e(r,i){var a=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var c=r.eventTimes;for(r=r.expirationTimes;0<a;){var d=31-Wt(a),y=1<<d;i[d]=0,c[d]=-1,r[d]=-1,a&=~y}}function es(r,i){var a=r.entangledLanes|=i;for(r=r.entanglements;a;){var c=31-Wt(a),d=1<<c;d&i|r[c]&i&&(r[c]|=i),a&=~d}}var be=0;function ts(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Bl,Ki,$l,Hl,ql,ga=!1,Jn=[],Rt=null,bn=null,Dn=null,ns=new Map,_n=new Map,Zn=[],ch="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wl(r,i){switch(r){case"focusin":case"focusout":Rt=null;break;case"dragenter":case"dragleave":bn=null;break;case"mouseover":case"mouseout":Dn=null;break;case"pointerover":case"pointerout":ns.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":_n.delete(i.pointerId)}}function Yt(r,i,a,c,d,y){return r===null||r.nativeEvent!==y?(r={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:y,targetContainers:[d]},i!==null&&(i=Pa(i),i!==null&&Ki(i)),r):(r.eventSystemFlags|=c,i=r.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),r)}function hh(r,i,a,c,d){switch(i){case"focusin":return Rt=Yt(Rt,r,i,a,c,d),!0;case"dragenter":return bn=Yt(bn,r,i,a,c,d),!0;case"mouseover":return Dn=Yt(Dn,r,i,a,c,d),!0;case"pointerover":var y=d.pointerId;return ns.set(y,Yt(ns.get(y)||null,r,i,a,c,d)),!0;case"gotpointercapture":return y=d.pointerId,_n.set(y,Yt(_n.get(y)||null,r,i,a,c,d)),!0}return!1}function Gl(r){var i=si(r.target);if(i!==null){var a=Nn(i);if(a!==null){if(i=a.tag,i===13){if(i=Qs(a),i!==null){r.blockedOn=i,ql(r.priority,function(){$l(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Cr(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var a=Qi(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var c=new a.constructor(a.type,a);qs=c,a.target.dispatchEvent(c),qs=null}else return i=Pa(a),i!==null&&Ki(i),r.blockedOn=a,!1;i.shift()}return!0}function ei(r,i,a){Cr(r)&&a.delete(i)}function Kl(){ga=!1,Rt!==null&&Cr(Rt)&&(Rt=null),bn!==null&&Cr(bn)&&(bn=null),Dn!==null&&Cr(Dn)&&(Dn=null),ns.forEach(ei),_n.forEach(ei)}function jn(r,i){r.blockedOn===i&&(r.blockedOn=null,ga||(ga=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Kl)))}function Vn(r){function i(d){return jn(d,r)}if(0<Jn.length){jn(Jn[0],r);for(var a=1;a<Jn.length;a++){var c=Jn[a];c.blockedOn===r&&(c.blockedOn=null)}}for(Rt!==null&&jn(Rt,r),bn!==null&&jn(bn,r),Dn!==null&&jn(Dn,r),ns.forEach(i),_n.forEach(i),a=0;a<Zn.length;a++)c=Zn[a],c.blockedOn===r&&(c.blockedOn=null);for(;0<Zn.length&&(a=Zn[0],a.blockedOn===null);)Gl(a),a.blockedOn===null&&Zn.shift()}var Ar=le.ReactCurrentBatchConfig,rs=!0;function Je(r,i,a,c){var d=be,y=Ar.transition;Ar.transition=null;try{be=1,ya(r,i,a,c)}finally{be=d,Ar.transition=y}}function dh(r,i,a,c){var d=be,y=Ar.transition;Ar.transition=null;try{be=4,ya(r,i,a,c)}finally{be=d,Ar.transition=y}}function ya(r,i,a,c){if(rs){var d=Qi(r,i,a,c);if(d===null)Th(r,i,c,ti,a),Wl(r,c);else if(hh(d,r,i,a,c))c.stopPropagation();else if(Wl(r,c),i&4&&-1<ch.indexOf(r)){for(;d!==null;){var y=Pa(d);if(y!==null&&Bl(y),y=Qi(r,i,a,c),y===null&&Th(r,i,c,ti,a),y===d)break;d=y}d!==null&&c.stopPropagation()}else Th(r,i,c,null,a)}}var ti=null;function Qi(r,i,a,c){if(ti=null,r=Mi(c),r=si(r),r!==null)if(i=Nn(r),i===null)r=null;else if(a=i.tag,a===13){if(r=Qs(i),r!==null)return r;r=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return ti=r,null}function va(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ll()){case Xs:return 1;case Xr:return 4;case vn:case pa:return 16;case Ml:return 536870912;default:return 16}default:return 16}}var cn=null,Xi=null,Jt=null;function _a(){if(Jt)return Jt;var r,i=Xi,a=i.length,c,d="value"in cn?cn.value:cn.textContent,y=d.length;for(r=0;r<a&&i[r]===d[r];r++);var w=a-r;for(c=1;c<=w&&i[a-c]===d[y-c];c++);return Jt=d.slice(r,1<c?1-c:void 0)}function Yi(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function er(){return!0}function wa(){return!1}function Nt(r){function i(a,c,d,y,w){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var C in r)r.hasOwnProperty(C)&&(a=r[C],this[C]=a?a(y):y[C]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?er:wa,this.isPropagationStopped=wa,this}return oe(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=er)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=er)},persist:function(){},isPersistent:er}),i}var On={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ji=Nt(On),tr=oe({},On,{view:0,detail:0}),fh=Nt(tr),Zi,kr,ss,ni=oe({},tr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ss&&(ss&&r.type==="mousemove"?(Zi=r.screenX-ss.screenX,kr=r.screenY-ss.screenY):kr=Zi=0,ss=r),Zi)},movementY:function(r){return"movementY"in r?r.movementY:kr}}),eo=Nt(ni),xa=oe({},ni,{dataTransfer:0}),Ql=Nt(xa),to=oe({},tr,{relatedTarget:0}),no=Nt(to),Xl=oe({},On,{animationName:0,elapsedTime:0,pseudoElement:0}),Rr=Nt(Xl),Yl=oe({},On,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Jl=Nt(Yl),Zl=oe({},On,{data:0}),Ea=Nt(Zl),ro={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tu(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=eu[r])?!!i[r]:!1}function nr(){return tu}var u=oe({},tr,{key:function(r){if(r.key){var i=ro[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Yi(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Gt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nr,charCode:function(r){return r.type==="keypress"?Yi(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Yi(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),g=Nt(u),_=oe({},ni,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=Nt(_),M=oe({},tr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nr}),q=Nt(M),ne=oe({},On,{propertyName:0,elapsedTime:0,pseudoElement:0}),ze=Nt(ne),_t=oe({},ni,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),je=Nt(_t),It=[9,13,27,32],ct=f&&"CompositionEvent"in window,wn=null;f&&"documentMode"in document&&(wn=document.documentMode);var hn=f&&"TextEvent"in window&&!wn,ri=f&&(!ct||wn&&8<wn&&11>=wn),so=" ",Yp=!1;function Jp(r,i){switch(r){case"keyup":return It.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var io=!1;function a1(r,i){switch(r){case"compositionend":return Zp(i);case"keypress":return i.which!==32?null:(Yp=!0,so);case"textInput":return r=i.data,r===so&&Yp?null:r;default:return null}}function l1(r,i){if(io)return r==="compositionend"||!ct&&Jp(r,i)?(r=_a(),Jt=Xi=cn=null,io=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return ri&&i.locale!=="ko"?null:i.data;default:return null}}var u1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function em(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!u1[r.type]:i==="textarea"}function tm(r,i,a,c){Yn(c),i=ou(i,"onChange"),0<i.length&&(a=new Ji("onChange","change",null,a,c),r.push({event:a,listeners:i}))}var Ta=null,Ia=null;function c1(r){_m(r,0)}function nu(r){var i=co(r);if(Di(i))return r}function h1(r,i){if(r==="change")return i}var nm=!1;if(f){var ph;if(f){var mh="oninput"in document;if(!mh){var rm=document.createElement("div");rm.setAttribute("oninput","return;"),mh=typeof rm.oninput=="function"}ph=mh}else ph=!1;nm=ph&&(!document.documentMode||9<document.documentMode)}function sm(){Ta&&(Ta.detachEvent("onpropertychange",im),Ia=Ta=null)}function im(r){if(r.propertyName==="value"&&nu(Ia)){var i=[];tm(i,Ia,r,Mi(r)),ca(c1,i)}}function d1(r,i,a){r==="focusin"?(sm(),Ta=i,Ia=a,Ta.attachEvent("onpropertychange",im)):r==="focusout"&&sm()}function f1(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return nu(Ia)}function p1(r,i){if(r==="click")return nu(i)}function m1(r,i){if(r==="input"||r==="change")return nu(i)}function g1(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Ln=typeof Object.is=="function"?Object.is:g1;function Sa(r,i){if(Ln(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var a=Object.keys(r),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!m.call(i,d)||!Ln(r[d],i[d]))return!1}return!0}function om(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function am(r,i){var a=om(r);r=0;for(var c;a;){if(a.nodeType===3){if(c=r+a.textContent.length,r<=i&&c>=i)return{node:a,offset:i-r};r=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=om(a)}}function lm(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?lm(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function um(){for(var r=window,i=Kr();i instanceof r.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)r=i.contentWindow;else break;i=Kr(r.document)}return i}function gh(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function y1(r){var i=um(),a=r.focusedElem,c=r.selectionRange;if(i!==a&&a&&a.ownerDocument&&lm(a.ownerDocument.documentElement,a)){if(c!==null&&gh(a)){if(i=c.start,r=c.end,r===void 0&&(r=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(r,a.value.length);else if(r=(i=a.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var d=a.textContent.length,y=Math.min(c.start,d);c=c.end===void 0?y:Math.min(c.end,d),!r.extend&&y>c&&(d=c,c=y,y=d),d=am(a,y);var w=am(a,c);d&&w&&(r.rangeCount!==1||r.anchorNode!==d.node||r.anchorOffset!==d.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(i=i.createRange(),i.setStart(d.node,d.offset),r.removeAllRanges(),y>c?(r.addRange(i),r.extend(w.node,w.offset)):(i.setEnd(w.node,w.offset),r.addRange(i)))}}for(i=[],r=a;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)r=i[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var v1=f&&"documentMode"in document&&11>=document.documentMode,oo=null,yh=null,Ca=null,vh=!1;function cm(r,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;vh||oo==null||oo!==Kr(c)||(c=oo,"selectionStart"in c&&gh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ca&&Sa(Ca,c)||(Ca=c,c=ou(yh,"onSelect"),0<c.length&&(i=new Ji("onSelect","select",null,i,a),r.push({event:i,listeners:c}),i.target=oo)))}function ru(r,i){var a={};return a[r.toLowerCase()]=i.toLowerCase(),a["Webkit"+r]="webkit"+i,a["Moz"+r]="moz"+i,a}var ao={animationend:ru("Animation","AnimationEnd"),animationiteration:ru("Animation","AnimationIteration"),animationstart:ru("Animation","AnimationStart"),transitionend:ru("Transition","TransitionEnd")},_h={},hm={};f&&(hm=document.createElement("div").style,"AnimationEvent"in window||(delete ao.animationend.animation,delete ao.animationiteration.animation,delete ao.animationstart.animation),"TransitionEvent"in window||delete ao.transitionend.transition);function su(r){if(_h[r])return _h[r];if(!ao[r])return r;var i=ao[r],a;for(a in i)if(i.hasOwnProperty(a)&&a in hm)return _h[r]=i[a];return r}var dm=su("animationend"),fm=su("animationiteration"),pm=su("animationstart"),mm=su("transitionend"),gm=new Map,ym="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function is(r,i){gm.set(r,i),l(i,[r])}for(var wh=0;wh<ym.length;wh++){var xh=ym[wh],_1=xh.toLowerCase(),w1=xh[0].toUpperCase()+xh.slice(1);is(_1,"on"+w1)}is(dm,"onAnimationEnd"),is(fm,"onAnimationIteration"),is(pm,"onAnimationStart"),is("dblclick","onDoubleClick"),is("focusin","onFocus"),is("focusout","onBlur"),is(mm,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Aa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Aa));function vm(r,i,a){var c=r.type||"unknown-event";r.currentTarget=a,jl(c,i,void 0,r),r.currentTarget=null}function _m(r,i){i=(i&4)!==0;for(var a=0;a<r.length;a++){var c=r[a],d=c.event;c=c.listeners;e:{var y=void 0;if(i)for(var w=c.length-1;0<=w;w--){var C=c[w],N=C.instance,H=C.currentTarget;if(C=C.listener,N!==y&&d.isPropagationStopped())break e;vm(d,C,H),y=N}else for(w=0;w<c.length;w++){if(C=c[w],N=C.instance,H=C.currentTarget,C=C.listener,N!==y&&d.isPropagationStopped())break e;vm(d,C,H),y=N}}}if(Rn)throw r=ha,Rn=!1,ha=null,r}function Xe(r,i){var a=i[Rh];a===void 0&&(a=i[Rh]=new Set);var c=r+"__bubble";a.has(c)||(wm(i,r,2,!1),a.add(c))}function Eh(r,i,a){var c=0;i&&(c|=4),wm(a,r,c,i)}var iu="_reactListening"+Math.random().toString(36).slice(2);function ka(r){if(!r[iu]){r[iu]=!0,s.forEach(function(a){a!=="selectionchange"&&(x1.has(a)||Eh(a,!1,r),Eh(a,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[iu]||(i[iu]=!0,Eh("selectionchange",!1,i))}}function wm(r,i,a,c){switch(va(i)){case 1:var d=Je;break;case 4:d=dh;break;default:d=ya}a=d.bind(null,i,a,r),d=void 0,!zi||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),c?d!==void 0?r.addEventListener(i,a,{capture:!0,passive:d}):r.addEventListener(i,a,!0):d!==void 0?r.addEventListener(i,a,{passive:d}):r.addEventListener(i,a,!1)}function Th(r,i,a,c,d){var y=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var C=c.stateNode.containerInfo;if(C===d||C.nodeType===8&&C.parentNode===d)break;if(w===4)for(w=c.return;w!==null;){var N=w.tag;if((N===3||N===4)&&(N=w.stateNode.containerInfo,N===d||N.nodeType===8&&N.parentNode===d))return;w=w.return}for(;C!==null;){if(w=si(C),w===null)return;if(N=w.tag,N===5||N===6){c=y=w;continue e}C=C.parentNode}}c=c.return}ca(function(){var H=y,Y=Mi(a),J=[];e:{var X=gm.get(r);if(X!==void 0){var ie=Ji,ce=r;switch(r){case"keypress":if(Yi(a)===0)break e;case"keydown":case"keyup":ie=g;break;case"focusin":ce="focus",ie=no;break;case"focusout":ce="blur",ie=no;break;case"beforeblur":case"afterblur":ie=no;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=eo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=Ql;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=q;break;case dm:case fm:case pm:ie=Rr;break;case mm:ie=ze;break;case"scroll":ie=fh;break;case"wheel":ie=je;break;case"copy":case"cut":case"paste":ie=Jl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=E}var he=(i&4)!==0,lt=!he&&r==="scroll",F=he?X!==null?X+"Capture":null:X;he=[];for(var j=H,U;j!==null;){U=j;var Z=U.stateNode;if(U.tag===5&&Z!==null&&(U=Z,F!==null&&(Z=at(j,F),Z!=null&&he.push(Ra(j,Z,U)))),lt)break;j=j.return}0<he.length&&(X=new ie(X,ce,null,a,Y),J.push({event:X,listeners:he}))}}if((i&7)===0){e:{if(X=r==="mouseover"||r==="pointerover",ie=r==="mouseout"||r==="pointerout",X&&a!==qs&&(ce=a.relatedTarget||a.fromElement)&&(si(ce)||ce[Nr]))break e;if((ie||X)&&(X=Y.window===Y?Y:(X=Y.ownerDocument)?X.defaultView||X.parentWindow:window,ie?(ce=a.relatedTarget||a.toElement,ie=H,ce=ce?si(ce):null,ce!==null&&(lt=Nn(ce),ce!==lt||ce.tag!==5&&ce.tag!==6)&&(ce=null)):(ie=null,ce=H),ie!==ce)){if(he=eo,Z="onMouseLeave",F="onMouseEnter",j="mouse",(r==="pointerout"||r==="pointerover")&&(he=E,Z="onPointerLeave",F="onPointerEnter",j="pointer"),lt=ie==null?X:co(ie),U=ce==null?X:co(ce),X=new he(Z,j+"leave",ie,a,Y),X.target=lt,X.relatedTarget=U,Z=null,si(Y)===H&&(he=new he(F,j+"enter",ce,a,Y),he.target=U,he.relatedTarget=lt,Z=he),lt=Z,ie&&ce)t:{for(he=ie,F=ce,j=0,U=he;U;U=lo(U))j++;for(U=0,Z=F;Z;Z=lo(Z))U++;for(;0<j-U;)he=lo(he),j--;for(;0<U-j;)F=lo(F),U--;for(;j--;){if(he===F||F!==null&&he===F.alternate)break t;he=lo(he),F=lo(F)}he=null}else he=null;ie!==null&&xm(J,X,ie,he,!1),ce!==null&&lt!==null&&xm(J,lt,ce,he,!0)}}e:{if(X=H?co(H):window,ie=X.nodeName&&X.nodeName.toLowerCase(),ie==="select"||ie==="input"&&X.type==="file")var de=h1;else if(em(X))if(nm)de=m1;else{de=f1;var ge=d1}else(ie=X.nodeName)&&ie.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(de=p1);if(de&&(de=de(r,H))){tm(J,de,a,Y);break e}ge&&ge(r,X,H),r==="focusout"&&(ge=X._wrapperState)&&ge.controlled&&X.type==="number"&&Vi(X,"number",X.value)}switch(ge=H?co(H):window,r){case"focusin":(em(ge)||ge.contentEditable==="true")&&(oo=ge,yh=H,Ca=null);break;case"focusout":Ca=yh=oo=null;break;case"mousedown":vh=!0;break;case"contextmenu":case"mouseup":case"dragend":vh=!1,cm(J,a,Y);break;case"selectionchange":if(v1)break;case"keydown":case"keyup":cm(J,a,Y)}var ye;if(ct)e:{switch(r){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else io?Jp(r,a)&&(_e="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(ri&&a.locale!=="ko"&&(io||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&io&&(ye=_a()):(cn=Y,Xi="value"in cn?cn.value:cn.textContent,io=!0)),ge=ou(H,_e),0<ge.length&&(_e=new Ea(_e,r,null,a,Y),J.push({event:_e,listeners:ge}),ye?_e.data=ye:(ye=Zp(a),ye!==null&&(_e.data=ye)))),(ye=hn?a1(r,a):l1(r,a))&&(H=ou(H,"onBeforeInput"),0<H.length&&(Y=new Ea("onBeforeInput","beforeinput",null,a,Y),J.push({event:Y,listeners:H}),Y.data=ye))}_m(J,i)})}function Ra(r,i,a){return{instance:r,listener:i,currentTarget:a}}function ou(r,i){for(var a=i+"Capture",c=[];r!==null;){var d=r,y=d.stateNode;d.tag===5&&y!==null&&(d=y,y=at(r,a),y!=null&&c.unshift(Ra(r,y,d)),y=at(r,i),y!=null&&c.push(Ra(r,y,d))),r=r.return}return c}function lo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function xm(r,i,a,c,d){for(var y=i._reactName,w=[];a!==null&&a!==c;){var C=a,N=C.alternate,H=C.stateNode;if(N!==null&&N===c)break;C.tag===5&&H!==null&&(C=H,d?(N=at(a,y),N!=null&&w.unshift(Ra(a,N,C))):d||(N=at(a,y),N!=null&&w.push(Ra(a,N,C)))),a=a.return}w.length!==0&&r.push({event:i,listeners:w})}var E1=/\r\n?/g,T1=/\u0000|\uFFFD/g;function Em(r){return(typeof r=="string"?r:""+r).replace(E1,`
`).replace(T1,"")}function au(r,i,a){if(i=Em(i),Em(r)!==i&&a)throw Error(t(425))}function lu(){}var Ih=null,Sh=null;function Ch(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ah=typeof setTimeout=="function"?setTimeout:void 0,I1=typeof clearTimeout=="function"?clearTimeout:void 0,Tm=typeof Promise=="function"?Promise:void 0,S1=typeof queueMicrotask=="function"?queueMicrotask:typeof Tm<"u"?function(r){return Tm.resolve(null).then(r).catch(C1)}:Ah;function C1(r){setTimeout(function(){throw r})}function kh(r,i){var a=i,c=0;do{var d=a.nextSibling;if(r.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(c===0){r.removeChild(d),Vn(i);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=d}while(a);Vn(i)}function os(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function Im(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return r;i--}else a==="/$"&&i++}r=r.previousSibling}return null}var uo=Math.random().toString(36).slice(2),rr="__reactFiber$"+uo,Na="__reactProps$"+uo,Nr="__reactContainer$"+uo,Rh="__reactEvents$"+uo,A1="__reactListeners$"+uo,k1="__reactHandles$"+uo;function si(r){var i=r[rr];if(i)return i;for(var a=r.parentNode;a;){if(i=a[Nr]||a[rr]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(r=Im(r);r!==null;){if(a=r[rr])return a;r=Im(r)}return i}r=a,a=r.parentNode}return null}function Pa(r){return r=r[rr]||r[Nr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function co(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function uu(r){return r[Na]||null}var Nh=[],ho=-1;function as(r){return{current:r}}function Ye(r){0>ho||(r.current=Nh[ho],Nh[ho]=null,ho--)}function We(r,i){ho++,Nh[ho]=r.current,r.current=i}var ls={},Mt=as(ls),Zt=as(!1),ii=ls;function fo(r,i){var a=r.type.contextTypes;if(!a)return ls;var c=r.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var d={},y;for(y in a)d[y]=i[y];return c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=d),d}function en(r){return r=r.childContextTypes,r!=null}function cu(){Ye(Zt),Ye(Mt)}function Sm(r,i,a){if(Mt.current!==ls)throw Error(t(168));We(Mt,i),We(Zt,a)}function Cm(r,i,a){var c=r.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var d in c)if(!(d in i))throw Error(t(108,Me(r)||"Unknown",d));return oe({},a,c)}function hu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||ls,ii=Mt.current,We(Mt,r),We(Zt,Zt.current),!0}function Am(r,i,a){var c=r.stateNode;if(!c)throw Error(t(169));a?(r=Cm(r,i,ii),c.__reactInternalMemoizedMergedChildContext=r,Ye(Zt),Ye(Mt),We(Mt,r)):Ye(Zt),We(Zt,a)}var Pr=null,du=!1,Ph=!1;function km(r){Pr===null?Pr=[r]:Pr.push(r)}function R1(r){du=!0,km(r)}function us(){if(!Ph&&Pr!==null){Ph=!0;var r=0,i=be;try{var a=Pr;for(be=1;r<a.length;r++){var c=a[r];do c=c(!0);while(c!==null)}Pr=null,du=!1}catch(d){throw Pr!==null&&(Pr=Pr.slice(r+1)),qi(Xs,us),d}finally{be=i,Ph=!1}}return null}var po=[],mo=0,fu=null,pu=0,xn=[],En=0,oi=null,br=1,Dr="";function ai(r,i){po[mo++]=pu,po[mo++]=fu,fu=r,pu=i}function Rm(r,i,a){xn[En++]=br,xn[En++]=Dr,xn[En++]=oi,oi=r;var c=br;r=Dr;var d=32-Wt(c)-1;c&=~(1<<d),a+=1;var y=32-Wt(i)+d;if(30<y){var w=d-d%5;y=(c&(1<<w)-1).toString(32),c>>=w,d-=w,br=1<<32-Wt(i)+d|a<<d|c,Dr=y+r}else br=1<<y|a<<d|c,Dr=r}function bh(r){r.return!==null&&(ai(r,1),Rm(r,1,0))}function Dh(r){for(;r===fu;)fu=po[--mo],po[mo]=null,pu=po[--mo],po[mo]=null;for(;r===oi;)oi=xn[--En],xn[En]=null,Dr=xn[--En],xn[En]=null,br=xn[--En],xn[En]=null}var dn=null,fn=null,Ze=!1,Mn=null;function Nm(r,i){var a=Cn(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=r,i=r.deletions,i===null?(r.deletions=[a],r.flags|=16):i.push(a)}function Pm(r,i){switch(r.tag){case 5:var a=r.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,dn=r,fn=os(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,dn=r,fn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=oi!==null?{id:br,overflow:Dr}:null,r.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=Cn(18,null,null,0),a.stateNode=i,a.return=r,r.child=a,dn=r,fn=null,!0):!1;default:return!1}}function jh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Vh(r){if(Ze){var i=fn;if(i){var a=i;if(!Pm(r,i)){if(jh(r))throw Error(t(418));i=os(a.nextSibling);var c=dn;i&&Pm(r,i)?Nm(c,a):(r.flags=r.flags&-4097|2,Ze=!1,dn=r)}}else{if(jh(r))throw Error(t(418));r.flags=r.flags&-4097|2,Ze=!1,dn=r}}}function bm(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;dn=r}function mu(r){if(r!==dn)return!1;if(!Ze)return bm(r),Ze=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!Ch(r.type,r.memoizedProps)),i&&(i=fn)){if(jh(r))throw Dm(),Error(t(418));for(;i;)Nm(r,i),i=os(i.nextSibling)}if(bm(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(i===0){fn=os(r.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}r=r.nextSibling}fn=null}}else fn=dn?os(r.stateNode.nextSibling):null;return!0}function Dm(){for(var r=fn;r;)r=os(r.nextSibling)}function go(){fn=dn=null,Ze=!1}function Oh(r){Mn===null?Mn=[r]:Mn.push(r)}var N1=le.ReactCurrentBatchConfig;function ba(r,i,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,r));var d=c,y=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===y?i.ref:(i=function(w){var C=d.refs;w===null?delete C[y]:C[y]=w},i._stringRef=y,i)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function gu(r,i){throw r=Object.prototype.toString.call(i),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function jm(r){var i=r._init;return i(r._payload)}function Vm(r){function i(F,j){if(r){var U=F.deletions;U===null?(F.deletions=[j],F.flags|=16):U.push(j)}}function a(F,j){if(!r)return null;for(;j!==null;)i(F,j),j=j.sibling;return null}function c(F,j){for(F=new Map;j!==null;)j.key!==null?F.set(j.key,j):F.set(j.index,j),j=j.sibling;return F}function d(F,j){return F=ys(F,j),F.index=0,F.sibling=null,F}function y(F,j,U){return F.index=U,r?(U=F.alternate,U!==null?(U=U.index,U<j?(F.flags|=2,j):U):(F.flags|=2,j)):(F.flags|=1048576,j)}function w(F){return r&&F.alternate===null&&(F.flags|=2),F}function C(F,j,U,Z){return j===null||j.tag!==6?(j=Ad(U,F.mode,Z),j.return=F,j):(j=d(j,U),j.return=F,j)}function N(F,j,U,Z){var de=U.type;return de===D?Y(F,j,U.props.children,Z,U.key):j!==null&&(j.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Lt&&jm(de)===j.type)?(Z=d(j,U.props),Z.ref=ba(F,j,U),Z.return=F,Z):(Z=Uu(U.type,U.key,U.props,null,F.mode,Z),Z.ref=ba(F,j,U),Z.return=F,Z)}function H(F,j,U,Z){return j===null||j.tag!==4||j.stateNode.containerInfo!==U.containerInfo||j.stateNode.implementation!==U.implementation?(j=kd(U,F.mode,Z),j.return=F,j):(j=d(j,U.children||[]),j.return=F,j)}function Y(F,j,U,Z,de){return j===null||j.tag!==7?(j=mi(U,F.mode,Z,de),j.return=F,j):(j=d(j,U),j.return=F,j)}function J(F,j,U){if(typeof j=="string"&&j!==""||typeof j=="number")return j=Ad(""+j,F.mode,U),j.return=F,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Ie:return U=Uu(j.type,j.key,j.props,null,F.mode,U),U.ref=ba(F,null,j),U.return=F,U;case Te:return j=kd(j,F.mode,U),j.return=F,j;case Lt:var Z=j._init;return J(F,Z(j._payload),U)}if(xr(j)||me(j))return j=mi(j,F.mode,U,null),j.return=F,j;gu(F,j)}return null}function X(F,j,U,Z){var de=j!==null?j.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return de!==null?null:C(F,j,""+U,Z);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Ie:return U.key===de?N(F,j,U,Z):null;case Te:return U.key===de?H(F,j,U,Z):null;case Lt:return de=U._init,X(F,j,de(U._payload),Z)}if(xr(U)||me(U))return de!==null?null:Y(F,j,U,Z,null);gu(F,U)}return null}function ie(F,j,U,Z,de){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return F=F.get(U)||null,C(j,F,""+Z,de);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case Ie:return F=F.get(Z.key===null?U:Z.key)||null,N(j,F,Z,de);case Te:return F=F.get(Z.key===null?U:Z.key)||null,H(j,F,Z,de);case Lt:var ge=Z._init;return ie(F,j,U,ge(Z._payload),de)}if(xr(Z)||me(Z))return F=F.get(U)||null,Y(j,F,Z,de,null);gu(j,Z)}return null}function ce(F,j,U,Z){for(var de=null,ge=null,ye=j,_e=j=0,At=null;ye!==null&&_e<U.length;_e++){ye.index>_e?(At=ye,ye=null):At=ye.sibling;var Le=X(F,ye,U[_e],Z);if(Le===null){ye===null&&(ye=At);break}r&&ye&&Le.alternate===null&&i(F,ye),j=y(Le,j,_e),ge===null?de=Le:ge.sibling=Le,ge=Le,ye=At}if(_e===U.length)return a(F,ye),Ze&&ai(F,_e),de;if(ye===null){for(;_e<U.length;_e++)ye=J(F,U[_e],Z),ye!==null&&(j=y(ye,j,_e),ge===null?de=ye:ge.sibling=ye,ge=ye);return Ze&&ai(F,_e),de}for(ye=c(F,ye);_e<U.length;_e++)At=ie(ye,F,_e,U[_e],Z),At!==null&&(r&&At.alternate!==null&&ye.delete(At.key===null?_e:At.key),j=y(At,j,_e),ge===null?de=At:ge.sibling=At,ge=At);return r&&ye.forEach(function(vs){return i(F,vs)}),Ze&&ai(F,_e),de}function he(F,j,U,Z){var de=me(U);if(typeof de!="function")throw Error(t(150));if(U=de.call(U),U==null)throw Error(t(151));for(var ge=de=null,ye=j,_e=j=0,At=null,Le=U.next();ye!==null&&!Le.done;_e++,Le=U.next()){ye.index>_e?(At=ye,ye=null):At=ye.sibling;var vs=X(F,ye,Le.value,Z);if(vs===null){ye===null&&(ye=At);break}r&&ye&&vs.alternate===null&&i(F,ye),j=y(vs,j,_e),ge===null?de=vs:ge.sibling=vs,ge=vs,ye=At}if(Le.done)return a(F,ye),Ze&&ai(F,_e),de;if(ye===null){for(;!Le.done;_e++,Le=U.next())Le=J(F,Le.value,Z),Le!==null&&(j=y(Le,j,_e),ge===null?de=Le:ge.sibling=Le,ge=Le);return Ze&&ai(F,_e),de}for(ye=c(F,ye);!Le.done;_e++,Le=U.next())Le=ie(ye,F,_e,Le.value,Z),Le!==null&&(r&&Le.alternate!==null&&ye.delete(Le.key===null?_e:Le.key),j=y(Le,j,_e),ge===null?de=Le:ge.sibling=Le,ge=Le);return r&&ye.forEach(function(ux){return i(F,ux)}),Ze&&ai(F,_e),de}function lt(F,j,U,Z){if(typeof U=="object"&&U!==null&&U.type===D&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case Ie:e:{for(var de=U.key,ge=j;ge!==null;){if(ge.key===de){if(de=U.type,de===D){if(ge.tag===7){a(F,ge.sibling),j=d(ge,U.props.children),j.return=F,F=j;break e}}else if(ge.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Lt&&jm(de)===ge.type){a(F,ge.sibling),j=d(ge,U.props),j.ref=ba(F,ge,U),j.return=F,F=j;break e}a(F,ge);break}else i(F,ge);ge=ge.sibling}U.type===D?(j=mi(U.props.children,F.mode,Z,U.key),j.return=F,F=j):(Z=Uu(U.type,U.key,U.props,null,F.mode,Z),Z.ref=ba(F,j,U),Z.return=F,F=Z)}return w(F);case Te:e:{for(ge=U.key;j!==null;){if(j.key===ge)if(j.tag===4&&j.stateNode.containerInfo===U.containerInfo&&j.stateNode.implementation===U.implementation){a(F,j.sibling),j=d(j,U.children||[]),j.return=F,F=j;break e}else{a(F,j);break}else i(F,j);j=j.sibling}j=kd(U,F.mode,Z),j.return=F,F=j}return w(F);case Lt:return ge=U._init,lt(F,j,ge(U._payload),Z)}if(xr(U))return ce(F,j,U,Z);if(me(U))return he(F,j,U,Z);gu(F,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,j!==null&&j.tag===6?(a(F,j.sibling),j=d(j,U),j.return=F,F=j):(a(F,j),j=Ad(U,F.mode,Z),j.return=F,F=j),w(F)):a(F,j)}return lt}var yo=Vm(!0),Om=Vm(!1),yu=as(null),vu=null,vo=null,Lh=null;function Mh(){Lh=vo=vu=null}function Fh(r){var i=yu.current;Ye(yu),r._currentValue=i}function Uh(r,i,a){for(;r!==null;){var c=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),r===a)break;r=r.return}}function _o(r,i){vu=r,Lh=vo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&i)!==0&&(tn=!0),r.firstContext=null)}function Tn(r){var i=r._currentValue;if(Lh!==r)if(r={context:r,memoizedValue:i,next:null},vo===null){if(vu===null)throw Error(t(308));vo=r,vu.dependencies={lanes:0,firstContext:r}}else vo=vo.next=r;return i}var li=null;function zh(r){li===null?li=[r]:li.push(r)}function Lm(r,i,a,c){var d=i.interleaved;return d===null?(a.next=a,zh(i)):(a.next=d.next,d.next=a),i.interleaved=a,jr(r,c)}function jr(r,i){r.lanes|=i;var a=r.alternate;for(a!==null&&(a.lanes|=i),a=r,r=r.return;r!==null;)r.childLanes|=i,a=r.alternate,a!==null&&(a.childLanes|=i),a=r,r=r.return;return a.tag===3?a.stateNode:null}var cs=!1;function Bh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mm(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Vr(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function hs(r,i,a){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(Oe&2)!==0){var d=c.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),c.pending=i,jr(r,a)}return d=c.interleaved,d===null?(i.next=i,zh(c)):(i.next=d.next,d.next=i),c.interleaved=i,jr(r,a)}function _u(r,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var c=i.lanes;c&=r.pendingLanes,a|=c,i.lanes=a,es(r,a)}}function Fm(r,i){var a=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var w={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};y===null?d=y=w:y=y.next=w,a=a.next}while(a!==null);y===null?d=y=i:y=y.next=i}else d=y=i;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:y,shared:c.shared,effects:c.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=i:r.next=i,a.lastBaseUpdate=i}function wu(r,i,a,c){var d=r.updateQueue;cs=!1;var y=d.firstBaseUpdate,w=d.lastBaseUpdate,C=d.shared.pending;if(C!==null){d.shared.pending=null;var N=C,H=N.next;N.next=null,w===null?y=H:w.next=H,w=N;var Y=r.alternate;Y!==null&&(Y=Y.updateQueue,C=Y.lastBaseUpdate,C!==w&&(C===null?Y.firstBaseUpdate=H:C.next=H,Y.lastBaseUpdate=N))}if(y!==null){var J=d.baseState;w=0,Y=H=N=null,C=y;do{var X=C.lane,ie=C.eventTime;if((c&X)===X){Y!==null&&(Y=Y.next={eventTime:ie,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var ce=r,he=C;switch(X=i,ie=a,he.tag){case 1:if(ce=he.payload,typeof ce=="function"){J=ce.call(ie,J,X);break e}J=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=he.payload,X=typeof ce=="function"?ce.call(ie,J,X):ce,X==null)break e;J=oe({},J,X);break e;case 2:cs=!0}}C.callback!==null&&C.lane!==0&&(r.flags|=64,X=d.effects,X===null?d.effects=[C]:X.push(C))}else ie={eventTime:ie,lane:X,tag:C.tag,payload:C.payload,callback:C.callback,next:null},Y===null?(H=Y=ie,N=J):Y=Y.next=ie,w|=X;if(C=C.next,C===null){if(C=d.shared.pending,C===null)break;X=C,C=X.next,X.next=null,d.lastBaseUpdate=X,d.shared.pending=null}}while(!0);if(Y===null&&(N=J),d.baseState=N,d.firstBaseUpdate=H,d.lastBaseUpdate=Y,i=d.shared.interleaved,i!==null){d=i;do w|=d.lane,d=d.next;while(d!==i)}else y===null&&(d.shared.lanes=0);hi|=w,r.lanes=w,r.memoizedState=J}}function Um(r,i,a){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var c=r[i],d=c.callback;if(d!==null){if(c.callback=null,c=a,typeof d!="function")throw Error(t(191,d));d.call(c)}}}var Da={},sr=as(Da),ja=as(Da),Va=as(Da);function ui(r){if(r===Da)throw Error(t(174));return r}function $h(r,i){switch(We(Va,i),We(ja,r),We(sr,Da),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:vt(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=vt(i,r)}Ye(sr),We(sr,i)}function wo(){Ye(sr),Ye(ja),Ye(Va)}function zm(r){ui(Va.current);var i=ui(sr.current),a=vt(i,r.type);i!==a&&(We(ja,r),We(sr,a))}function Hh(r){ja.current===r&&(Ye(sr),Ye(ja))}var tt=as(0);function xu(r){for(var i=r;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var qh=[];function Wh(){for(var r=0;r<qh.length;r++)qh[r]._workInProgressVersionPrimary=null;qh.length=0}var Eu=le.ReactCurrentDispatcher,Gh=le.ReactCurrentBatchConfig,ci=0,nt=null,wt=null,St=null,Tu=!1,Oa=!1,La=0,P1=0;function Ft(){throw Error(t(321))}function Kh(r,i){if(i===null)return!1;for(var a=0;a<i.length&&a<r.length;a++)if(!Ln(r[a],i[a]))return!1;return!0}function Qh(r,i,a,c,d,y){if(ci=y,nt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Eu.current=r===null||r.memoizedState===null?V1:O1,r=a(c,d),Oa){y=0;do{if(Oa=!1,La=0,25<=y)throw Error(t(301));y+=1,St=wt=null,i.updateQueue=null,Eu.current=L1,r=a(c,d)}while(Oa)}if(Eu.current=Cu,i=wt!==null&&wt.next!==null,ci=0,St=wt=nt=null,Tu=!1,i)throw Error(t(300));return r}function Xh(){var r=La!==0;return La=0,r}function ir(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?nt.memoizedState=St=r:St=St.next=r,St}function In(){if(wt===null){var r=nt.alternate;r=r!==null?r.memoizedState:null}else r=wt.next;var i=St===null?nt.memoizedState:St.next;if(i!==null)St=i,wt=r;else{if(r===null)throw Error(t(310));wt=r,r={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},St===null?nt.memoizedState=St=r:St=St.next=r}return St}function Ma(r,i){return typeof i=="function"?i(r):i}function Yh(r){var i=In(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var c=wt,d=c.baseQueue,y=a.pending;if(y!==null){if(d!==null){var w=d.next;d.next=y.next,y.next=w}c.baseQueue=d=y,a.pending=null}if(d!==null){y=d.next,c=c.baseState;var C=w=null,N=null,H=y;do{var Y=H.lane;if((ci&Y)===Y)N!==null&&(N=N.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),c=H.hasEagerState?H.eagerState:r(c,H.action);else{var J={lane:Y,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};N===null?(C=N=J,w=c):N=N.next=J,nt.lanes|=Y,hi|=Y}H=H.next}while(H!==null&&H!==y);N===null?w=c:N.next=C,Ln(c,i.memoizedState)||(tn=!0),i.memoizedState=c,i.baseState=w,i.baseQueue=N,a.lastRenderedState=c}if(r=a.interleaved,r!==null){d=r;do y=d.lane,nt.lanes|=y,hi|=y,d=d.next;while(d!==r)}else d===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function Jh(r){var i=In(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var c=a.dispatch,d=a.pending,y=i.memoizedState;if(d!==null){a.pending=null;var w=d=d.next;do y=r(y,w.action),w=w.next;while(w!==d);Ln(y,i.memoizedState)||(tn=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),a.lastRenderedState=y}return[y,c]}function Bm(){}function $m(r,i){var a=nt,c=In(),d=i(),y=!Ln(c.memoizedState,d);if(y&&(c.memoizedState=d,tn=!0),c=c.queue,Zh(Wm.bind(null,a,c,r),[r]),c.getSnapshot!==i||y||St!==null&&St.memoizedState.tag&1){if(a.flags|=2048,Fa(9,qm.bind(null,a,c,d,i),void 0,null),Ct===null)throw Error(t(349));(ci&30)!==0||Hm(a,i,d)}return d}function Hm(r,i,a){r.flags|=16384,r={getSnapshot:i,value:a},i=nt.updateQueue,i===null?(i={lastEffect:null,stores:null},nt.updateQueue=i,i.stores=[r]):(a=i.stores,a===null?i.stores=[r]:a.push(r))}function qm(r,i,a,c){i.value=a,i.getSnapshot=c,Gm(i)&&Km(r)}function Wm(r,i,a){return a(function(){Gm(i)&&Km(r)})}function Gm(r){var i=r.getSnapshot;r=r.value;try{var a=i();return!Ln(r,a)}catch{return!0}}function Km(r){var i=jr(r,1);i!==null&&Bn(i,r,1,-1)}function Qm(r){var i=ir();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:r},i.queue=r,r=r.dispatch=j1.bind(null,nt,r),[i.memoizedState,r]}function Fa(r,i,a,c){return r={tag:r,create:i,destroy:a,deps:c,next:null},i=nt.updateQueue,i===null?(i={lastEffect:null,stores:null},nt.updateQueue=i,i.lastEffect=r.next=r):(a=i.lastEffect,a===null?i.lastEffect=r.next=r:(c=a.next,a.next=r,r.next=c,i.lastEffect=r)),r}function Xm(){return In().memoizedState}function Iu(r,i,a,c){var d=ir();nt.flags|=r,d.memoizedState=Fa(1|i,a,void 0,c===void 0?null:c)}function Su(r,i,a,c){var d=In();c=c===void 0?null:c;var y=void 0;if(wt!==null){var w=wt.memoizedState;if(y=w.destroy,c!==null&&Kh(c,w.deps)){d.memoizedState=Fa(i,a,y,c);return}}nt.flags|=r,d.memoizedState=Fa(1|i,a,y,c)}function Ym(r,i){return Iu(8390656,8,r,i)}function Zh(r,i){return Su(2048,8,r,i)}function Jm(r,i){return Su(4,2,r,i)}function Zm(r,i){return Su(4,4,r,i)}function eg(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function tg(r,i,a){return a=a!=null?a.concat([r]):null,Su(4,4,eg.bind(null,i,r),a)}function ed(){}function ng(r,i){var a=In();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&Kh(i,c[1])?c[0]:(a.memoizedState=[r,i],r)}function rg(r,i){var a=In();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&Kh(i,c[1])?c[0]:(r=r(),a.memoizedState=[r,i],r)}function sg(r,i,a){return(ci&21)===0?(r.baseState&&(r.baseState=!1,tn=!0),r.memoizedState=a):(Ln(a,i)||(a=Zs(),nt.lanes|=a,hi|=a,r.baseState=!0),i)}function b1(r,i){var a=be;be=a!==0&&4>a?a:4,r(!0);var c=Gh.transition;Gh.transition={};try{r(!1),i()}finally{be=a,Gh.transition=c}}function ig(){return In().memoizedState}function D1(r,i,a){var c=ms(r);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},og(r))ag(i,a);else if(a=Lm(r,i,a,c),a!==null){var d=Qt();Bn(a,r,c,d),lg(a,i,c)}}function j1(r,i,a){var c=ms(r),d={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(og(r))ag(i,d);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var w=i.lastRenderedState,C=y(w,a);if(d.hasEagerState=!0,d.eagerState=C,Ln(C,w)){var N=i.interleaved;N===null?(d.next=d,zh(i)):(d.next=N.next,N.next=d),i.interleaved=d;return}}catch{}finally{}a=Lm(r,i,d,c),a!==null&&(d=Qt(),Bn(a,r,c,d),lg(a,i,c))}}function og(r){var i=r.alternate;return r===nt||i!==null&&i===nt}function ag(r,i){Oa=Tu=!0;var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}function lg(r,i,a){if((a&4194240)!==0){var c=i.lanes;c&=r.pendingLanes,a|=c,i.lanes=a,es(r,a)}}var Cu={readContext:Tn,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},V1={readContext:Tn,useCallback:function(r,i){return ir().memoizedState=[r,i===void 0?null:i],r},useContext:Tn,useEffect:Ym,useImperativeHandle:function(r,i,a){return a=a!=null?a.concat([r]):null,Iu(4194308,4,eg.bind(null,i,r),a)},useLayoutEffect:function(r,i){return Iu(4194308,4,r,i)},useInsertionEffect:function(r,i){return Iu(4,2,r,i)},useMemo:function(r,i){var a=ir();return i=i===void 0?null:i,r=r(),a.memoizedState=[r,i],r},useReducer:function(r,i,a){var c=ir();return i=a!==void 0?a(i):i,c.memoizedState=c.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},c.queue=r,r=r.dispatch=D1.bind(null,nt,r),[c.memoizedState,r]},useRef:function(r){var i=ir();return r={current:r},i.memoizedState=r},useState:Qm,useDebugValue:ed,useDeferredValue:function(r){return ir().memoizedState=r},useTransition:function(){var r=Qm(!1),i=r[0];return r=b1.bind(null,r[1]),ir().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,a){var c=nt,d=ir();if(Ze){if(a===void 0)throw Error(t(407));a=a()}else{if(a=i(),Ct===null)throw Error(t(349));(ci&30)!==0||Hm(c,i,a)}d.memoizedState=a;var y={value:a,getSnapshot:i};return d.queue=y,Ym(Wm.bind(null,c,y,r),[r]),c.flags|=2048,Fa(9,qm.bind(null,c,y,a,i),void 0,null),a},useId:function(){var r=ir(),i=Ct.identifierPrefix;if(Ze){var a=Dr,c=br;a=(c&~(1<<32-Wt(c)-1)).toString(32)+a,i=":"+i+"R"+a,a=La++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=P1++,i=":"+i+"r"+a.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},O1={readContext:Tn,useCallback:ng,useContext:Tn,useEffect:Zh,useImperativeHandle:tg,useInsertionEffect:Jm,useLayoutEffect:Zm,useMemo:rg,useReducer:Yh,useRef:Xm,useState:function(){return Yh(Ma)},useDebugValue:ed,useDeferredValue:function(r){var i=In();return sg(i,wt.memoizedState,r)},useTransition:function(){var r=Yh(Ma)[0],i=In().memoizedState;return[r,i]},useMutableSource:Bm,useSyncExternalStore:$m,useId:ig,unstable_isNewReconciler:!1},L1={readContext:Tn,useCallback:ng,useContext:Tn,useEffect:Zh,useImperativeHandle:tg,useInsertionEffect:Jm,useLayoutEffect:Zm,useMemo:rg,useReducer:Jh,useRef:Xm,useState:function(){return Jh(Ma)},useDebugValue:ed,useDeferredValue:function(r){var i=In();return wt===null?i.memoizedState=r:sg(i,wt.memoizedState,r)},useTransition:function(){var r=Jh(Ma)[0],i=In().memoizedState;return[r,i]},useMutableSource:Bm,useSyncExternalStore:$m,useId:ig,unstable_isNewReconciler:!1};function Fn(r,i){if(r&&r.defaultProps){i=oe({},i),r=r.defaultProps;for(var a in r)i[a]===void 0&&(i[a]=r[a]);return i}return i}function td(r,i,a,c){i=r.memoizedState,a=a(c,i),a=a==null?i:oe({},i,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Au={isMounted:function(r){return(r=r._reactInternals)?Nn(r)===r:!1},enqueueSetState:function(r,i,a){r=r._reactInternals;var c=Qt(),d=ms(r),y=Vr(c,d);y.payload=i,a!=null&&(y.callback=a),i=hs(r,y,d),i!==null&&(Bn(i,r,d,c),_u(i,r,d))},enqueueReplaceState:function(r,i,a){r=r._reactInternals;var c=Qt(),d=ms(r),y=Vr(c,d);y.tag=1,y.payload=i,a!=null&&(y.callback=a),i=hs(r,y,d),i!==null&&(Bn(i,r,d,c),_u(i,r,d))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var a=Qt(),c=ms(r),d=Vr(a,c);d.tag=2,i!=null&&(d.callback=i),i=hs(r,d,c),i!==null&&(Bn(i,r,c,a),_u(i,r,c))}};function ug(r,i,a,c,d,y,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,y,w):i.prototype&&i.prototype.isPureReactComponent?!Sa(a,c)||!Sa(d,y):!0}function cg(r,i,a){var c=!1,d=ls,y=i.contextType;return typeof y=="object"&&y!==null?y=Tn(y):(d=en(i)?ii:Mt.current,c=i.contextTypes,y=(c=c!=null)?fo(r,d):ls),i=new i(a,y),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Au,r.stateNode=i,i._reactInternals=r,c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=d,r.__reactInternalMemoizedMaskedChildContext=y),i}function hg(r,i,a,c){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==r&&Au.enqueueReplaceState(i,i.state,null)}function nd(r,i,a,c){var d=r.stateNode;d.props=a,d.state=r.memoizedState,d.refs={},Bh(r);var y=i.contextType;typeof y=="object"&&y!==null?d.context=Tn(y):(y=en(i)?ii:Mt.current,d.context=fo(r,y)),d.state=r.memoizedState,y=i.getDerivedStateFromProps,typeof y=="function"&&(td(r,i,y,a),d.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(i=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),i!==d.state&&Au.enqueueReplaceState(d,d.state,null),wu(r,a,d,c),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308)}function xo(r,i){try{var a="",c=i;do a+=Ce(c),c=c.return;while(c);var d=a}catch(y){d=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:i,stack:d,digest:null}}function rd(r,i,a){return{value:r,source:null,stack:a??null,digest:i??null}}function sd(r,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var M1=typeof WeakMap=="function"?WeakMap:Map;function dg(r,i,a){a=Vr(-1,a),a.tag=3,a.payload={element:null};var c=i.value;return a.callback=function(){ju||(ju=!0,_d=c),sd(r,i)},a}function fg(r,i,a){a=Vr(-1,a),a.tag=3;var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var d=i.value;a.payload=function(){return c(d)},a.callback=function(){sd(r,i)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(a.callback=function(){sd(r,i),typeof c!="function"&&(fs===null?fs=new Set([this]):fs.add(this));var w=i.stack;this.componentDidCatch(i.value,{componentStack:w!==null?w:""})}),a}function pg(r,i,a){var c=r.pingCache;if(c===null){c=r.pingCache=new M1;var d=new Set;c.set(i,d)}else d=c.get(i),d===void 0&&(d=new Set,c.set(i,d));d.has(a)||(d.add(a),r=J1.bind(null,r,i,a),i.then(r,r))}function mg(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function gg(r,i,a,c,d){return(r.mode&1)===0?(r===i?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=Vr(-1,1),i.tag=2,hs(a,i,1))),a.lanes|=1),r):(r.flags|=65536,r.lanes=d,r)}var F1=le.ReactCurrentOwner,tn=!1;function Kt(r,i,a,c){i.child=r===null?Om(i,null,a,c):yo(i,r.child,a,c)}function yg(r,i,a,c,d){a=a.render;var y=i.ref;return _o(i,d),c=Qh(r,i,a,c,y,d),a=Xh(),r!==null&&!tn?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~d,Or(r,i,d)):(Ze&&a&&bh(i),i.flags|=1,Kt(r,i,c,d),i.child)}function vg(r,i,a,c,d){if(r===null){var y=a.type;return typeof y=="function"&&!Cd(y)&&y.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=y,_g(r,i,y,c,d)):(r=Uu(a.type,null,c,i,i.mode,d),r.ref=i.ref,r.return=i,i.child=r)}if(y=r.child,(r.lanes&d)===0){var w=y.memoizedProps;if(a=a.compare,a=a!==null?a:Sa,a(w,c)&&r.ref===i.ref)return Or(r,i,d)}return i.flags|=1,r=ys(y,c),r.ref=i.ref,r.return=i,i.child=r}function _g(r,i,a,c,d){if(r!==null){var y=r.memoizedProps;if(Sa(y,c)&&r.ref===i.ref)if(tn=!1,i.pendingProps=c=y,(r.lanes&d)!==0)(r.flags&131072)!==0&&(tn=!0);else return i.lanes=r.lanes,Or(r,i,d)}return id(r,i,a,c,d)}function wg(r,i,a){var c=i.pendingProps,d=c.children,y=r!==null?r.memoizedState:null;if(c.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(To,pn),pn|=a;else{if((a&1073741824)===0)return r=y!==null?y.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,We(To,pn),pn|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=y!==null?y.baseLanes:a,We(To,pn),pn|=c}else y!==null?(c=y.baseLanes|a,i.memoizedState=null):c=a,We(To,pn),pn|=c;return Kt(r,i,d,a),i.child}function xg(r,i){var a=i.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function id(r,i,a,c,d){var y=en(a)?ii:Mt.current;return y=fo(i,y),_o(i,d),a=Qh(r,i,a,c,y,d),c=Xh(),r!==null&&!tn?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~d,Or(r,i,d)):(Ze&&c&&bh(i),i.flags|=1,Kt(r,i,a,d),i.child)}function Eg(r,i,a,c,d){if(en(a)){var y=!0;hu(i)}else y=!1;if(_o(i,d),i.stateNode===null)Ru(r,i),cg(i,a,c),nd(i,a,c,d),c=!0;else if(r===null){var w=i.stateNode,C=i.memoizedProps;w.props=C;var N=w.context,H=a.contextType;typeof H=="object"&&H!==null?H=Tn(H):(H=en(a)?ii:Mt.current,H=fo(i,H));var Y=a.getDerivedStateFromProps,J=typeof Y=="function"||typeof w.getSnapshotBeforeUpdate=="function";J||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(C!==c||N!==H)&&hg(i,w,c,H),cs=!1;var X=i.memoizedState;w.state=X,wu(i,c,w,d),N=i.memoizedState,C!==c||X!==N||Zt.current||cs?(typeof Y=="function"&&(td(i,a,Y,c),N=i.memoizedState),(C=cs||ug(i,a,C,c,X,N,H))?(J||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(i.flags|=4194308)):(typeof w.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=N),w.props=c,w.state=N,w.context=H,c=C):(typeof w.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{w=i.stateNode,Mm(r,i),C=i.memoizedProps,H=i.type===i.elementType?C:Fn(i.type,C),w.props=H,J=i.pendingProps,X=w.context,N=a.contextType,typeof N=="object"&&N!==null?N=Tn(N):(N=en(a)?ii:Mt.current,N=fo(i,N));var ie=a.getDerivedStateFromProps;(Y=typeof ie=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(C!==J||X!==N)&&hg(i,w,c,N),cs=!1,X=i.memoizedState,w.state=X,wu(i,c,w,d);var ce=i.memoizedState;C!==J||X!==ce||Zt.current||cs?(typeof ie=="function"&&(td(i,a,ie,c),ce=i.memoizedState),(H=cs||ug(i,a,H,c,X,ce,N)||!1)?(Y||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(c,ce,N),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(c,ce,N)),typeof w.componentDidUpdate=="function"&&(i.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof w.componentDidUpdate!="function"||C===r.memoizedProps&&X===r.memoizedState||(i.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&X===r.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=ce),w.props=c,w.state=ce,w.context=N,c=H):(typeof w.componentDidUpdate!="function"||C===r.memoizedProps&&X===r.memoizedState||(i.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&X===r.memoizedState||(i.flags|=1024),c=!1)}return od(r,i,a,c,y,d)}function od(r,i,a,c,d,y){xg(r,i);var w=(i.flags&128)!==0;if(!c&&!w)return d&&Am(i,a,!1),Or(r,i,y);c=i.stateNode,F1.current=i;var C=w&&typeof a.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,r!==null&&w?(i.child=yo(i,r.child,null,y),i.child=yo(i,null,C,y)):Kt(r,i,C,y),i.memoizedState=c.state,d&&Am(i,a,!0),i.child}function Tg(r){var i=r.stateNode;i.pendingContext?Sm(r,i.pendingContext,i.pendingContext!==i.context):i.context&&Sm(r,i.context,!1),$h(r,i.containerInfo)}function Ig(r,i,a,c,d){return go(),Oh(d),i.flags|=256,Kt(r,i,a,c),i.child}var ad={dehydrated:null,treeContext:null,retryLane:0};function ld(r){return{baseLanes:r,cachePool:null,transitions:null}}function Sg(r,i,a){var c=i.pendingProps,d=tt.current,y=!1,w=(i.flags&128)!==0,C;if((C=w)||(C=r!==null&&r.memoizedState===null?!1:(d&2)!==0),C?(y=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(d|=1),We(tt,d&1),r===null)return Vh(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((i.mode&1)===0?i.lanes=1:r.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(w=c.children,r=c.fallback,y?(c=i.mode,y=i.child,w={mode:"hidden",children:w},(c&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=w):y=zu(w,c,0,null),r=mi(r,c,a,null),y.return=i,r.return=i,y.sibling=r,i.child=y,i.child.memoizedState=ld(a),i.memoizedState=ad,r):ud(i,w));if(d=r.memoizedState,d!==null&&(C=d.dehydrated,C!==null))return U1(r,i,w,c,C,d,a);if(y){y=c.fallback,w=i.mode,d=r.child,C=d.sibling;var N={mode:"hidden",children:c.children};return(w&1)===0&&i.child!==d?(c=i.child,c.childLanes=0,c.pendingProps=N,i.deletions=null):(c=ys(d,N),c.subtreeFlags=d.subtreeFlags&14680064),C!==null?y=ys(C,y):(y=mi(y,w,a,null),y.flags|=2),y.return=i,c.return=i,c.sibling=y,i.child=c,c=y,y=i.child,w=r.child.memoizedState,w=w===null?ld(a):{baseLanes:w.baseLanes|a,cachePool:null,transitions:w.transitions},y.memoizedState=w,y.childLanes=r.childLanes&~a,i.memoizedState=ad,c}return y=r.child,r=y.sibling,c=ys(y,{mode:"visible",children:c.children}),(i.mode&1)===0&&(c.lanes=a),c.return=i,c.sibling=null,r!==null&&(a=i.deletions,a===null?(i.deletions=[r],i.flags|=16):a.push(r)),i.child=c,i.memoizedState=null,c}function ud(r,i){return i=zu({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function ku(r,i,a,c){return c!==null&&Oh(c),yo(i,r.child,null,a),r=ud(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function U1(r,i,a,c,d,y,w){if(a)return i.flags&256?(i.flags&=-257,c=rd(Error(t(422))),ku(r,i,w,c)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(y=c.fallback,d=i.mode,c=zu({mode:"visible",children:c.children},d,0,null),y=mi(y,d,w,null),y.flags|=2,c.return=i,y.return=i,c.sibling=y,i.child=c,(i.mode&1)!==0&&yo(i,r.child,null,w),i.child.memoizedState=ld(w),i.memoizedState=ad,y);if((i.mode&1)===0)return ku(r,i,w,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var C=c.dgst;return c=C,y=Error(t(419)),c=rd(y,c,void 0),ku(r,i,w,c)}if(C=(w&r.childLanes)!==0,tn||C){if(c=Ct,c!==null){switch(w&-w){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(c.suspendedLanes|w))!==0?0:d,d!==0&&d!==y.retryLane&&(y.retryLane=d,jr(r,d),Bn(c,r,d,-1))}return Sd(),c=rd(Error(t(421))),ku(r,i,w,c)}return d.data==="$?"?(i.flags|=128,i.child=r.child,i=Z1.bind(null,r),d._reactRetry=i,null):(r=y.treeContext,fn=os(d.nextSibling),dn=i,Ze=!0,Mn=null,r!==null&&(xn[En++]=br,xn[En++]=Dr,xn[En++]=oi,br=r.id,Dr=r.overflow,oi=i),i=ud(i,c.children),i.flags|=4096,i)}function Cg(r,i,a){r.lanes|=i;var c=r.alternate;c!==null&&(c.lanes|=i),Uh(r.return,i,a)}function cd(r,i,a,c,d){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=a,y.tailMode=d)}function Ag(r,i,a){var c=i.pendingProps,d=c.revealOrder,y=c.tail;if(Kt(r,i,c.children,a),c=tt.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Cg(r,a,i);else if(r.tag===19)Cg(r,a,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}if(We(tt,c),(i.mode&1)===0)i.memoizedState=null;else switch(d){case"forwards":for(a=i.child,d=null;a!==null;)r=a.alternate,r!==null&&xu(r)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),cd(i,!1,d,a,y);break;case"backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(r=d.alternate,r!==null&&xu(r)===null){i.child=d;break}r=d.sibling,d.sibling=a,a=d,d=r}cd(i,!0,a,null,y);break;case"together":cd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ru(r,i){(i.mode&1)===0&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function Or(r,i,a){if(r!==null&&(i.dependencies=r.dependencies),hi|=i.lanes,(a&i.childLanes)===0)return null;if(r!==null&&i.child!==r.child)throw Error(t(153));if(i.child!==null){for(r=i.child,a=ys(r,r.pendingProps),i.child=a,a.return=i;r.sibling!==null;)r=r.sibling,a=a.sibling=ys(r,r.pendingProps),a.return=i;a.sibling=null}return i.child}function z1(r,i,a){switch(i.tag){case 3:Tg(i),go();break;case 5:zm(i);break;case 1:en(i.type)&&hu(i);break;case 4:$h(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,d=i.memoizedProps.value;We(yu,c._currentValue),c._currentValue=d;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(We(tt,tt.current&1),i.flags|=128,null):(a&i.child.childLanes)!==0?Sg(r,i,a):(We(tt,tt.current&1),r=Or(r,i,a),r!==null?r.sibling:null);We(tt,tt.current&1);break;case 19:if(c=(a&i.childLanes)!==0,(r.flags&128)!==0){if(c)return Ag(r,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),We(tt,tt.current),c)break;return null;case 22:case 23:return i.lanes=0,wg(r,i,a)}return Or(r,i,a)}var kg,hd,Rg,Ng;kg=function(r,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},hd=function(){},Rg=function(r,i,a,c){var d=r.memoizedProps;if(d!==c){r=i.stateNode,ui(sr.current);var y=null;switch(a){case"input":d=Bs(r,d),c=Bs(r,c),y=[];break;case"select":d=oe({},d,{value:void 0}),c=oe({},c,{value:void 0}),y=[];break;case"textarea":d=ea(r,d),c=ea(r,c),y=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(r.onclick=lu)}oa(a,c);var w;a=null;for(H in d)if(!c.hasOwnProperty(H)&&d.hasOwnProperty(H)&&d[H]!=null)if(H==="style"){var C=d[H];for(w in C)C.hasOwnProperty(w)&&(a||(a={}),a[w]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(o.hasOwnProperty(H)?y||(y=[]):(y=y||[]).push(H,null));for(H in c){var N=c[H];if(C=d?.[H],c.hasOwnProperty(H)&&N!==C&&(N!=null||C!=null))if(H==="style")if(C){for(w in C)!C.hasOwnProperty(w)||N&&N.hasOwnProperty(w)||(a||(a={}),a[w]="");for(w in N)N.hasOwnProperty(w)&&C[w]!==N[w]&&(a||(a={}),a[w]=N[w])}else a||(y||(y=[]),y.push(H,a)),a=N;else H==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,C=C?C.__html:void 0,N!=null&&C!==N&&(y=y||[]).push(H,N)):H==="children"?typeof N!="string"&&typeof N!="number"||(y=y||[]).push(H,""+N):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(o.hasOwnProperty(H)?(N!=null&&H==="onScroll"&&Xe("scroll",r),y||C===N||(y=[])):(y=y||[]).push(H,N))}a&&(y=y||[]).push("style",a);var H=y;(i.updateQueue=H)&&(i.flags|=4)}},Ng=function(r,i,a,c){a!==c&&(i.flags|=4)};function Ua(r,i){if(!Ze)switch(r.tailMode){case"hidden":i=r.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function Ut(r){var i=r.alternate!==null&&r.alternate.child===r.child,a=0,c=0;if(i)for(var d=r.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=c,r.childLanes=a,i}function B1(r,i,a){var c=i.pendingProps;switch(Dh(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(i),null;case 1:return en(i.type)&&cu(),Ut(i),null;case 3:return c=i.stateNode,wo(),Ye(Zt),Ye(Mt),Wh(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(mu(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Mn!==null&&(Ed(Mn),Mn=null))),hd(r,i),Ut(i),null;case 5:Hh(i);var d=ui(Va.current);if(a=i.type,r!==null&&i.stateNode!=null)Rg(r,i,a,c,d),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(t(166));return Ut(i),null}if(r=ui(sr.current),mu(i)){c=i.stateNode,a=i.type;var y=i.memoizedProps;switch(c[rr]=i,c[Na]=y,r=(i.mode&1)!==0,a){case"dialog":Xe("cancel",c),Xe("close",c);break;case"iframe":case"object":case"embed":Xe("load",c);break;case"video":case"audio":for(d=0;d<Aa.length;d++)Xe(Aa[d],c);break;case"source":Xe("error",c);break;case"img":case"image":case"link":Xe("error",c),Xe("load",c);break;case"details":Xe("toggle",c);break;case"input":ji(c,y),Xe("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!y.multiple},Xe("invalid",c);break;case"textarea":Oi(c,y),Xe("invalid",c)}oa(a,y),d=null;for(var w in y)if(y.hasOwnProperty(w)){var C=y[w];w==="children"?typeof C=="string"?c.textContent!==C&&(y.suppressHydrationWarning!==!0&&au(c.textContent,C,r),d=["children",C]):typeof C=="number"&&c.textContent!==""+C&&(y.suppressHydrationWarning!==!0&&au(c.textContent,C,r),d=["children",""+C]):o.hasOwnProperty(w)&&C!=null&&w==="onScroll"&&Xe("scroll",c)}switch(a){case"input":wr(c),Dl(c,y,!0);break;case"textarea":wr(c),ta(c);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(c.onclick=lu)}c=d,i.updateQueue=c,c!==null&&(i.flags|=4)}else{w=d.nodeType===9?d:d.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=yt(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof c.is=="string"?r=w.createElement(a,{is:c.is}):(r=w.createElement(a),a==="select"&&(w=r,c.multiple?w.multiple=!0:c.size&&(w.size=c.size))):r=w.createElementNS(r,a),r[rr]=i,r[Na]=c,kg(r,i,!1,!1),i.stateNode=r;e:{switch(w=aa(a,c),a){case"dialog":Xe("cancel",r),Xe("close",r),d=c;break;case"iframe":case"object":case"embed":Xe("load",r),d=c;break;case"video":case"audio":for(d=0;d<Aa.length;d++)Xe(Aa[d],r);d=c;break;case"source":Xe("error",r),d=c;break;case"img":case"image":case"link":Xe("error",r),Xe("load",r),d=c;break;case"details":Xe("toggle",r),d=c;break;case"input":ji(r,c),d=Bs(r,c),Xe("invalid",r);break;case"option":d=c;break;case"select":r._wrapperState={wasMultiple:!!c.multiple},d=oe({},c,{value:void 0}),Xe("invalid",r);break;case"textarea":Oi(r,c),d=ea(r,c),Xe("invalid",r);break;default:d=c}oa(a,d),C=d;for(y in C)if(C.hasOwnProperty(y)){var N=C[y];y==="style"?sa(r,N):y==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,N!=null&&na(r,N)):y==="children"?typeof N=="string"?(a!=="textarea"||N!=="")&&Qr(r,N):typeof N=="number"&&Qr(r,""+N):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?N!=null&&y==="onScroll"&&Xe("scroll",r):N!=null&&te(r,y,N,w))}switch(a){case"input":wr(r),Dl(r,c,!1);break;case"textarea":wr(r),ta(r);break;case"option":c.value!=null&&r.setAttribute("value",""+Fe(c.value));break;case"select":r.multiple=!!c.multiple,y=c.value,y!=null?Er(r,!!c.multiple,y,!1):c.defaultValue!=null&&Er(r,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(r.onclick=lu)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Ut(i),null;case 6:if(r&&i.stateNode!=null)Ng(r,i,r.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(t(166));if(a=ui(Va.current),ui(sr.current),mu(i)){if(c=i.stateNode,a=i.memoizedProps,c[rr]=i,(y=c.nodeValue!==a)&&(r=dn,r!==null))switch(r.tag){case 3:au(c.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&au(c.nodeValue,a,(r.mode&1)!==0)}y&&(i.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[rr]=i,i.stateNode=c}return Ut(i),null;case 13:if(Ye(tt),c=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Ze&&fn!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Dm(),go(),i.flags|=98560,y=!1;else if(y=mu(i),c!==null&&c.dehydrated!==null){if(r===null){if(!y)throw Error(t(318));if(y=i.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[rr]=i}else go(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ut(i),y=!1}else Mn!==null&&(Ed(Mn),Mn=null),y=!0;if(!y)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=a,i):(c=c!==null,c!==(r!==null&&r.memoizedState!==null)&&c&&(i.child.flags|=8192,(i.mode&1)!==0&&(r===null||(tt.current&1)!==0?xt===0&&(xt=3):Sd())),i.updateQueue!==null&&(i.flags|=4),Ut(i),null);case 4:return wo(),hd(r,i),r===null&&ka(i.stateNode.containerInfo),Ut(i),null;case 10:return Fh(i.type._context),Ut(i),null;case 17:return en(i.type)&&cu(),Ut(i),null;case 19:if(Ye(tt),y=i.memoizedState,y===null)return Ut(i),null;if(c=(i.flags&128)!==0,w=y.rendering,w===null)if(c)Ua(y,!1);else{if(xt!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(w=xu(r),w!==null){for(i.flags|=128,Ua(y,!1),c=w.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=a,a=i.child;a!==null;)y=a,r=c,y.flags&=14680066,w=y.alternate,w===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=w.childLanes,y.lanes=w.lanes,y.child=w.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=w.memoizedProps,y.memoizedState=w.memoizedState,y.updateQueue=w.updateQueue,y.type=w.type,r=w.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return We(tt,tt.current&1|2),i.child}r=r.sibling}y.tail!==null&&qe()>Io&&(i.flags|=128,c=!0,Ua(y,!1),i.lanes=4194304)}else{if(!c)if(r=xu(w),r!==null){if(i.flags|=128,c=!0,a=r.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),Ua(y,!0),y.tail===null&&y.tailMode==="hidden"&&!w.alternate&&!Ze)return Ut(i),null}else 2*qe()-y.renderingStartTime>Io&&a!==1073741824&&(i.flags|=128,c=!0,Ua(y,!1),i.lanes=4194304);y.isBackwards?(w.sibling=i.child,i.child=w):(a=y.last,a!==null?a.sibling=w:i.child=w,y.last=w)}return y.tail!==null?(i=y.tail,y.rendering=i,y.tail=i.sibling,y.renderingStartTime=qe(),i.sibling=null,a=tt.current,We(tt,c?a&1|2:a&1),i):(Ut(i),null);case 22:case 23:return Id(),c=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==c&&(i.flags|=8192),c&&(i.mode&1)!==0?(pn&1073741824)!==0&&(Ut(i),i.subtreeFlags&6&&(i.flags|=8192)):Ut(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function $1(r,i){switch(Dh(i),i.tag){case 1:return en(i.type)&&cu(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return wo(),Ye(Zt),Ye(Mt),Wh(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 5:return Hh(i),null;case 13:if(Ye(tt),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(t(340));go()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return Ye(tt),null;case 4:return wo(),null;case 10:return Fh(i.type._context),null;case 22:case 23:return Id(),null;case 24:return null;default:return null}}var Nu=!1,zt=!1,H1=typeof WeakSet=="function"?WeakSet:Set,ue=null;function Eo(r,i){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){st(r,i,c)}else a.current=null}function dd(r,i,a){try{a()}catch(c){st(r,i,c)}}var Pg=!1;function q1(r,i){if(Ih=rs,r=um(),gh(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break e}var w=0,C=-1,N=-1,H=0,Y=0,J=r,X=null;t:for(;;){for(var ie;J!==a||d!==0&&J.nodeType!==3||(C=w+d),J!==y||c!==0&&J.nodeType!==3||(N=w+c),J.nodeType===3&&(w+=J.nodeValue.length),(ie=J.firstChild)!==null;)X=J,J=ie;for(;;){if(J===r)break t;if(X===a&&++H===d&&(C=w),X===y&&++Y===c&&(N=w),(ie=J.nextSibling)!==null)break;J=X,X=J.parentNode}J=ie}a=C===-1||N===-1?null:{start:C,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Sh={focusedElem:r,selectionRange:a},rs=!1,ue=i;ue!==null;)if(i=ue,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,ue=r;else for(;ue!==null;){i=ue;try{var ce=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ce!==null){var he=ce.memoizedProps,lt=ce.memoizedState,F=i.stateNode,j=F.getSnapshotBeforeUpdate(i.elementType===i.type?he:Fn(i.type,he),lt);F.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var U=i.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Z){st(i,i.return,Z)}if(r=i.sibling,r!==null){r.return=i.return,ue=r;break}ue=i.return}return ce=Pg,Pg=!1,ce}function za(r,i,a){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&r)===r){var y=d.destroy;d.destroy=void 0,y!==void 0&&dd(i,a,y)}d=d.next}while(d!==c)}}function Pu(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&r)===r){var c=a.create;a.destroy=c()}a=a.next}while(a!==i)}}function fd(r){var i=r.ref;if(i!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof i=="function"?i(r):i.current=r}}function bg(r){var i=r.alternate;i!==null&&(r.alternate=null,bg(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[rr],delete i[Na],delete i[Rh],delete i[A1],delete i[k1])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Dg(r){return r.tag===5||r.tag===3||r.tag===4}function jg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Dg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function pd(r,i,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(r,i):a.insertBefore(r,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(r,a)):(i=a,i.appendChild(r)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=lu));else if(c!==4&&(r=r.child,r!==null))for(pd(r,i,a),r=r.sibling;r!==null;)pd(r,i,a),r=r.sibling}function md(r,i,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,i?a.insertBefore(r,i):a.appendChild(r);else if(c!==4&&(r=r.child,r!==null))for(md(r,i,a),r=r.sibling;r!==null;)md(r,i,a),r=r.sibling}var Pt=null,Un=!1;function ds(r,i,a){for(a=a.child;a!==null;)Vg(r,i,a),a=a.sibling}function Vg(r,i,a){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(Ys,a)}catch{}switch(a.tag){case 5:zt||Eo(a,i);case 6:var c=Pt,d=Un;Pt=null,ds(r,i,a),Pt=c,Un=d,Pt!==null&&(Un?(r=Pt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Pt.removeChild(a.stateNode));break;case 18:Pt!==null&&(Un?(r=Pt,a=a.stateNode,r.nodeType===8?kh(r.parentNode,a):r.nodeType===1&&kh(r,a),Vn(r)):kh(Pt,a.stateNode));break;case 4:c=Pt,d=Un,Pt=a.stateNode.containerInfo,Un=!0,ds(r,i,a),Pt=c,Un=d;break;case 0:case 11:case 14:case 15:if(!zt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var y=d,w=y.destroy;y=y.tag,w!==void 0&&((y&2)!==0||(y&4)!==0)&&dd(a,i,w),d=d.next}while(d!==c)}ds(r,i,a);break;case 1:if(!zt&&(Eo(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(C){st(a,i,C)}ds(r,i,a);break;case 21:ds(r,i,a);break;case 22:a.mode&1?(zt=(c=zt)||a.memoizedState!==null,ds(r,i,a),zt=c):ds(r,i,a);break;default:ds(r,i,a)}}function Og(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new H1),i.forEach(function(c){var d=ex.bind(null,r,c);a.has(c)||(a.add(c),c.then(d,d))})}}function zn(r,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];try{var y=r,w=i,C=w;e:for(;C!==null;){switch(C.tag){case 5:Pt=C.stateNode,Un=!1;break e;case 3:Pt=C.stateNode.containerInfo,Un=!0;break e;case 4:Pt=C.stateNode.containerInfo,Un=!0;break e}C=C.return}if(Pt===null)throw Error(t(160));Vg(y,w,d),Pt=null,Un=!1;var N=d.alternate;N!==null&&(N.return=null),d.return=null}catch(H){st(d,i,H)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Lg(i,r),i=i.sibling}function Lg(r,i){var a=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(zn(i,r),or(r),c&4){try{za(3,r,r.return),Pu(3,r)}catch(he){st(r,r.return,he)}try{za(5,r,r.return)}catch(he){st(r,r.return,he)}}break;case 1:zn(i,r),or(r),c&512&&a!==null&&Eo(a,a.return);break;case 5:if(zn(i,r),or(r),c&512&&a!==null&&Eo(a,a.return),r.flags&32){var d=r.stateNode;try{Qr(d,"")}catch(he){st(r,r.return,he)}}if(c&4&&(d=r.stateNode,d!=null)){var y=r.memoizedProps,w=a!==null?a.memoizedProps:y,C=r.type,N=r.updateQueue;if(r.updateQueue=null,N!==null)try{C==="input"&&y.type==="radio"&&y.name!=null&&Jo(d,y),aa(C,w);var H=aa(C,y);for(w=0;w<N.length;w+=2){var Y=N[w],J=N[w+1];Y==="style"?sa(d,J):Y==="dangerouslySetInnerHTML"?na(d,J):Y==="children"?Qr(d,J):te(d,Y,J,H)}switch(C){case"input":Zo(d,y);break;case"textarea":Li(d,y);break;case"select":var X=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!y.multiple;var ie=y.value;ie!=null?Er(d,!!y.multiple,ie,!1):X!==!!y.multiple&&(y.defaultValue!=null?Er(d,!!y.multiple,y.defaultValue,!0):Er(d,!!y.multiple,y.multiple?[]:"",!1))}d[Na]=y}catch(he){st(r,r.return,he)}}break;case 6:if(zn(i,r),or(r),c&4){if(r.stateNode===null)throw Error(t(162));d=r.stateNode,y=r.memoizedProps;try{d.nodeValue=y}catch(he){st(r,r.return,he)}}break;case 3:if(zn(i,r),or(r),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Vn(i.containerInfo)}catch(he){st(r,r.return,he)}break;case 4:zn(i,r),or(r);break;case 13:zn(i,r),or(r),d=r.child,d.flags&8192&&(y=d.memoizedState!==null,d.stateNode.isHidden=y,!y||d.alternate!==null&&d.alternate.memoizedState!==null||(vd=qe())),c&4&&Og(r);break;case 22:if(Y=a!==null&&a.memoizedState!==null,r.mode&1?(zt=(H=zt)||Y,zn(i,r),zt=H):zn(i,r),or(r),c&8192){if(H=r.memoizedState!==null,(r.stateNode.isHidden=H)&&!Y&&(r.mode&1)!==0)for(ue=r,Y=r.child;Y!==null;){for(J=ue=Y;ue!==null;){switch(X=ue,ie=X.child,X.tag){case 0:case 11:case 14:case 15:za(4,X,X.return);break;case 1:Eo(X,X.return);var ce=X.stateNode;if(typeof ce.componentWillUnmount=="function"){c=X,a=X.return;try{i=c,ce.props=i.memoizedProps,ce.state=i.memoizedState,ce.componentWillUnmount()}catch(he){st(c,a,he)}}break;case 5:Eo(X,X.return);break;case 22:if(X.memoizedState!==null){Ug(J);continue}}ie!==null?(ie.return=X,ue=ie):Ug(J)}Y=Y.sibling}e:for(Y=null,J=r;;){if(J.tag===5){if(Y===null){Y=J;try{d=J.stateNode,H?(y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(C=J.stateNode,N=J.memoizedProps.style,w=N!=null&&N.hasOwnProperty("display")?N.display:null,C.style.display=ra("display",w))}catch(he){st(r,r.return,he)}}}else if(J.tag===6){if(Y===null)try{J.stateNode.nodeValue=H?"":J.memoizedProps}catch(he){st(r,r.return,he)}}else if((J.tag!==22&&J.tag!==23||J.memoizedState===null||J===r)&&J.child!==null){J.child.return=J,J=J.child;continue}if(J===r)break e;for(;J.sibling===null;){if(J.return===null||J.return===r)break e;Y===J&&(Y=null),J=J.return}Y===J&&(Y=null),J.sibling.return=J.return,J=J.sibling}}break;case 19:zn(i,r),or(r),c&4&&Og(r);break;case 21:break;default:zn(i,r),or(r)}}function or(r){var i=r.flags;if(i&2){try{e:{for(var a=r.return;a!==null;){if(Dg(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(Qr(d,""),c.flags&=-33);var y=jg(r);md(r,y,d);break;case 3:case 4:var w=c.stateNode.containerInfo,C=jg(r);pd(r,C,w);break;default:throw Error(t(161))}}catch(N){st(r,r.return,N)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function W1(r,i,a){ue=r,Mg(r)}function Mg(r,i,a){for(var c=(r.mode&1)!==0;ue!==null;){var d=ue,y=d.child;if(d.tag===22&&c){var w=d.memoizedState!==null||Nu;if(!w){var C=d.alternate,N=C!==null&&C.memoizedState!==null||zt;C=Nu;var H=zt;if(Nu=w,(zt=N)&&!H)for(ue=d;ue!==null;)w=ue,N=w.child,w.tag===22&&w.memoizedState!==null?zg(d):N!==null?(N.return=w,ue=N):zg(d);for(;y!==null;)ue=y,Mg(y),y=y.sibling;ue=d,Nu=C,zt=H}Fg(r)}else(d.subtreeFlags&8772)!==0&&y!==null?(y.return=d,ue=y):Fg(r)}}function Fg(r){for(;ue!==null;){var i=ue;if((i.flags&8772)!==0){var a=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:zt||Pu(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!zt)if(a===null)c.componentDidMount();else{var d=i.elementType===i.type?a.memoizedProps:Fn(i.type,a.memoizedProps);c.componentDidUpdate(d,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var y=i.updateQueue;y!==null&&Um(i,y,c);break;case 3:var w=i.updateQueue;if(w!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}Um(i,w,a)}break;case 5:var C=i.stateNode;if(a===null&&i.flags&4){a=C;var N=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":N.autoFocus&&a.focus();break;case"img":N.src&&(a.src=N.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var H=i.alternate;if(H!==null){var Y=H.memoizedState;if(Y!==null){var J=Y.dehydrated;J!==null&&Vn(J)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}zt||i.flags&512&&fd(i)}catch(X){st(i,i.return,X)}}if(i===r){ue=null;break}if(a=i.sibling,a!==null){a.return=i.return,ue=a;break}ue=i.return}}function Ug(r){for(;ue!==null;){var i=ue;if(i===r){ue=null;break}var a=i.sibling;if(a!==null){a.return=i.return,ue=a;break}ue=i.return}}function zg(r){for(;ue!==null;){var i=ue;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{Pu(4,i)}catch(N){st(i,a,N)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var d=i.return;try{c.componentDidMount()}catch(N){st(i,d,N)}}var y=i.return;try{fd(i)}catch(N){st(i,y,N)}break;case 5:var w=i.return;try{fd(i)}catch(N){st(i,w,N)}}}catch(N){st(i,i.return,N)}if(i===r){ue=null;break}var C=i.sibling;if(C!==null){C.return=i.return,ue=C;break}ue=i.return}}var G1=Math.ceil,bu=le.ReactCurrentDispatcher,gd=le.ReactCurrentOwner,Sn=le.ReactCurrentBatchConfig,Oe=0,Ct=null,ht=null,bt=0,pn=0,To=as(0),xt=0,Ba=null,hi=0,Du=0,yd=0,$a=null,nn=null,vd=0,Io=1/0,Lr=null,ju=!1,_d=null,fs=null,Vu=!1,ps=null,Ou=0,Ha=0,wd=null,Lu=-1,Mu=0;function Qt(){return(Oe&6)!==0?qe():Lu!==-1?Lu:Lu=qe()}function ms(r){return(r.mode&1)===0?1:(Oe&2)!==0&&bt!==0?bt&-bt:N1.transition!==null?(Mu===0&&(Mu=Zs()),Mu):(r=be,r!==0||(r=window.event,r=r===void 0?16:va(r.type)),r)}function Bn(r,i,a,c){if(50<Ha)throw Ha=0,wd=null,Error(t(185));Zr(r,a,c),((Oe&2)===0||r!==Ct)&&(r===Ct&&((Oe&2)===0&&(Du|=a),xt===4&&gs(r,bt)),rn(r,c),a===1&&Oe===0&&(i.mode&1)===0&&(Io=qe()+500,du&&us()))}function rn(r,i){var a=r.callbackNode;Sr(r,i);var c=Js(r,r===Ct?bt:0);if(c===0)a!==null&&fa(a),r.callbackNode=null,r.callbackPriority=0;else if(i=c&-c,r.callbackPriority!==i){if(a!=null&&fa(a),i===1)r.tag===0?R1($g.bind(null,r)):km($g.bind(null,r)),S1(function(){(Oe&6)===0&&us()}),a=null;else{switch(ts(c)){case 1:a=Xs;break;case 4:a=Xr;break;case 16:a=vn;break;case 536870912:a=Ml;break;default:a=vn}a=Yg(a,Bg.bind(null,r))}r.callbackPriority=i,r.callbackNode=a}}function Bg(r,i){if(Lu=-1,Mu=0,(Oe&6)!==0)throw Error(t(327));var a=r.callbackNode;if(So()&&r.callbackNode!==a)return null;var c=Js(r,r===Ct?bt:0);if(c===0)return null;if((c&30)!==0||(c&r.expiredLanes)!==0||i)i=Fu(r,c);else{i=c;var d=Oe;Oe|=2;var y=qg();(Ct!==r||bt!==i)&&(Lr=null,Io=qe()+500,fi(r,i));do try{X1();break}catch(C){Hg(r,C)}while(!0);Mh(),bu.current=y,Oe=d,ht!==null?i=0:(Ct=null,bt=0,i=xt)}if(i!==0){if(i===2&&(d=un(r),d!==0&&(c=d,i=xd(r,d))),i===1)throw a=Ba,fi(r,0),gs(r,c),rn(r,qe()),a;if(i===6)gs(r,c);else{if(d=r.current.alternate,(c&30)===0&&!K1(d)&&(i=Fu(r,c),i===2&&(y=un(r),y!==0&&(c=y,i=xd(r,y))),i===1))throw a=Ba,fi(r,0),gs(r,c),rn(r,qe()),a;switch(r.finishedWork=d,r.finishedLanes=c,i){case 0:case 1:throw Error(t(345));case 2:pi(r,nn,Lr);break;case 3:if(gs(r,c),(c&130023424)===c&&(i=vd+500-qe(),10<i)){if(Js(r,0)!==0)break;if(d=r.suspendedLanes,(d&c)!==c){Qt(),r.pingedLanes|=r.suspendedLanes&d;break}r.timeoutHandle=Ah(pi.bind(null,r,nn,Lr),i);break}pi(r,nn,Lr);break;case 4:if(gs(r,c),(c&4194240)===c)break;for(i=r.eventTimes,d=-1;0<c;){var w=31-Wt(c);y=1<<w,w=i[w],w>d&&(d=w),c&=~y}if(c=d,c=qe()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*G1(c/1960))-c,10<c){r.timeoutHandle=Ah(pi.bind(null,r,nn,Lr),c);break}pi(r,nn,Lr);break;case 5:pi(r,nn,Lr);break;default:throw Error(t(329))}}}return rn(r,qe()),r.callbackNode===a?Bg.bind(null,r):null}function xd(r,i){var a=$a;return r.current.memoizedState.isDehydrated&&(fi(r,i).flags|=256),r=Fu(r,i),r!==2&&(i=nn,nn=a,i!==null&&Ed(i)),r}function Ed(r){nn===null?nn=r:nn.push.apply(nn,r)}function K1(r){for(var i=r;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var d=a[c],y=d.getSnapshot;d=d.value;try{if(!Ln(y(),d))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function gs(r,i){for(i&=~yd,i&=~Du,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var a=31-Wt(i),c=1<<a;r[a]=-1,i&=~c}}function $g(r){if((Oe&6)!==0)throw Error(t(327));So();var i=Js(r,0);if((i&1)===0)return rn(r,qe()),null;var a=Fu(r,i);if(r.tag!==0&&a===2){var c=un(r);c!==0&&(i=c,a=xd(r,c))}if(a===1)throw a=Ba,fi(r,0),gs(r,i),rn(r,qe()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,pi(r,nn,Lr),rn(r,qe()),null}function Td(r,i){var a=Oe;Oe|=1;try{return r(i)}finally{Oe=a,Oe===0&&(Io=qe()+500,du&&us())}}function di(r){ps!==null&&ps.tag===0&&(Oe&6)===0&&So();var i=Oe;Oe|=1;var a=Sn.transition,c=be;try{if(Sn.transition=null,be=1,r)return r()}finally{be=c,Sn.transition=a,Oe=i,(Oe&6)===0&&us()}}function Id(){pn=To.current,Ye(To)}function fi(r,i){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,I1(a)),ht!==null)for(a=ht.return;a!==null;){var c=a;switch(Dh(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&cu();break;case 3:wo(),Ye(Zt),Ye(Mt),Wh();break;case 5:Hh(c);break;case 4:wo();break;case 13:Ye(tt);break;case 19:Ye(tt);break;case 10:Fh(c.type._context);break;case 22:case 23:Id()}a=a.return}if(Ct=r,ht=r=ys(r.current,null),bt=pn=i,xt=0,Ba=null,yd=Du=hi=0,nn=$a=null,li!==null){for(i=0;i<li.length;i++)if(a=li[i],c=a.interleaved,c!==null){a.interleaved=null;var d=c.next,y=a.pending;if(y!==null){var w=y.next;y.next=d,c.next=w}a.pending=c}li=null}return r}function Hg(r,i){do{var a=ht;try{if(Mh(),Eu.current=Cu,Tu){for(var c=nt.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}Tu=!1}if(ci=0,St=wt=nt=null,Oa=!1,La=0,gd.current=null,a===null||a.return===null){xt=1,Ba=i,ht=null;break}e:{var y=r,w=a.return,C=a,N=i;if(i=bt,C.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){var H=N,Y=C,J=Y.tag;if((Y.mode&1)===0&&(J===0||J===11||J===15)){var X=Y.alternate;X?(Y.updateQueue=X.updateQueue,Y.memoizedState=X.memoizedState,Y.lanes=X.lanes):(Y.updateQueue=null,Y.memoizedState=null)}var ie=mg(w);if(ie!==null){ie.flags&=-257,gg(ie,w,C,y,i),ie.mode&1&&pg(y,H,i),i=ie,N=H;var ce=i.updateQueue;if(ce===null){var he=new Set;he.add(N),i.updateQueue=he}else ce.add(N);break e}else{if((i&1)===0){pg(y,H,i),Sd();break e}N=Error(t(426))}}else if(Ze&&C.mode&1){var lt=mg(w);if(lt!==null){(lt.flags&65536)===0&&(lt.flags|=256),gg(lt,w,C,y,i),Oh(xo(N,C));break e}}y=N=xo(N,C),xt!==4&&(xt=2),$a===null?$a=[y]:$a.push(y),y=w;do{switch(y.tag){case 3:y.flags|=65536,i&=-i,y.lanes|=i;var F=dg(y,N,i);Fm(y,F);break e;case 1:C=N;var j=y.type,U=y.stateNode;if((y.flags&128)===0&&(typeof j.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(fs===null||!fs.has(U)))){y.flags|=65536,i&=-i,y.lanes|=i;var Z=fg(y,C,i);Fm(y,Z);break e}}y=y.return}while(y!==null)}Gg(a)}catch(de){i=de,ht===a&&a!==null&&(ht=a=a.return);continue}break}while(!0)}function qg(){var r=bu.current;return bu.current=Cu,r===null?Cu:r}function Sd(){(xt===0||xt===3||xt===2)&&(xt=4),Ct===null||(hi&268435455)===0&&(Du&268435455)===0||gs(Ct,bt)}function Fu(r,i){var a=Oe;Oe|=2;var c=qg();(Ct!==r||bt!==i)&&(Lr=null,fi(r,i));do try{Q1();break}catch(d){Hg(r,d)}while(!0);if(Mh(),Oe=a,bu.current=c,ht!==null)throw Error(t(261));return Ct=null,bt=0,xt}function Q1(){for(;ht!==null;)Wg(ht)}function X1(){for(;ht!==null&&!Ol();)Wg(ht)}function Wg(r){var i=Xg(r.alternate,r,pn);r.memoizedProps=r.pendingProps,i===null?Gg(r):ht=i,gd.current=null}function Gg(r){var i=r;do{var a=i.alternate;if(r=i.return,(i.flags&32768)===0){if(a=B1(a,i,pn),a!==null){ht=a;return}}else{if(a=$1(a,i),a!==null){a.flags&=32767,ht=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{xt=6,ht=null;return}}if(i=i.sibling,i!==null){ht=i;return}ht=i=r}while(i!==null);xt===0&&(xt=5)}function pi(r,i,a){var c=be,d=Sn.transition;try{Sn.transition=null,be=1,Y1(r,i,a,c)}finally{Sn.transition=d,be=c}return null}function Y1(r,i,a,c){do So();while(ps!==null);if((Oe&6)!==0)throw Error(t(327));a=r.finishedWork;var d=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var y=a.lanes|a.childLanes;if($e(r,y),r===Ct&&(ht=Ct=null,bt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Vu||(Vu=!0,Yg(vn,function(){return So(),null})),y=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||y){y=Sn.transition,Sn.transition=null;var w=be;be=1;var C=Oe;Oe|=4,gd.current=null,q1(r,a),Lg(a,r),y1(Sh),rs=!!Ih,Sh=Ih=null,r.current=a,W1(a),lh(),Oe=C,be=w,Sn.transition=y}else r.current=a;if(Vu&&(Vu=!1,ps=r,Ou=d),y=r.pendingLanes,y===0&&(fs=null),Fl(a.stateNode),rn(r,qe()),i!==null)for(c=r.onRecoverableError,a=0;a<i.length;a++)d=i[a],c(d.value,{componentStack:d.stack,digest:d.digest});if(ju)throw ju=!1,r=_d,_d=null,r;return(Ou&1)!==0&&r.tag!==0&&So(),y=r.pendingLanes,(y&1)!==0?r===wd?Ha++:(Ha=0,wd=r):Ha=0,us(),null}function So(){if(ps!==null){var r=ts(Ou),i=Sn.transition,a=be;try{if(Sn.transition=null,be=16>r?16:r,ps===null)var c=!1;else{if(r=ps,ps=null,Ou=0,(Oe&6)!==0)throw Error(t(331));var d=Oe;for(Oe|=4,ue=r.current;ue!==null;){var y=ue,w=y.child;if((ue.flags&16)!==0){var C=y.deletions;if(C!==null){for(var N=0;N<C.length;N++){var H=C[N];for(ue=H;ue!==null;){var Y=ue;switch(Y.tag){case 0:case 11:case 15:za(8,Y,y)}var J=Y.child;if(J!==null)J.return=Y,ue=J;else for(;ue!==null;){Y=ue;var X=Y.sibling,ie=Y.return;if(bg(Y),Y===H){ue=null;break}if(X!==null){X.return=ie,ue=X;break}ue=ie}}}var ce=y.alternate;if(ce!==null){var he=ce.child;if(he!==null){ce.child=null;do{var lt=he.sibling;he.sibling=null,he=lt}while(he!==null)}}ue=y}}if((y.subtreeFlags&2064)!==0&&w!==null)w.return=y,ue=w;else e:for(;ue!==null;){if(y=ue,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:za(9,y,y.return)}var F=y.sibling;if(F!==null){F.return=y.return,ue=F;break e}ue=y.return}}var j=r.current;for(ue=j;ue!==null;){w=ue;var U=w.child;if((w.subtreeFlags&2064)!==0&&U!==null)U.return=w,ue=U;else e:for(w=j;ue!==null;){if(C=ue,(C.flags&2048)!==0)try{switch(C.tag){case 0:case 11:case 15:Pu(9,C)}}catch(de){st(C,C.return,de)}if(C===w){ue=null;break e}var Z=C.sibling;if(Z!==null){Z.return=C.return,ue=Z;break e}ue=C.return}}if(Oe=d,us(),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(Ys,r)}catch{}c=!0}return c}finally{be=a,Sn.transition=i}}return!1}function Kg(r,i,a){i=xo(a,i),i=dg(r,i,1),r=hs(r,i,1),i=Qt(),r!==null&&(Zr(r,1,i),rn(r,i))}function st(r,i,a){if(r.tag===3)Kg(r,r,a);else for(;i!==null;){if(i.tag===3){Kg(i,r,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(fs===null||!fs.has(c))){r=xo(a,r),r=fg(i,r,1),i=hs(i,r,1),r=Qt(),i!==null&&(Zr(i,1,r),rn(i,r));break}}i=i.return}}function J1(r,i,a){var c=r.pingCache;c!==null&&c.delete(i),i=Qt(),r.pingedLanes|=r.suspendedLanes&a,Ct===r&&(bt&a)===a&&(xt===4||xt===3&&(bt&130023424)===bt&&500>qe()-vd?fi(r,0):yd|=a),rn(r,i)}function Qg(r,i){i===0&&((r.mode&1)===0?i=1:(i=Gi,Gi<<=1,(Gi&130023424)===0&&(Gi=4194304)));var a=Qt();r=jr(r,i),r!==null&&(Zr(r,i,a),rn(r,a))}function Z1(r){var i=r.memoizedState,a=0;i!==null&&(a=i.retryLane),Qg(r,a)}function ex(r,i){var a=0;switch(r.tag){case 13:var c=r.stateNode,d=r.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=r.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(i),Qg(r,a)}var Xg;Xg=function(r,i,a){if(r!==null)if(r.memoizedProps!==i.pendingProps||Zt.current)tn=!0;else{if((r.lanes&a)===0&&(i.flags&128)===0)return tn=!1,z1(r,i,a);tn=(r.flags&131072)!==0}else tn=!1,Ze&&(i.flags&1048576)!==0&&Rm(i,pu,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;Ru(r,i),r=i.pendingProps;var d=fo(i,Mt.current);_o(i,a),d=Qh(null,i,c,r,d,a);var y=Xh();return i.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,en(c)?(y=!0,hu(i)):y=!1,i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Bh(i),d.updater=Au,i.stateNode=d,d._reactInternals=i,nd(i,c,r,a),i=od(null,i,c,!0,y,a)):(i.tag=0,Ze&&y&&bh(i),Kt(null,i,d,a),i=i.child),i;case 16:c=i.elementType;e:{switch(Ru(r,i),r=i.pendingProps,d=c._init,c=d(c._payload),i.type=c,d=i.tag=nx(c),r=Fn(c,r),d){case 0:i=id(null,i,c,r,a);break e;case 1:i=Eg(null,i,c,r,a);break e;case 11:i=yg(null,i,c,r,a);break e;case 14:i=vg(null,i,c,Fn(c.type,r),a);break e}throw Error(t(306,c,""))}return i;case 0:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:Fn(c,d),id(r,i,c,d,a);case 1:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:Fn(c,d),Eg(r,i,c,d,a);case 3:e:{if(Tg(i),r===null)throw Error(t(387));c=i.pendingProps,y=i.memoizedState,d=y.element,Mm(r,i),wu(i,c,null,a);var w=i.memoizedState;if(c=w.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){d=xo(Error(t(423)),i),i=Ig(r,i,c,a,d);break e}else if(c!==d){d=xo(Error(t(424)),i),i=Ig(r,i,c,a,d);break e}else for(fn=os(i.stateNode.containerInfo.firstChild),dn=i,Ze=!0,Mn=null,a=Om(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(go(),c===d){i=Or(r,i,a);break e}Kt(r,i,c,a)}i=i.child}return i;case 5:return zm(i),r===null&&Vh(i),c=i.type,d=i.pendingProps,y=r!==null?r.memoizedProps:null,w=d.children,Ch(c,d)?w=null:y!==null&&Ch(c,y)&&(i.flags|=32),xg(r,i),Kt(r,i,w,a),i.child;case 6:return r===null&&Vh(i),null;case 13:return Sg(r,i,a);case 4:return $h(i,i.stateNode.containerInfo),c=i.pendingProps,r===null?i.child=yo(i,null,c,a):Kt(r,i,c,a),i.child;case 11:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:Fn(c,d),yg(r,i,c,d,a);case 7:return Kt(r,i,i.pendingProps,a),i.child;case 8:return Kt(r,i,i.pendingProps.children,a),i.child;case 12:return Kt(r,i,i.pendingProps.children,a),i.child;case 10:e:{if(c=i.type._context,d=i.pendingProps,y=i.memoizedProps,w=d.value,We(yu,c._currentValue),c._currentValue=w,y!==null)if(Ln(y.value,w)){if(y.children===d.children&&!Zt.current){i=Or(r,i,a);break e}}else for(y=i.child,y!==null&&(y.return=i);y!==null;){var C=y.dependencies;if(C!==null){w=y.child;for(var N=C.firstContext;N!==null;){if(N.context===c){if(y.tag===1){N=Vr(-1,a&-a),N.tag=2;var H=y.updateQueue;if(H!==null){H=H.shared;var Y=H.pending;Y===null?N.next=N:(N.next=Y.next,Y.next=N),H.pending=N}}y.lanes|=a,N=y.alternate,N!==null&&(N.lanes|=a),Uh(y.return,a,i),C.lanes|=a;break}N=N.next}}else if(y.tag===10)w=y.type===i.type?null:y.child;else if(y.tag===18){if(w=y.return,w===null)throw Error(t(341));w.lanes|=a,C=w.alternate,C!==null&&(C.lanes|=a),Uh(w,a,i),w=y.sibling}else w=y.child;if(w!==null)w.return=y;else for(w=y;w!==null;){if(w===i){w=null;break}if(y=w.sibling,y!==null){y.return=w.return,w=y;break}w=w.return}y=w}Kt(r,i,d.children,a),i=i.child}return i;case 9:return d=i.type,c=i.pendingProps.children,_o(i,a),d=Tn(d),c=c(d),i.flags|=1,Kt(r,i,c,a),i.child;case 14:return c=i.type,d=Fn(c,i.pendingProps),d=Fn(c.type,d),vg(r,i,c,d,a);case 15:return _g(r,i,i.type,i.pendingProps,a);case 17:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:Fn(c,d),Ru(r,i),i.tag=1,en(c)?(r=!0,hu(i)):r=!1,_o(i,a),cg(i,c,d),nd(i,c,d,a),od(null,i,c,!0,r,a);case 19:return Ag(r,i,a);case 22:return wg(r,i,a)}throw Error(t(156,i.tag))};function Yg(r,i){return qi(r,i)}function tx(r,i,a,c){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(r,i,a,c){return new tx(r,i,a,c)}function Cd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function nx(r){if(typeof r=="function")return Cd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===V)return 11;if(r===Ot)return 14}return 2}function ys(r,i){var a=r.alternate;return a===null?(a=Cn(r.tag,i,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=i,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,i=r.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function Uu(r,i,a,c,d,y){var w=2;if(c=r,typeof r=="function")Cd(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case D:return mi(a.children,d,y,i);case S:w=8,d|=8;break;case k:return r=Cn(12,a,i,d|2),r.elementType=k,r.lanes=y,r;case A:return r=Cn(13,a,i,d),r.elementType=A,r.lanes=y,r;case Qe:return r=Cn(19,a,i,d),r.elementType=Qe,r.lanes=y,r;case Be:return zu(a,d,y,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case R:w=10;break e;case P:w=9;break e;case V:w=11;break e;case Ot:w=14;break e;case Lt:w=16,c=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return i=Cn(w,a,i,d),i.elementType=r,i.type=c,i.lanes=y,i}function mi(r,i,a,c){return r=Cn(7,r,c,i),r.lanes=a,r}function zu(r,i,a,c){return r=Cn(22,r,c,i),r.elementType=Be,r.lanes=a,r.stateNode={isHidden:!1},r}function Ad(r,i,a){return r=Cn(6,r,null,i),r.lanes=a,r}function kd(r,i,a){return i=Cn(4,r.children!==null?r.children:[],r.key,i),i.lanes=a,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function rx(r,i,a,c,d){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jr(0),this.expirationTimes=Jr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jr(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Rd(r,i,a,c,d,y,w,C,N){return r=new rx(r,i,a,C,N),i===1?(i=1,y===!0&&(i|=8)):i=0,y=Cn(3,null,null,i),r.current=y,y.stateNode=r,y.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bh(y),r}function sx(r,i,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Te,key:c==null?null:""+c,children:r,containerInfo:i,implementation:a}}function Jg(r){if(!r)return ls;r=r._reactInternals;e:{if(Nn(r)!==r||r.tag!==1)throw Error(t(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(en(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(en(a))return Cm(r,a,i)}return i}function Zg(r,i,a,c,d,y,w,C,N){return r=Rd(a,c,!0,r,d,y,w,C,N),r.context=Jg(null),a=r.current,c=Qt(),d=ms(a),y=Vr(c,d),y.callback=i??null,hs(a,y,d),r.current.lanes=d,Zr(r,d,c),rn(r,c),r}function Bu(r,i,a,c){var d=i.current,y=Qt(),w=ms(d);return a=Jg(a),i.context===null?i.context=a:i.pendingContext=a,i=Vr(y,w),i.payload={element:r},c=c===void 0?null:c,c!==null&&(i.callback=c),r=hs(d,i,w),r!==null&&(Bn(r,d,w,y),_u(r,d,w)),w}function $u(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function ey(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<i?a:i}}function Nd(r,i){ey(r,i),(r=r.alternate)&&ey(r,i)}function ix(){return null}var ty=typeof reportError=="function"?reportError:function(r){console.error(r)};function Pd(r){this._internalRoot=r}Hu.prototype.render=Pd.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(t(409));Bu(r,i,null,null)},Hu.prototype.unmount=Pd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;di(function(){Bu(null,r,null,null)}),i[Nr]=null}};function Hu(r){this._internalRoot=r}Hu.prototype.unstable_scheduleHydration=function(r){if(r){var i=Hl();r={blockedOn:null,target:r,priority:i};for(var a=0;a<Zn.length&&i!==0&&i<Zn[a].priority;a++);Zn.splice(a,0,r),a===0&&Gl(r)}};function bd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function qu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function ny(){}function ox(r,i,a,c,d){if(d){if(typeof c=="function"){var y=c;c=function(){var H=$u(w);y.call(H)}}var w=Zg(i,c,r,0,null,!1,!1,"",ny);return r._reactRootContainer=w,r[Nr]=w.current,ka(r.nodeType===8?r.parentNode:r),di(),w}for(;d=r.lastChild;)r.removeChild(d);if(typeof c=="function"){var C=c;c=function(){var H=$u(N);C.call(H)}}var N=Rd(r,0,!1,null,null,!1,!1,"",ny);return r._reactRootContainer=N,r[Nr]=N.current,ka(r.nodeType===8?r.parentNode:r),di(function(){Bu(i,N,a,c)}),N}function Wu(r,i,a,c,d){var y=a._reactRootContainer;if(y){var w=y;if(typeof d=="function"){var C=d;d=function(){var N=$u(w);C.call(N)}}Bu(i,w,r,d)}else w=ox(a,i,r,d,c);return $u(w)}Bl=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var a=Yr(i.pendingLanes);a!==0&&(es(i,a|1),rn(i,qe()),(Oe&6)===0&&(Io=qe()+500,us()))}break;case 13:di(function(){var c=jr(r,1);if(c!==null){var d=Qt();Bn(c,r,1,d)}}),Nd(r,1)}},Ki=function(r){if(r.tag===13){var i=jr(r,134217728);if(i!==null){var a=Qt();Bn(i,r,134217728,a)}Nd(r,134217728)}},$l=function(r){if(r.tag===13){var i=ms(r),a=jr(r,i);if(a!==null){var c=Qt();Bn(a,r,i,c)}Nd(r,i)}},Hl=function(){return be},ql=function(r,i){var a=be;try{return be=r,i()}finally{be=a}},Fi=function(r,i,a){switch(i){case"input":if(Zo(r,a),i=a.name,a.type==="radio"&&i!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==r&&c.form===r.form){var d=uu(c);if(!d)throw Error(t(90));Di(c),Zo(c,d)}}}break;case"textarea":Li(r,a);break;case"select":i=a.value,i!=null&&Er(r,!!a.multiple,i,!1)}},Ws=Td,ua=di;var ax={usingClientEntryPoint:!1,Events:[Pa,co,uu,Yn,la,Td]},qa={findFiberByHostInstance:si,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lx={bundleType:qa.bundleType,version:qa.version,rendererPackageName:qa.rendererPackageName,rendererConfig:qa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:le.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=da(r),r===null?null:r.stateNode},findFiberByHostInstance:qa.findFiberByHostInstance||ix,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gu.isDisabled&&Gu.supportsFiber)try{Ys=Gu.inject(lx),ln=Gu}catch{}}return sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ax,sn.createPortal=function(r,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bd(i))throw Error(t(200));return sx(r,i,null,a)},sn.createRoot=function(r,i){if(!bd(r))throw Error(t(299));var a=!1,c="",d=ty;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(d=i.onRecoverableError)),i=Rd(r,1,!1,null,null,a,!1,c,d),r[Nr]=i.current,ka(r.nodeType===8?r.parentNode:r),new Pd(i)},sn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=da(i),r=r===null?null:r.stateNode,r},sn.flushSync=function(r){return di(r)},sn.hydrate=function(r,i,a){if(!qu(i))throw Error(t(200));return Wu(null,r,i,!0,a)},sn.hydrateRoot=function(r,i,a){if(!bd(r))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,d=!1,y="",w=ty;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(y=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),i=Zg(i,null,r,1,a??null,d,!1,y,w),r[Nr]=i.current,ka(r),c)for(r=0;r<c.length;r++)a=c[r],d=a._getVersion,d=d(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,d]:i.mutableSourceEagerHydrationData.push(a,d);return new Hu(i)},sn.render=function(r,i,a){if(!qu(i))throw Error(t(200));return Wu(null,r,i,!1,a)},sn.unmountComponentAtNode=function(r){if(!qu(r))throw Error(t(40));return r._reactRootContainer?(di(function(){Wu(null,null,r,!1,function(){r._reactRootContainer=null,r[Nr]=null})}),!0):!1},sn.unstable_batchedUpdates=Td,sn.unstable_renderSubtreeIntoContainer=function(r,i,a,c){if(!qu(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Wu(r,i,a,!1,c)},sn.version="18.3.1-next-f1338f8080-20240426",sn}var cy;function gx(){if(cy)return Vd.exports;cy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Vd.exports=mx(),Vd.exports}var hy;function yx(){if(hy)return Ku;hy=1;var n=gx();return Ku.createRoot=n.createRoot,Ku.hydrateRoot=n.hydrateRoot,Ku}var vx=yx();/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var dy="popstate";function _x(n={}){function e(s,o){let{pathname:l,search:h,hash:f}=s.location;return tf("",{pathname:l,search:h,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:al(o)}return xx(e,t,null,n)}function et(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Gn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wx(){return Math.random().toString(36).substring(2,10)}function fy(n,e){return{usr:n.state,key:n.key,idx:e}}function tf(n,e,t=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?$o(e):e,state:t,key:e&&e.key||s||wx()}}function al({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function $o(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function xx(n,e,t,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,h=o.history,f="POP",m=null,v=x();v==null&&(v=0,h.replaceState({...h.state,idx:v},""));function x(){return(h.state||{idx:null}).idx}function T(){f="POP";let b=x(),W=b==null?null:b-v;v=b,m&&m({action:f,location:$.location,delta:W})}function I(b,W){f="PUSH";let ee=tf($.location,b,W);v=x()+1;let te=fy(ee,v),le=$.createHref(ee);try{h.pushState(te,"",le)}catch(Ie){if(Ie instanceof DOMException&&Ie.name==="DataCloneError")throw Ie;o.location.assign(le)}l&&m&&m({action:f,location:$.location,delta:1})}function L(b,W){f="REPLACE";let ee=tf($.location,b,W);v=x();let te=fy(ee,v),le=$.createHref(ee);h.replaceState(te,"",le),l&&m&&m({action:f,location:$.location,delta:0})}function z(b){return Ex(b)}let $={get action(){return f},get location(){return n(o,h)},listen(b){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(dy,T),m=b,()=>{o.removeEventListener(dy,T),m=null}},createHref(b){return e(o,b)},createURL:z,encodeLocation(b){let W=z(b);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:I,replace:L,go(b){return h.go(b)}};return $}function Ex(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),et(t,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:al(n);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function Zv(n,e,t="/"){return Tx(n,e,t,!1)}function Tx(n,e,t,s){let o=typeof e=="string"?$o(e):e,l=zr(o.pathname||"/",t);if(l==null)return null;let h=e_(n);Ix(h);let f=null;for(let m=0;f==null&&m<h.length;++m){let v=Vx(l);f=Dx(h[m],v,s)}return f}function e_(n,e=[],t=[],s=""){let o=(l,h,f)=>{let m={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};m.relativePath.startsWith("/")&&(et(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length));let v=Ur([s,m.relativePath]),x=t.concat(m);l.children&&l.children.length>0&&(et(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),e_(l.children,e,x,v)),!(l.path==null&&!l.index)&&e.push({path:v,score:Px(v,l.index),routesMeta:x})};return n.forEach((l,h)=>{if(l.path===""||!l.path?.includes("?"))o(l,h);else for(let f of t_(l.path))o(l,h,f)}),e}function t_(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let h=t_(s.join("/")),f=[];return f.push(...h.map(m=>m===""?l:[l,m].join("/"))),o&&f.push(...h),f.map(m=>n.startsWith("/")&&m===""?"/":m)}function Ix(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:bx(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var Sx=/^:[\w-]+$/,Cx=3,Ax=2,kx=1,Rx=10,Nx=-2,py=n=>n==="*";function Px(n,e){let t=n.split("/"),s=t.length;return t.some(py)&&(s+=Nx),e&&(s+=Ax),t.filter(o=>!py(o)).reduce((o,l)=>o+(Sx.test(l)?Cx:l===""?kx:Rx),s)}function bx(n,e){return n.length===e.length&&n.slice(0,-1).every((s,o)=>s===e[o])?n[n.length-1]-e[e.length-1]:0}function Dx(n,e,t=!1){let{routesMeta:s}=n,o={},l="/",h=[];for(let f=0;f<s.length;++f){let m=s[f],v=f===s.length-1,x=l==="/"?e:e.slice(l.length)||"/",T=gc({path:m.relativePath,caseSensitive:m.caseSensitive,end:v},x),I=m.route;if(!T&&v&&t&&!s[s.length-1].route.index&&(T=gc({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},x)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:Ur([l,T.pathname]),pathnameBase:Fx(Ur([l,T.pathnameBase])),route:I}),T.pathnameBase!=="/"&&(l=Ur([l,T.pathnameBase]))}return h}function gc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=jx(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let l=o[0],h=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:s.reduce((v,{paramName:x,isOptional:T},I)=>{if(x==="*"){let z=f[I]||"";h=l.slice(0,l.length-z.length).replace(/(.)\/+$/,"$1")}const L=f[I];return T&&!L?v[x]=void 0:v[x]=(L||"").replace(/%2F/g,"/"),v},{}),pathname:l,pathnameBase:h,pattern:n}}function jx(n,e=!1,t=!0){Gn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,f,m)=>(s.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Vx(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function zr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}function Ox(n,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof n=="string"?$o(n):n;return{pathname:t?t.startsWith("/")?t:Lx(t,e):e,search:Ux(s),hash:zx(o)}}function Lx(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Md(n,e,t,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Mx(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Lf(n){let e=Mx(n);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Mf(n,e,t,s=!1){let o;typeof n=="string"?o=$o(n):(o={...n},et(!o.pathname||!o.pathname.includes("?"),Md("?","pathname","search",o)),et(!o.pathname||!o.pathname.includes("#"),Md("#","pathname","hash",o)),et(!o.search||!o.search.includes("#"),Md("#","search","hash",o)));let l=n===""||o.pathname==="",h=l?"/":o.pathname,f;if(h==null)f=t;else{let T=e.length-1;if(!s&&h.startsWith("..")){let I=h.split("/");for(;I[0]==="..";)I.shift(),T-=1;o.pathname=I.join("/")}f=T>=0?e[T]:"/"}let m=Ox(o,f),v=h&&h!=="/"&&h.endsWith("/"),x=(l||h===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(v||x)&&(m.pathname+="/"),m}var Ur=n=>n.join("/").replace(/\/\/+/g,"/"),Fx=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Ux=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,zx=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Bx(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var n_=["POST","PUT","PATCH","DELETE"];new Set(n_);var $x=["GET",...n_];new Set($x);var Ho=B.createContext(null);Ho.displayName="DataRouter";var Fc=B.createContext(null);Fc.displayName="DataRouterState";B.createContext(!1);var r_=B.createContext({isTransitioning:!1});r_.displayName="ViewTransition";var Hx=B.createContext(new Map);Hx.displayName="Fetchers";var qx=B.createContext(null);qx.displayName="Await";var Qn=B.createContext(null);Qn.displayName="Navigation";var wl=B.createContext(null);wl.displayName="Location";var vr=B.createContext({outlet:null,matches:[],isDataRoute:!1});vr.displayName="Route";var Ff=B.createContext(null);Ff.displayName="RouteError";function Wx(n,{relative:e}={}){et(qo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=B.useContext(Qn),{hash:o,pathname:l,search:h}=xl(n,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:Ur([t,l])),s.createHref({pathname:f,search:h,hash:o})}function qo(){return B.useContext(wl)!=null}function Gr(){return et(qo(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(wl).location}var s_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function i_(n){B.useContext(Qn).static||B.useLayoutEffect(n)}function o_(){let{isDataRoute:n}=B.useContext(vr);return n?iE():Gx()}function Gx(){et(qo(),"useNavigate() may be used only in the context of a <Router> component.");let n=B.useContext(Ho),{basename:e,navigator:t}=B.useContext(Qn),{matches:s}=B.useContext(vr),{pathname:o}=Gr(),l=JSON.stringify(Lf(s)),h=B.useRef(!1);return i_(()=>{h.current=!0}),B.useCallback((m,v={})=>{if(Gn(h.current,s_),!h.current)return;if(typeof m=="number"){t.go(m);return}let x=Mf(m,JSON.parse(l),o,v.relative==="path");n==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:Ur([e,x.pathname])),(v.replace?t.replace:t.push)(x,v.state,v)},[e,t,l,o,n])}B.createContext(null);function xl(n,{relative:e}={}){let{matches:t}=B.useContext(vr),{pathname:s}=Gr(),o=JSON.stringify(Lf(t));return B.useMemo(()=>Mf(n,JSON.parse(o),s,e==="path"),[n,o,s,e])}function Kx(n,e){return a_(n,e)}function a_(n,e,t,s){et(qo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=B.useContext(Qn),{matches:l}=B.useContext(vr),h=l[l.length-1],f=h?h.params:{},m=h?h.pathname:"/",v=h?h.pathnameBase:"/",x=h&&h.route;{let W=x&&x.path||"";l_(m,!x||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let T=Gr(),I;if(e){let W=typeof e=="string"?$o(e):e;et(v==="/"||W.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${W.pathname}" was given in the \`location\` prop.`),I=W}else I=T;let L=I.pathname||"/",z=L;if(v!=="/"){let W=v.replace(/^\//,"").split("/");z="/"+L.replace(/^\//,"").split("/").slice(W.length).join("/")}let $=Zv(n,{pathname:z});Gn(x||$!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),Gn($==null||$[$.length-1].route.element!==void 0||$[$.length-1].route.Component!==void 0||$[$.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=Zx($&&$.map(W=>Object.assign({},W,{params:Object.assign({},f,W.params),pathname:Ur([v,o.encodeLocation?o.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?v:Ur([v,o.encodeLocation?o.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),l,t,s);return e&&b?B.createElement(wl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},b):b}function Qx(){let n=sE(),e=Bx(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",n),h=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:l},"ErrorBoundary")," or"," ",B.createElement("code",{style:l},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),t?B.createElement("pre",{style:o},t):null,h)}var Xx=B.createElement(Qx,null),Yx=class extends B.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?B.createElement(vr.Provider,{value:this.props.routeContext},B.createElement(Ff.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Jx({routeContext:n,match:e,children:t}){let s=B.useContext(Ho);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(vr.Provider,{value:n},t)}function Zx(n,e=[],t=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,l=t?.errors;if(l!=null){let m=o.findIndex(v=>v.route.id&&l?.[v.route.id]!==void 0);et(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let h=!1,f=-1;if(t)for(let m=0;m<o.length;m++){let v=o[m];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(f=m),v.route.id){let{loaderData:x,errors:T}=t,I=v.route.loader&&!x.hasOwnProperty(v.route.id)&&(!T||T[v.route.id]===void 0);if(v.route.lazy||I){h=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((m,v,x)=>{let T,I=!1,L=null,z=null;t&&(T=l&&v.route.id?l[v.route.id]:void 0,L=v.route.errorElement||Xx,h&&(f<0&&x===0?(l_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,z=null):f===x&&(I=!0,z=v.route.hydrateFallbackElement||null)));let $=e.concat(o.slice(0,x+1)),b=()=>{let W;return T?W=L:I?W=z:v.route.Component?W=B.createElement(v.route.Component,null):v.route.element?W=v.route.element:W=m,B.createElement(Jx,{match:v,routeContext:{outlet:m,matches:$,isDataRoute:t!=null},children:W})};return t&&(v.route.ErrorBoundary||v.route.errorElement||x===0)?B.createElement(Yx,{location:t.location,revalidation:t.revalidation,component:L,error:T,children:b(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):b()},null)}function Uf(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eE(n){let e=B.useContext(Ho);return et(e,Uf(n)),e}function tE(n){let e=B.useContext(Fc);return et(e,Uf(n)),e}function nE(n){let e=B.useContext(vr);return et(e,Uf(n)),e}function zf(n){let e=nE(n),t=e.matches[e.matches.length-1];return et(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function rE(){return zf("useRouteId")}function sE(){let n=B.useContext(Ff),e=tE("useRouteError"),t=zf("useRouteError");return n!==void 0?n:e.errors?.[t]}function iE(){let{router:n}=eE("useNavigate"),e=zf("useNavigate"),t=B.useRef(!1);return i_(()=>{t.current=!0}),B.useCallback(async(o,l={})=>{Gn(t.current,s_),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...l}))},[n,e])}var my={};function l_(n,e,t){!e&&!my[n]&&(my[n]=!0,Gn(!1,t))}B.memo(oE);function oE({routes:n,future:e,state:t}){return a_(n,void 0,t,e)}function aE({to:n,replace:e,state:t,relative:s}){et(qo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=B.useContext(Qn);Gn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=B.useContext(vr),{pathname:h}=Gr(),f=o_(),m=Mf(n,Lf(l),h,s==="path"),v=JSON.stringify(m);return B.useEffect(()=>{f(JSON.parse(v),{replace:e,state:t,relative:s})},[f,v,s,e,t]),null}function gi(n){et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lE({basename:n="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:l=!1}){et(!qo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),f=B.useMemo(()=>({basename:h,navigator:o,static:l,future:{}}),[h,o,l]);typeof t=="string"&&(t=$o(t));let{pathname:m="/",search:v="",hash:x="",state:T=null,key:I="default"}=t,L=B.useMemo(()=>{let z=zr(m,h);return z==null?null:{location:{pathname:z,search:v,hash:x,state:T,key:I},navigationType:s}},[h,m,v,x,T,I,s]);return Gn(L!=null,`<Router basename="${h}"> is not able to match the URL "${m}${v}${x}" because it does not start with the basename, so the <Router> won't render anything.`),L==null?null:B.createElement(Qn.Provider,{value:f},B.createElement(wl.Provider,{children:e,value:L}))}function uE({children:n,location:e}){return Kx(nf(n),e)}function nf(n,e=[]){let t=[];return B.Children.forEach(n,(s,o)=>{if(!B.isValidElement(s))return;let l=[...e,o];if(s.type===B.Fragment){t.push.apply(t,nf(s.props.children,l));return}et(s.type===gi,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),et(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=nf(s.props.children,l)),t.push(h)}),t}var sc="get",ic="application/x-www-form-urlencoded";function Uc(n){return n!=null&&typeof n.tagName=="string"}function cE(n){return Uc(n)&&n.tagName.toLowerCase()==="button"}function hE(n){return Uc(n)&&n.tagName.toLowerCase()==="form"}function dE(n){return Uc(n)&&n.tagName.toLowerCase()==="input"}function fE(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function pE(n,e){return n.button===0&&(!e||e==="_self")&&!fE(n)}var Qu=null;function mE(){if(Qu===null)try{new FormData(document.createElement("form"),0),Qu=!1}catch{Qu=!0}return Qu}var gE=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fd(n){return n!=null&&!gE.has(n)?(Gn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ic}"`),null):n}function yE(n,e){let t,s,o,l,h;if(hE(n)){let f=n.getAttribute("action");s=f?zr(f,e):null,t=n.getAttribute("method")||sc,o=Fd(n.getAttribute("enctype"))||ic,l=new FormData(n)}else if(cE(n)||dE(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||f.getAttribute("action");if(s=m?zr(m,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||sc,o=Fd(n.getAttribute("formenctype"))||Fd(f.getAttribute("enctype"))||ic,l=new FormData(f,n),!mE()){let{name:v,type:x,value:T}=n;if(x==="image"){let I=v?`${v}.`:"";l.append(`${I}x`,"0"),l.append(`${I}y`,"0")}else v&&l.append(v,T)}}else{if(Uc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=sc,s=null,o=ic,h=n}return l&&o==="text/plain"&&(h=l,l=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:l,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Bf(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function vE(n,e,t){let s=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&zr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function _E(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function wE(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function xE(n,e,t){let s=await Promise.all(n.map(async o=>{let l=e.routes[o.route.id];if(l){let h=await _E(l,t);return h.links?h.links():[]}return[]}));return SE(s.flat(1).filter(wE).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function gy(n,e,t,s,o,l){let h=(m,v)=>t[v]?m.route.id!==t[v].route.id:!0,f=(m,v)=>t[v].pathname!==m.pathname||t[v].route.path?.endsWith("*")&&t[v].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,v)=>h(m,v)||f(m,v)):l==="data"?e.filter((m,v)=>{let x=s.routes[m.route.id];if(!x||!x.hasLoader)return!1;if(h(m,v)||f(m,v))return!0;if(m.route.shouldRevalidate){let T=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function EE(n,e,{includeHydrateFallback:t}={}){return TE(n.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function TE(n){return[...new Set(n)]}function IE(n){let e={},t=Object.keys(n).sort();for(let s of t)e[s]=n[s];return e}function SE(n,e){let t=new Set;return new Set(e),n.reduce((s,o)=>{let l=JSON.stringify(IE(o));return t.has(l)||(t.add(l),s.push({key:l,link:o})),s},[])}function u_(){let n=B.useContext(Ho);return Bf(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function CE(){let n=B.useContext(Fc);return Bf(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var $f=B.createContext(void 0);$f.displayName="FrameworkContext";function c_(){let n=B.useContext($f);return Bf(n,"You must render this element inside a <HydratedRouter> element"),n}function AE(n,e){let t=B.useContext($f),[s,o]=B.useState(!1),[l,h]=B.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:v,onMouseLeave:x,onTouchStart:T}=e,I=B.useRef(null);B.useEffect(()=>{if(n==="render"&&h(!0),n==="viewport"){let $=W=>{W.forEach(ee=>{h(ee.isIntersecting)})},b=new IntersectionObserver($,{threshold:.5});return I.current&&b.observe(I.current),()=>{b.disconnect()}}},[n]),B.useEffect(()=>{if(s){let $=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout($)}}},[s]);let L=()=>{o(!0)},z=()=>{o(!1),h(!1)};return t?n!=="intent"?[l,I,{}]:[l,I,{onFocus:Ga(f,L),onBlur:Ga(m,z),onMouseEnter:Ga(v,L),onMouseLeave:Ga(x,z),onTouchStart:Ga(T,L)}]:[!1,I,{}]}function Ga(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function kE({page:n,...e}){let{router:t}=u_(),s=B.useMemo(()=>Zv(t.routes,n,t.basename),[t.routes,n,t.basename]);return s?B.createElement(NE,{page:n,matches:s,...e}):null}function RE(n){let{manifest:e,routeModules:t}=c_(),[s,o]=B.useState([]);return B.useEffect(()=>{let l=!1;return xE(n,e,t).then(h=>{l||o(h)}),()=>{l=!0}},[n,e,t]),s}function NE({page:n,matches:e,...t}){let s=Gr(),{manifest:o,routeModules:l}=c_(),{basename:h}=u_(),{loaderData:f,matches:m}=CE(),v=B.useMemo(()=>gy(n,e,m,o,s,"data"),[n,e,m,o,s]),x=B.useMemo(()=>gy(n,e,m,o,s,"assets"),[n,e,m,o,s]),T=B.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let z=new Set,$=!1;if(e.forEach(W=>{let ee=o.routes[W.route.id];!ee||!ee.hasLoader||(!v.some(te=>te.route.id===W.route.id)&&W.route.id in f&&l[W.route.id]?.shouldRevalidate||ee.hasClientLoader?$=!0:z.add(W.route.id))}),z.size===0)return[];let b=vE(n,h,"data");return $&&z.size>0&&b.searchParams.set("_routes",e.filter(W=>z.has(W.route.id)).map(W=>W.route.id).join(",")),[b.pathname+b.search]},[h,f,s,o,v,e,n,l]),I=B.useMemo(()=>EE(x,o),[x,o]),L=RE(x);return B.createElement(B.Fragment,null,T.map(z=>B.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...t})),I.map(z=>B.createElement("link",{key:z,rel:"modulepreload",href:z,...t})),L.map(({key:z,link:$})=>B.createElement("link",{key:z,nonce:t.nonce,...$})))}function PE(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var h_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{h_&&(window.__reactRouterVersion="7.8.0")}catch{}function bE({basename:n,children:e,window:t}){let s=B.useRef();s.current==null&&(s.current=_x({window:t,v5Compat:!0}));let o=s.current,[l,h]=B.useState({action:o.action,location:o.location}),f=B.useCallback(m=>{B.startTransition(()=>h(m))},[h]);return B.useLayoutEffect(()=>o.listen(f),[o,f]),B.createElement(lE,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:o})}var d_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$n=B.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:l,replace:h,state:f,target:m,to:v,preventScrollReset:x,viewTransition:T,...I},L){let{basename:z}=B.useContext(Qn),$=typeof v=="string"&&d_.test(v),b,W=!1;if(typeof v=="string"&&$&&(b=v,h_))try{let k=new URL(window.location.href),R=v.startsWith("//")?new URL(k.protocol+v):new URL(v),P=zr(R.pathname,z);R.origin===k.origin&&P!=null?v=P+R.search+R.hash:W=!0}catch{Gn(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ee=Wx(v,{relative:o}),[te,le,Ie]=AE(s,I),Te=OE(v,{replace:h,state:f,target:m,preventScrollReset:x,relative:o,viewTransition:T});function D(k){e&&e(k),k.defaultPrevented||Te(k)}let S=B.createElement("a",{...I,...Ie,href:b||ee,onClick:W||l?e:D,ref:PE(L,le),target:m,"data-discover":!$&&t==="render"?"true":void 0});return te&&!$?B.createElement(B.Fragment,null,S,B.createElement(kE,{page:ee})):S});$n.displayName="Link";var DE=B.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:l,to:h,viewTransition:f,children:m,...v},x){let T=xl(h,{relative:v.relative}),I=Gr(),L=B.useContext(Fc),{navigator:z,basename:$}=B.useContext(Qn),b=L!=null&&zE(T)&&f===!0,W=z.encodeLocation?z.encodeLocation(T).pathname:T.pathname,ee=I.pathname,te=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;t||(ee=ee.toLowerCase(),te=te?te.toLowerCase():null,W=W.toLowerCase()),te&&$&&(te=zr(te,$)||te);const le=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let Ie=ee===W||!o&&ee.startsWith(W)&&ee.charAt(le)==="/",Te=te!=null&&(te===W||!o&&te.startsWith(W)&&te.charAt(W.length)==="/"),D={isActive:Ie,isPending:Te,isTransitioning:b},S=Ie?e:void 0,k;typeof s=="function"?k=s(D):k=[s,Ie?"active":null,Te?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let R=typeof l=="function"?l(D):l;return B.createElement($n,{...v,"aria-current":S,className:k,ref:x,style:R,to:h,viewTransition:f},typeof m=="function"?m(D):m)});DE.displayName="NavLink";var jE=B.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:l,method:h=sc,action:f,onSubmit:m,relative:v,preventScrollReset:x,viewTransition:T,...I},L)=>{let z=FE(),$=UE(f,{relative:v}),b=h.toLowerCase()==="get"?"get":"post",W=typeof f=="string"&&d_.test(f),ee=te=>{if(m&&m(te),te.defaultPrevented)return;te.preventDefault();let le=te.nativeEvent.submitter,Ie=le?.getAttribute("formmethod")||h;z(le||te.currentTarget,{fetcherKey:e,method:Ie,navigate:t,replace:o,state:l,relative:v,preventScrollReset:x,viewTransition:T})};return B.createElement("form",{ref:L,method:b,action:$,onSubmit:s?m:ee,...I,"data-discover":!W&&n==="render"?"true":void 0})});jE.displayName="Form";function VE(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function f_(n){let e=B.useContext(Ho);return et(e,VE(n)),e}function OE(n,{target:e,replace:t,state:s,preventScrollReset:o,relative:l,viewTransition:h}={}){let f=o_(),m=Gr(),v=xl(n,{relative:l});return B.useCallback(x=>{if(pE(x,e)){x.preventDefault();let T=t!==void 0?t:al(m)===al(v);f(n,{replace:T,state:s,preventScrollReset:o,relative:l,viewTransition:h})}},[m,f,v,t,s,e,n,o,l,h])}var LE=0,ME=()=>`__${String(++LE)}__`;function FE(){let{router:n}=f_("useSubmit"),{basename:e}=B.useContext(Qn),t=rE();return B.useCallback(async(s,o={})=>{let{action:l,method:h,encType:f,formData:m,body:v}=yE(s,e);if(o.navigate===!1){let x=o.fetcherKey||ME();await n.fetch(x,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:m,body:v,formMethod:o.method||h,formEncType:o.encType||f,flushSync:o.flushSync})}else await n.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:m,body:v,formMethod:o.method||h,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function UE(n,{relative:e}={}){let{basename:t}=B.useContext(Qn),s=B.useContext(vr);et(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...xl(n||".",{relative:e})},h=Gr();if(n==null){l.search=h.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(x=>x==="")){f.delete("index"),m.filter(T=>T).forEach(T=>f.append("index",T));let x=f.toString();l.search=x?`?${x}`:""}}return(!n||n===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Ur([t,l.pathname])),al(l)}function zE(n,{relative:e}={}){let t=B.useContext(r_);et(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=f_("useViewTransitionState"),o=xl(n,{relative:e});if(!t.isTransitioning)return!1;let l=zr(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=zr(t.nextLocation.pathname,s)||t.nextLocation.pathname;return gc(o.pathname,h)!=null||gc(o.pathname,l)!=null}const p_=B.createContext(),Hf=()=>{const n=B.useContext(p_);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n},BE=({children:n})=>{const[e,t]=B.useState(!1),[s,o]=B.useState(!0),l=(m,v)=>m==="admin"&&v==="admin@1234"?(t(!0),localStorage.setItem("isAdmin","true"),!0):!1,h=()=>{t(!1),localStorage.removeItem("isAdmin")};B.useEffect(()=>{localStorage.getItem("isAdmin")==="true"&&t(!0),o(!1)},[]);const f={isAdmin:e,login:l,logout:h,isLoading:s};return p.jsx(p_.Provider,{value:f,children:n})};/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),HE=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),yy=n=>{const e=HE(n);return e.charAt(0).toUpperCase()+e.slice(1)},m_=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),qE=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var WE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=B.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:o="",children:l,iconNode:h,...f},m)=>B.createElement("svg",{ref:m,...WE,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:m_("lucide",o),...!l&&!qE(f)&&{"aria-hidden":"true"},...f},[...h.map(([v,x])=>B.createElement(v,x)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=(n,e)=>{const t=B.forwardRef(({className:s,...o},l)=>B.createElement(GE,{ref:l,iconNode:e,className:m_(`lucide-${$E(yy(n))}`,`lucide-${n}`,s),...o}));return t.displayName=yy(n),t};/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Ud=Pe("arrow-right",KE);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],ll=Pe("award",QE);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],YE=Pe("building",XE);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],g_=Pe("circle-check-big",JE);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],y_=Pe("clock",ZE);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],tT=Pe("eye-off",eT);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],qf=Pe("eye",nT);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],sT=Pe("funnel",rT);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],oT=Pe("gift",iT);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],lT=Pe("grid-3x3",aT);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],ul=Pe("heart",uT);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],hT=Pe("list",cT);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],fT=Pe("lock",dT);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],mT=Pe("log-out",pT);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],v_=Pe("mail",gT);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],yc=Pe("map-pin",yT);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],_T=Pe("menu",vT);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],vc=Pe("message-circle",wT);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],__=Pe("package",xT);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],TT=Pe("palette",ET);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],_c=Pe("phone",IT);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],vy=Pe("plus",ST);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],AT=Pe("save",CT);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],RT=Pe("search",kT);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],PT=Pe("send",NT);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],rf=Pe("shield",bT);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],jT=Pe("sparkles",DT);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],OT=Pe("square-pen",VT);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Vo=Pe("star",LT);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],FT=Pe("target",MT);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],zT=Pe("trash-2",UT);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],$T=Pe("trending-up",BT);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],qT=Pe("truck",HT);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],sf=Pe("user",WT);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],wc=Pe("users",GT);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],zc=Pe("x",KT),QT=({isOpen:n,onClose:e})=>{const[t,s]=B.useState(""),[o,l]=B.useState(""),[h,f]=B.useState(!1),[m,v]=B.useState(""),[x,T]=B.useState(!1),{login:I}=Hf();if(!n)return null;const L=async $=>{$.preventDefault(),T(!0),v(""),await new Promise(b=>setTimeout(b,1e3)),I(t,o)?(e(),s(""),l("")):v("Invalid credentials. Please try again."),T(!1)},z=()=>{e(),s(""),l(""),v(""),f(!1)};return p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:p.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full transform transition-all duration-300 scale-100 max-h-[90vh] overflow-y-auto",children:[p.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[p.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-[#85193C] to-[#b51f50] bg-clip-text text-transparent",children:"Admin Login"}),p.jsx("button",{onClick:z,className:"text-gray-400 hover:text-gray-600 transition-colors p-1 hover:bg-gray-100 rounded-full",children:p.jsx(zc,{size:20})})]}),p.jsxs("form",{onSubmit:L,className:"p-6 space-y-6",children:[m&&p.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:m}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Username"}),p.jsxs("div",{className:"relative",children:[p.jsx(sf,{size:18,className:"absolute left-3 top-3 text-gray-400"}),p.jsx("input",{type:"text",value:t,onChange:$=>s($.target.value),className:"form-input pl-10",placeholder:"Enter username",required:!0})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),p.jsxs("div",{className:"relative",children:[p.jsx(fT,{size:18,className:"absolute left-3 top-3 text-gray-400"}),p.jsx("input",{type:h?"text":"password",value:o,onChange:$=>l($.target.value),className:"form-input pl-10 pr-10",placeholder:"Enter password",required:!0}),p.jsx("button",{type:"button",onClick:()=>f(!h),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:h?p.jsx(tT,{size:18}):p.jsx(qf,{size:18})})]})]}),p.jsx("button",{type:"submit",disabled:x,className:"w-full bg-gradient-to-r from-[#85193C] to-[#b51f50] text-white py-3 px-6 rounded-lg hover:shadow-lg focus:ring-2 focus:ring-[#85193C] focus:ring-offset-2 transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none font-medium",children:x?p.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[p.jsx("div",{className:"loading-spinner"}),p.jsx("span",{children:"Signing in..."})]}):"Sign In"}),p.jsxs("div",{className:"text-center text-sm text-gray-500 bg-gray-50 p-4 rounded-lg",children:[p.jsx("p",{className:"font-medium mb-2",children:"Demo Credentials:"}),p.jsxs("div",{className:"space-y-1",children:[p.jsxs("p",{children:["Username: ",p.jsx("code",{className:"bg-white px-2 py-1 rounded text-[#85193C] font-mono",children:"admin"})]}),p.jsxs("p",{children:["Password: ",p.jsx("code",{className:"bg-white px-2 py-1 rounded text-[#85193C] font-mono",children:"admin@1234"})]})]})]})]})]})})},XT=()=>{const[n,e]=B.useState(!1),[t,s]=B.useState(!1),o=Gr(),{isAdmin:l,logout:h}=Hf(),f=[{name:"Home",href:"/"},{name:"About",href:"/about"},{name:"Services",href:"/services"},{name:"Products",href:"/products"},{name:"Contact",href:"/contact"}],m=v=>o.pathname===v;return p.jsxs(p.Fragment,{children:[p.jsx("header",{className:"fixed w-full bg-white/95 backdrop-blur-sm shadow-lg z-50",children:p.jsxs("nav",{className:"container mx-auto px-4 py-3 lg:py-4",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs($n,{to:"/",className:"flex items-center space-x-2 lg:space-x-3",children:[p.jsx("div",{className:"w-8 h-8 lg:w-10 lg:h-10 bg-[#85193C] rounded-full flex items-center justify-center",children:p.jsx("span",{className:"text-white font-bold text-sm lg:text-lg",children:"HF"})}),p.jsx("span",{className:"text-lg lg:text-xl font-bold text-[#85193C]",children:"House of Festival"})]}),p.jsxs("div",{className:"hidden lg:flex items-center space-x-6 xl:space-x-8",children:[f.map(v=>p.jsxs($n,{to:v.href,className:`relative px-3 py-2 rounded-lg transition-all duration-300 hover:bg-red-50 text-sm xl:text-base ${m(v.href)?"text-[#85193C] bg-red-50":"text-gray-700 hover:text-[#85193C]"}`,children:[v.name,m(v.href)&&p.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-[#85193C] rounded-full"})]},v.name)),l?p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx($n,{to:"/admin",className:"bg-gradient-to-r from-[#85193C] to-[#b51f50] text-white px-4 py-2 rounded-lg text-sm font-medium hover:shadow-lg transition-all duration-300 transform hover:scale-105",children:"Admin Dashboard"}),p.jsx("button",{onClick:h,className:"text-gray-600 hover:text-[#85193C] transition-colors p-2 rounded-lg hover:bg-gray-100",title:"Logout",children:p.jsx(mT,{size:18})})]}):p.jsxs("button",{onClick:()=>s(!0),className:"flex items-center space-x-2 text-gray-600 hover:text-[#85193C] transition-colors px-3 py-2 rounded-lg hover:bg-gray-100",children:[p.jsx(sf,{size:18}),p.jsx("span",{className:"text-sm",children:"Login"})]})]}),p.jsx("button",{className:"lg:hidden text-gray-600 hover:text-[#85193C] transition-colors p-2",onClick:()=>e(!n),children:n?p.jsx(zc,{size:24}):p.jsx(_T,{size:24})})]}),n&&p.jsx("div",{className:"lg:hidden mt-4 py-4 border-t border-gray-200",children:p.jsxs("div",{className:"flex flex-col space-y-3",children:[f.map(v=>p.jsx($n,{to:v.href,onClick:()=>e(!1),className:`px-4 py-3 rounded-lg transition-all duration-300 text-center ${m(v.href)?"text-[#85193C] bg-red-50":"text-gray-700 hover:text-[#85193C] hover:bg-red-50"}`,children:v.name},v.name)),l?p.jsxs("div",{className:"flex flex-col space-y-2 pt-4 border-t border-gray-200",children:[p.jsx($n,{to:"/admin",onClick:()=>e(!1),className:"bg-gradient-to-r from-[#85193C] to-[#b51f50] text-white px-4 py-3 rounded-lg text-center font-medium",children:"Admin Dashboard"}),p.jsx("button",{onClick:()=>{h(),e(!1)},className:"text-[#85193C] px-4 py-3 text-center border border-[#85193C] rounded-lg hover:bg-red-50",children:"Logout"})]}):p.jsxs("button",{onClick:()=>{s(!0),e(!1)},className:"flex items-center justify-center space-x-2 text-gray-600 hover:text-[#85193C] px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50",children:[p.jsx(sf,{size:18}),p.jsx("span",{children:"Login"})]})]})})]})}),p.jsx(QT,{isOpen:t,onClose:()=>s(!1)})]})},YT=()=>p.jsx("footer",{className:"bg-[#85193C] text-white",children:p.jsxs("div",{className:"container mx-auto px-4 py-12",children:[p.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center mb-4",children:[p.jsx("div",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center mr-3",children:p.jsx("span",{className:"text-[#85193C] font-bold text-lg",children:"HF"})}),p.jsx("span",{className:"text-xl font-bold",children:"House of Festival"})]}),p.jsx("p",{className:"text-pink-100 leading-relaxed",children:"Celebrating traditions with elegance. Handcrafted festival essentials that bring joy and authenticity to every celebration."})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Links"}),p.jsxs("ul",{className:"space-y-2",children:[p.jsx("li",{children:p.jsx("a",{href:"/about",className:"text-pink-100 hover:text-white transition-colors",children:"About Us"})}),p.jsx("li",{children:p.jsx("a",{href:"/services",className:"text-pink-100 hover:text-white transition-colors",children:"Our Services"})}),p.jsx("li",{children:p.jsx("a",{href:"/products",className:"text-pink-100 hover:text-white transition-colors",children:"Products"})}),p.jsx("li",{children:p.jsx("a",{href:"/contact",className:"text-pink-100 hover:text-white transition-colors",children:"Contact"})})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Our Services"}),p.jsxs("ul",{className:"space-y-2",children:[p.jsx("li",{className:"text-pink-100",children:"Custom Handicraft Design"}),p.jsx("li",{className:"text-pink-100",children:"Bulk Festival Orders"}),p.jsx("li",{className:"text-pink-100",children:"Quality Assurance"}),p.jsx("li",{className:"text-pink-100",children:"Fast Shipping"})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Get in Touch"}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(yc,{className:"w-5 h-5 mr-3 text-pink-200"}),p.jsx("span",{className:"text-pink-100 text-sm",children:"Rajkot, Gujarat"})]}),p.jsxs("div",{className:"flex items-center",children:[p.jsx(_c,{className:"w-5 h-5 mr-3 text-pink-200"}),p.jsx("span",{className:"text-pink-100 text-sm",children:"+91 97129 23284"})]}),p.jsxs("div",{className:"flex items-center",children:[p.jsx(v_,{className:"w-5 h-5 mr-3 text-pink-200"}),p.jsx("span",{className:"text-pink-100 text-sm",children:"info@houseoffestival.com"})]})]})]})]}),p.jsxs("div",{className:"border-t border-pink-800 mt-8 pt-8 text-center",children:[p.jsxs("p",{className:"text-pink-100 flex items-center justify-center",children:["Made with ",p.jsx(ul,{className:"w-4 h-4 mx-2 text-pink-300"})," by House of Festival"]}),p.jsx("p",{className:"text-pink-200 text-sm mt-2",children:" 2024 House of Festival. All rights reserved."})]})]})}),JT=()=>{const n=[{icon:p.jsx(ul,{className:"w-8 h-8 md:w-12 md:h-12 text-[#85193C]"}),title:"Passion for Tradition",description:"We are deeply passionate about preserving and celebrating Indian cultural heritage through our products."},{icon:p.jsx(ll,{className:"w-8 h-8 md:w-12 md:h-12 text-[#85193C]"}),title:"Excellence in Craft",description:"Every product meets our highest standards of quality, ensuring authentic and durable festival essentials."},{icon:p.jsx(wc,{className:"w-8 h-8 md:w-12 md:h-12 text-[#85193C]"}),title:"Community Support",description:"We support local artisans and communities, creating sustainable livelihoods through traditional crafts."},{icon:p.jsx(Vo,{className:"w-8 h-8 md:w-12 md:h-12 text-[#85193C]"}),title:"Customer Delight",description:"Your satisfaction and joy during festivals is our ultimate measure of success."}];return p.jsxs("div",{className:"min-h-screen pt-16 md:pt-20 bg-white",children:[p.jsx("section",{className:"px-4 sm:px-6 md:px-8 lg:px-20 py-12 md:py-20 lg:py-32",children:p.jsx("div",{className:"max-w-7xl mx-auto",children:p.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 md:gap-12 items-center",children:[p.jsxs("div",{className:"space-y-6 md:space-y-8",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"inline-flex items-center rounded-full border text-xs font-semibold px-4 py-1.5 bg-orange-100 text-orange-800 border-orange-300",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[p.jsx("path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z"}),p.jsx("path",{d:"M20 3v4M22 5h-4M4 17v2M5 18H3"})]}),"Celebrating Excellence Since 2009"]}),p.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-bold leading-tight text-gray-900",children:["About ",p.jsx("span",{className:"text-[#85193C]",children:"House of"})," ",p.jsx("span",{className:"text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold bg-gradient-to-r from-yellow-400 to-[#85193C] bg-clip-text text-transparent",children:"Festival"})]}),p.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl text-gray-600 leading-relaxed",children:"Celebrating traditions with elegance for over 15 years"})]}),p.jsx("p",{className:"text-base sm:text-lg text-gray-500 leading-relaxed max-w-2xl",children:"We craft unforgettable experiences that honor cultural heritage while embracing modern sophistication. From intimate gatherings to grand celebrations, we bring your vision to life with meticulous attention to detail."}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[p.jsxs("button",{className:"inline-flex items-center justify-center gap-2 text-sm font-medium h-11 rounded-md bg-[#85193C] hover:bg-[#85193C]/90 text-white px-8 py-3 transition-colors duration-300",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mr-2 h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[p.jsx("path",{d:"M8 2v4M16 2v4M3 10h18M3 4h18v18H3z"}),p.jsx("path",{d:"M8 14h.01M12 14h.01M16 14h.01M8 18h.01M12 18h.01M16 18h.01"})]}),"Plan Your Event"]}),p.jsx("button",{className:"inline-flex items-center justify-center gap-2 text-sm font-medium h-11 rounded-md border border-[#85193C]/30 text-[#85193C] hover:bg-[#85193C]/5 px-8 py-3 transition-colors duration-300",children:"View Our Work"})]})]}),p.jsxs("div",{className:"relative mt-8 lg:mt-0",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[p.jsx("div",{className:"rounded-lg border border-yellow-500 bg-white/80 backdrop-blur-sm shadow-sm hover:border-[#85193C] hover:shadow-xl transition-all duration-300",children:p.jsxs("div",{className:"p-4 sm:p-6 text-center group",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 sm:h-10 sm:w-10 md:h-12 md:w-12 mx-auto mb-2 md:mb-4 text-yellow-400 group-hover:text-[#85193C] transition-colors duration-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[p.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),p.jsx("circle",{cx:"9",cy:"7",r:"4"}),p.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),p.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),p.jsx("h3",{className:"font-semibold text-lg sm:text-xl mb-1 sm:mb-2 text-yellow-400 group-hover:text-[#85193C] transition-colors duration-300",children:"5000+"}),p.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Happy Families"})]})}),p.jsx("div",{className:"rounded-2xl border border-[#85193C] bg-gradient-to-br from-white/80 to-white/60 backdrop-blur-md shadow-md hover:shadow-yellow-300/60 hover:shadow-xl hover:border-yellow-400 transition-all duration-300 transform hover:scale-105 group mt-6 sm:mt-8 md:mt-10",children:p.jsxs("div",{className:"p-4 sm:p-6 md:p-8 text-center",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 sm:h-10 sm:w-10 md:h-14 md:w-14 text-[#85193C] group-hover:text-yellow-500 mx-auto mb-2 md:mb-5 transition-colors duration-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[p.jsx("path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526"}),p.jsx("circle",{cx:"12",cy:"8",r:"6"})]}),p.jsx("h3",{className:"font-semibold text-lg sm:text-xl md:text-2xl text-[#85193C] group-hover:text-yellow-600 transition-colors duration-300 mb-1 sm:mb-2",children:"50+"}),p.jsx("p",{className:"text-xs sm:text-sm text-gray-600 group-hover:text-gray-700 transition-colors",children:"Awards Won"})]})}),p.jsx("div",{className:"group rounded-2xl border-2 border-[#85193C] bg-white/80 backdrop-blur-md shadow-md hover:border-yellow-400 transition-all duration-300 transform hover:scale-105",children:p.jsxs("div",{className:"p-4 sm:p-6 text-center",children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 sm:h-10 sm:w-10 md:h-12 md:w-12 text-[#85193C] group-hover:text-yellow-400 transition-colors duration-300 mx-auto mb-2 md:mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"})}),p.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-[#85193C] group-hover:text-yellow-600 transition-colors duration-300 mb-1 sm:mb-2",children:"15+"}),p.jsx("p",{className:"text-xs sm:text-sm text-gray-600 group-hover:text-gray-700 transition-colors duration-300",children:"Years Experience"})]})}),p.jsx("div",{className:"rounded-lg border border-yellow-500 bg-white/80 backdrop-blur-sm shadow-sm hover:border-[#85193C] hover:shadow-xl transition-all duration-300",children:p.jsxs("div",{className:"p-4 sm:p-6 text-center group transition-all duration-300",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 sm:h-10 sm:w-10 md:h-12 md:w-12 text-yellow-400 mx-auto mb-2 md:mb-4 group-hover:text-[#85193C] transition-colors duration-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[p.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),p.jsx("circle",{cx:"9",cy:"7",r:"4"}),p.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),p.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),p.jsx("h3",{className:"font-semibold text-lg sm:text-xl mb-1 sm:mb-2 text-yellow-400 group-hover:text-[#85193C] transition-colors duration-300",children:"10K+"}),p.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Products Made"})]})})]}),p.jsx("div",{className:"absolute -top-4 -right-4 w-16 h-16 md:w-24 md:h-24 bg-gradient-to-br from-[#85193C]/20 to-yellow-300/20 rounded-full blur-xl"}),p.jsx("div",{className:"absolute -bottom-8 -left-4 w-20 h-20 md:w-32 md:h-32 bg-gradient-to-br from-yellow-300/20 to-[#85193C]/20 rounded-full blur-xl"})]})]})})}),p.jsx("section",{className:"py-12 md:py-20 bg-gray-50",children:p.jsxs("div",{className:"container mx-auto px-4 sm:px-6 grid md:grid-cols-2 gap-8 md:gap-16 items-center",children:[p.jsx("div",{children:p.jsx("img",{src:"https://images.pexels.com/photos/1131555/pexels-photo-1131555.jpeg?auto=compress&cs=tinysrgb&w=800",alt:"Craftsman",className:"rounded-2xl shadow-xl hover:scale-105 transition-transform duration-500 w-full h-64 md:h-80 lg:h-96 object-cover"})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-[#85193C] mb-4 md:mb-6",children:"Our Story"}),p.jsx("p",{className:"text-base sm:text-lg text-gray-700 leading-relaxed mb-4",children:"At House of Festival, we blend tradition with craftsmanship. For over 15 years, we've collaborated with local artisans from Rajkot to preserve Indian culture."}),p.jsx("p",{className:"text-base sm:text-lg text-gray-700 leading-relaxed mb-4",children:"Our handmade products are not just festival items; they are a reflection of legacy, love, and culture  built to make every celebration truly special."})]})]})}),p.jsxs("section",{className:"py-16 md:py-24 bg-fixed bg-center bg-cover relative",style:{backgroundImage:"url(https://images.pexels.com/photos/1131555/pexels-photo-1131555.jpeg?auto=compress&cs=tinysrgb&w=1600)"},children:[p.jsx("div",{className:"absolute inset-0 bg-black/40"}),p.jsx("div",{className:"relative container mx-auto px-4 sm:px-6 grid lg:grid-cols-2 gap-8 md:gap-12 z-10",children:[{icon:p.jsx(FT,{className:"w-8 h-8 md:w-10 md:h-10 text-yellow-400 group-hover:text-white transition-all duration-300"}),title:"Our Mission",desc:"To revive the beauty of Indian festivals through handcrafted excellence and empower artisans to thrive in a modern world."},{icon:p.jsx(qf,{className:"w-8 h-8 md:w-10 md:h-10 text-yellow-400 group-hover:text-white transition-all duration-300"}),title:"Our Vision",desc:"To be a household name for festival dcor, spreading joy and cultural pride globally through traditional craftsmanship."}].map((e,t)=>p.jsxs("div",{className:"group bg-white/90 backdrop-blur-md border border-[#85193C]/10 p-6 md:p-8 rounded-3xl shadow-xl hover:shadow-2xl hover:scale-105 transition-transform duration-300",children:[p.jsx("div",{className:"flex justify-center mb-4 md:mb-6",children:p.jsx("div",{className:"bg-[#85193C] group-hover:bg-yellow-400 p-3 md:p-4 rounded-full shadow-lg transition-colors duration-300",children:e.icon})}),p.jsx("h3",{className:"text-xl md:text-2xl font-bold text-center text-yellow-500 group-hover:text-[#85193C] transition-colors duration-300",children:e.title}),p.jsx("p",{className:"text-gray-700 text-center text-base md:text-lg mt-4",children:e.desc})]},t))})]}),p.jsx("section",{className:"py-12 md:py-20 bg-pink-50",children:p.jsxs("div",{className:"container mx-auto px-4 sm:px-6",children:[p.jsxs("div",{className:"text-center mb-8 md:mb-12",children:[p.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-[#85193C] mb-4",children:"Our Values"}),p.jsx("p",{className:"text-base sm:text-lg text-gray-600",children:"Principles we live by and stand for."})]}),p.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-6 md:gap-8",children:n.map((e,t)=>p.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-2xl shadow-md hover:shadow-xl transform transition-transform hover:-translate-y-2 hover:scale-105 text-center",children:[p.jsx("div",{className:"mb-4 flex justify-center",children:p.jsx("div",{className:"bg-pink-100 p-3 md:p-4 rounded-full shadow-inner",children:e.icon})}),p.jsx("h4",{className:"text-lg md:text-xl font-bold text-[#85193C] mb-2",children:e.title}),p.jsx("p",{className:"text-gray-600 text-sm md:text-base",children:e.description})]},t))})]})}),p.jsx("section",{className:"py-12 md:py-20 bg-[#85193C] text-white",children:p.jsxs("div",{className:"container mx-auto px-4 sm:px-6",children:[p.jsxs("div",{className:"text-center mb-8 md:mb-12",children:[p.jsx("h2",{className:"text-3xl sm:text-4xl font-bold mb-4",children:"Our Artisan Partners"}),p.jsx("p",{className:"text-yellow-300 max-w-xl mx-auto text-base sm:text-lg",children:"Honoring the masters behind every creation  our artisans."})]}),p.jsx("div",{className:"grid sm:grid-cols-2 md:grid-cols-3 gap-6 md:gap-8",children:[{name:"Master Craftsman",specialty:"Traditional Decorations",experience:"25+ Years",image:"https://images.pexels.com/photos/1103970/pexels-photo-1103970.jpeg?auto=compress&cs=tinysrgb&w=800"},{name:"Heritage Artist",specialty:"Handmade Essentials",experience:"20+ Years",image:"https://images.pexels.com/photos/5727790/pexels-photo-5727790.jpeg?auto=compress&cs=tinysrgb&w=800"},{name:"Cultural Designer",specialty:"Festival Accessories",experience:"18+ Years",image:"https://images.pexels.com/photos/8088495/pexels-photo-8088495.jpeg?auto=compress&cs=tinysrgb&w=800"}].map((e,t)=>p.jsxs("div",{className:"bg-white/10 p-4 md:p-6 rounded-2xl backdrop-blur-lg hover:bg-white/20 transition-all hover:scale-105",children:[p.jsx("img",{src:e.image,alt:e.name,className:"w-20 h-20 md:w-24 md:h-24 object-cover rounded-full mx-auto mb-4 border-4 border-white/30"}),p.jsx("h3",{className:"text-lg md:text-xl font-bold mb-1 text-center",children:e.name}),p.jsx("p",{className:"text-yellow-200 text-center text-sm md:text-base",children:e.specialty}),p.jsx("p",{className:"text-yellow-200 font-semibold text-center text-sm md:text-base",children:e.experience})]},t))})]})}),p.jsx("section",{className:"py-12 md:py-20 bg-white",children:p.jsxs("div",{className:"container mx-auto px-4 sm:px-6",children:[p.jsx("div",{className:"text-center mb-8 md:mb-12",children:p.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-[#85193C]",children:"Our Journey in Numbers"})}),p.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-8",children:[{icon:p.jsx(ll,{className:"w-6 h-6 md:w-8 md:h-8 text-[#85193C]"}),number:"15+",label:"Years of Excellence"},{icon:p.jsx(wc,{className:"w-6 h-6 md:w-8 md:h-8 text-[#85193C]"}),number:"5000+",label:"Happy Customers"},{icon:p.jsx(ul,{className:"w-6 h-6 md:w-8 md:h-8 text-[#85193C]"}),number:"50+",label:"Artisan Partners"},{icon:p.jsx(Vo,{className:"w-6 h-6 md:w-8 md:h-8 text-[#85193C]"}),number:"10000+",label:"Products Crafted"}].map((e,t)=>p.jsxs("div",{className:"text-center bg-gray-100 p-4 md:p-8 rounded-2xl hover:shadow-xl hover:scale-105 transition-transform",children:[p.jsx("div",{className:"flex justify-center mb-2",children:e.icon}),p.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-[#85193C]",children:e.number}),p.jsx("p",{className:"text-gray-600 text-xs md:text-base",children:e.label})]},t))})]})})]})},ZT=()=>{const n=[{icon:p.jsx(TT,{className:"w-12 h-12 text-orange-500"}),title:"Custom Handicraft Design",description:"Personalized designs tailored to your specific festival needs and preferences. Our artisans work closely with you to create unique pieces that reflect your vision.",features:["Personalized consultation","Custom color schemes","Traditional motifs","Modern adaptations"],color:"from-orange-500 to-red-500"},{icon:p.jsx(__,{className:"w-12 h-12 text-blue-500"}),title:"Bulk Festival Product Orders",description:"Special pricing and dedicated service for bulk orders. Perfect for events, communities, and businesses celebrating festivals on a larger scale.",features:["Volume discounts","Priority processing","Flexible delivery","Corporate packages"],color:"from-blue-500 to-purple-500"},{icon:p.jsx(rf,{className:"w-12 h-12 text-green-500"}),title:"Premium Quality Assurance",description:"Every product undergoes rigorous quality checks to ensure you receive only the finest handcrafted items that meet our exacting standards.",features:["Multi-stage inspection","Durability testing","Authenticity guarantee","Satisfaction promise"],color:"from-green-500 to-teal-500"},{icon:p.jsx(qT,{className:"w-12 h-12 text-purple-500"}),title:"Fast and Reliable Shipping",description:"Secure packaging and timely delivery across India. We ensure your products reach you safely and on time for your celebrations.",features:["Nationwide delivery","Secure packaging","Real-time tracking","Express options"],color:"from-purple-500 to-pink-500"},{icon:p.jsx(oT,{className:"w-12 h-12 text-red-500"}),title:"Gift Packing & Branding Solutions",description:"Beautiful gift wrapping and custom branding options for corporate gifts and special occasions. Make every present memorable.",features:["Custom gift boxes","Branded packaging","Ribbon & accessories","Greeting cards"],color:"from-red-500 to-orange-500"},{icon:p.jsx(Vo,{className:"w-12 h-12 text-yellow-500"}),title:"Festival Consultation Services",description:"Expert guidance on selecting the perfect products for your specific festival celebrations. Get personalized recommendations from our specialists.",features:["Festival expertise","Product recommendations","Cultural guidance","Celebration planning"],color:"from-yellow-500 to-orange-500"}],e=[{step:"01",title:"Consultation",description:"Discuss your requirements and preferences with our experts"},{step:"02",title:"Design & Planning",description:"We create custom designs and plan the perfect solution for you"},{step:"03",title:"Crafting",description:"Our skilled artisans begin creating your handcrafted products"},{step:"04",title:"Quality Check",description:"Every item undergoes thorough quality inspection"},{step:"05",title:"Delivery",description:"Secure packaging and timely delivery to your doorstep"}];return p.jsxs("div",{className:"min-h-screen pt-20",children:[p.jsx("section",{className:"relative py-20 bg-gradient-to-r from-[#85193C] to-red-600",children:p.jsx("div",{className:"container mx-auto px-4 text-center text-white",children:p.jsxs("div",{children:[p.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-6",children:["Our ",p.jsx("span",{className:"text-yellow-300",children:"Services"})]}),p.jsx("p",{className:"text-lg md:text-xl lg:text-2xl max-w-3xl mx-auto leading-relaxed mb-8",children:"We don't just make products  we create joy"}),p.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-full px-6 py-3 inline-block",children:p.jsx("p",{className:"text-orange-100 font-semibold",children:"15+ Years of Excellence in Festival Services"})})]})})}),p.jsx("section",{className:"py-20 bg-gray-50",children:p.jsxs("div",{className:"container mx-auto px-4",children:[p.jsxs("div",{className:"text-center mb-16",children:[p.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Comprehensive Festival Solutions"}),p.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"From custom designs to quality assurance, we provide end-to-end services to make your festivals truly special"})]}),p.jsx("div",{className:"grid lg:grid-cols-2 gap-8",children:n.map((t,s)=>p.jsx("div",{className:"group bg-white rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2",children:p.jsxs("div",{className:"flex items-start space-x-6",children:[p.jsx("div",{className:`bg-gradient-to-r ${t.color} p-4 rounded-2xl group-hover:scale-110 transition-transform duration-300`,children:t.icon}),p.jsxs("div",{className:"flex-1",children:[p.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-4 group-hover:text-orange-600 transition-colors",children:t.title}),p.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:t.description}),p.jsx("div",{className:"grid grid-cols-2 gap-3",children:t.features.map((o,l)=>p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(g_,{className:"w-4 h-4 text-green-500"}),p.jsx("span",{className:"text-sm text-gray-600",children:o})]},l))})]})]})},s))})]})}),p.jsx("section",{className:"py-20 bg-white",children:p.jsxs("div",{className:"container mx-auto px-4",children:[p.jsxs("div",{className:"text-center mb-16",children:[p.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Our Process"}),p.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"From initial consultation to final delivery, we ensure a smooth and transparent process"})]}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"hidden md:block absolute top-1/2 left-0 right-0 h-1 bg-gradient-to-r from-orange-300 via-red-300 to-orange-300 transform -translate-y-1/2"}),p.jsx("div",{className:"grid md:grid-cols-5 gap-8",children:e.map((t,s)=>p.jsxs("div",{className:"relative group text-center",children:[p.jsx("div",{className:"relative z-10 bg-white rounded-full border-4 border-[#85193C] w-20 h-20 flex items-center justify-center mx-auto mb-6 group-hover:border-orange-500 transition-colors duration-300",children:p.jsx("span",{className:"text-2xl font-bold text-[#85193C] group-hover:text-orange-700 transition-colors",children:t.step})}),p.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-red-50 rounded-xl p-6 group-hover:shadow-lg transition-all duration-300",children:[p.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-3 group-hover:text-orange-600 transition-colors",children:t.title}),p.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:t.description})]})]},s))})]})]})}),p.jsx("section",{className:"py-20 bg-gradient-to-br from-orange-50 via-red-50 to-yellow-50",children:p.jsx("div",{className:"container mx-auto px-4",children:p.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[p.jsx("div",{children:p.jsx("img",{src:"https://images.pexels.com/photos/1131555/pexels-photo-1131555.jpeg?auto=compress&cs=tinysrgb&w=1600",alt:"Quality Assurance Process",className:"rounded-2xl shadow-2xl hover:shadow-3xl transition-all duration-500"})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-6",children:"Why Choose Our Services?"}),p.jsx("div",{className:"space-y-6",children:[{icon:p.jsx(ll,{className:"w-6 h-6 text-orange-500"}),title:"Expert Craftsmanship",description:"15+ years of experience with skilled artisans who understand traditional techniques"},{icon:p.jsx(y_,{className:"w-6 h-6 text-blue-500"}),title:"Timely Delivery",description:"We respect your celebration schedule and ensure on-time delivery"},{icon:p.jsx(rf,{className:"w-6 h-6 text-green-500"}),title:"Quality Guarantee",description:"Every product comes with our satisfaction guarantee and quality assurance"},{icon:p.jsx(Vo,{className:"w-6 h-6 text-yellow-500"}),title:"Personalized Service",description:"Dedicated support team to assist you throughout your journey with us"}].map((t,s)=>p.jsxs("div",{className:"flex items-start space-x-4",children:[p.jsx("div",{className:"bg-white p-3 rounded-lg shadow-md",children:t.icon}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:t.title}),p.jsx("p",{className:"text-gray-600",children:t.description})]})]},s))})]})]})})}),p.jsx("section",{className:"py-20",children:p.jsx("div",{className:"container mx-auto px-4 text-center",children:p.jsxs("div",{children:[p.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6 text-[#85193C]",children:"Ready to Get Started?"}),p.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-2xl mx-auto",children:"Contact us today to discuss your festival needs and discover how we can make your celebrations truly memorable."}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[p.jsxs("a",{href:"https://wa.me/916356065766",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center space-x-2 bg-green-500 text-white px-8 py-4 rounded-full text-lg font-semibold hover:bg-green-600 transition-all duration-300 transform hover:scale-105 hover:shadow-2xl",children:[p.jsx(vc,{className:"w-5 h-5"}),p.jsx("span",{children:"WhatsApp Us"})]}),p.jsxs("a",{href:"tel:+919712923284",className:"inline-flex items-center space-x-2 bg-white text-[#85193C] px-8 py-4 rounded-full text-lg font-semibold hover:bg-orange-50 transition-all duration-300 transform hover:scale-105 hover:shadow-2xl border-2 border-[#85193C]",children:[p.jsx(_c,{className:"w-5 h-5"}),p.jsx("span",{children:"Call Now"})]})]})]})})})]})},w_=({product:n,onEdit:e,onDelete:t,isAdmin:s=!1})=>{const[o,l]=B.useState(!0),[h,f]=B.useState(!1),m=()=>{const T=`Hi! I'm interested in the "${n.title}" - Size: ${n.size}, Color: ${n.color}, Price: ${n.price}. Please provide more details.`,I=`https://wa.me/916356065766?text=${encodeURIComponent(T)}`;window.open(I,"_blank")},v=()=>{l(!1)},x=()=>{l(!1),f(!0)};return p.jsxs("div",{className:"product-card group bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 overflow-hidden",children:[p.jsxs("div",{className:"relative overflow-hidden aspect-square",children:[o&&p.jsx("div",{className:"absolute inset-0 bg-gray-200 animate-pulse flex items-center justify-center",children:p.jsx("div",{className:"loading-spinner border-[#85193C]"})}),h?p.jsx("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center",children:p.jsxs("div",{className:"text-center text-gray-400",children:[p.jsx("div",{className:"text-4xl mb-2",children:""}),p.jsx("p",{className:"text-sm",children:"Image not available"})]})}):p.jsx("img",{src:n.image,alt:n.title,className:`w-full h-full object-cover transition-transform duration-700 group-hover:scale-110 ${o?"opacity-0":"opacity-100"}`,onLoad:v,onError:x}),p.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-300 flex items-center justify-center",children:p.jsxs("div",{className:"flex space-x-3 opacity-0 group-hover:opacity-100 transition-all duration-300 transform translate-y-4 group-hover:translate-y-0",children:[p.jsx("button",{className:"bg-white text-gray-800 p-2 rounded-full hover:bg-[#85193C] hover:text-white transition-colors transform hover:scale-110",children:p.jsx(qf,{size:18})}),p.jsx("button",{className:"bg-white text-gray-800 p-2 rounded-full hover:bg-[#85193C] hover:text-white transition-colors transform hover:scale-110",children:p.jsx(ul,{size:18})})]})}),p.jsx("div",{className:"absolute top-3 left-3",children:p.jsx("span",{className:"bg-gradient-to-r from-[#85193C] to-[#b51f50] text-white text-xs font-semibold px-3 py-1 rounded-full",children:n.category})})]}),p.jsxs("div",{className:"p-4 lg:p-6",children:[p.jsxs("div",{className:"flex items-start justify-between mb-3",children:[p.jsx("h3",{className:"text-base lg:text-lg font-bold text-gray-800 line-clamp-2 group-hover:text-[#85193C] transition-colors flex-1 mr-2",children:n.title}),p.jsxs("span",{className:"text-lg lg:text-xl font-bold text-[#85193C] whitespace-nowrap",children:["",n.price]})]}),p.jsxs("div",{className:"space-y-2 mb-4",children:[p.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[p.jsx("span",{className:"font-medium",children:"Size:"}),p.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded-full text-xs",children:n.size})]}),p.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[p.jsx("span",{className:"font-medium",children:"Color:"}),p.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded-full text-xs",children:n.color})]})]}),p.jsxs("div",{className:"flex flex-col space-y-3",children:[!s&&p.jsxs("button",{onClick:m,className:"w-full bg-gradient-to-r from-green-500 to-green-600 text-white py-2.5 lg:py-3 px-4 rounded-xl hover:from-green-600 hover:to-green-700 transition-all duration-300 transform hover:scale-105 flex items-center justify-center space-x-2 font-medium text-sm lg:text-base",children:[p.jsx(vc,{size:16}),p.jsx("span",{children:"WhatsApp Inquiry"})]}),s&&p.jsxs("div",{className:"flex space-x-2",children:[p.jsxs("button",{onClick:()=>e?.(n),className:"flex-1 bg-blue-500 text-white py-2 px-3 rounded-lg hover:bg-blue-600 transition-colors flex items-center justify-center space-x-1 text-sm",children:[p.jsx(OT,{size:14}),p.jsx("span",{children:"Edit"})]}),p.jsxs("button",{onClick:()=>t?.(n.id),className:"flex-1 bg-red-500 text-white py-2 px-3 rounded-lg hover:bg-red-600 transition-colors flex items-center justify-center space-x-1 text-sm",children:[p.jsx(zT,{size:14}),p.jsx("span",{children:"Delete"})]})]})]})]})]})};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI=()=>{};var _y={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let o=n.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},tI=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const o=n[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],h=n[t++],f=n[t++],m=((o&7)<<18|(l&63)<<12|(h&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],h=n[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},E_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<n.length;o+=3){const l=n[o],h=o+1<n.length,f=h?n[o+1]:0,m=o+2<n.length,v=m?n[o+2]:0,x=l>>2,T=(l&3)<<4|f>>4;let I=(f&15)<<2|v>>6,L=v&63;m||(L=64,h||(I=64)),s.push(t[x],t[T],t[I],t[L])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(x_(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):tI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],f=o<n.length?t[n.charAt(o)]:0;++o;const v=o<n.length?t[n.charAt(o)]:64;++o;const T=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||f==null||v==null||T==null)throw new nI;const I=l<<2|f>>4;if(s.push(I),v!==64){const L=f<<4&240|v>>2;if(s.push(L),T!==64){const z=v<<6&192|T;s.push(z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class nI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rI=function(n){const e=x_(n);return E_.encodeByteArray(e,!0)},xc=function(n){return rI(n).replace(/\./g,"")},T_=function(n){try{return E_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=()=>sI().__FIREBASE_DEFAULTS__,oI=()=>{if(typeof process>"u"||typeof _y>"u")return;const n=_y.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},aI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&T_(n[1]);return e&&JSON.parse(e)},Bc=()=>{try{return eI()||iI()||oI()||aI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},I_=n=>Bc()?.emulatorHosts?.[n],S_=n=>{const e=I_(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},C_=()=>Bc()?.config,A_=n=>Bc()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Wf(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[xc(JSON.stringify(t)),xc(JSON.stringify(h)),""].join(".")}const el={};function uI(){const n={prod:[],emulator:[]};for(const e of Object.keys(el))el[e]?n.emulator.push(e):n.prod.push(e);return n}function cI(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let wy=!1;function Gf(n,e){if(typeof window>"u"||typeof document>"u"||!Ms(window.location.host)||el[n]===e||el[n]||wy)return;el[n]=e;function t(I){return`__firebase__banner__${I}`}const s="__firebase__banner",l=uI().prod.length>0;function h(){const I=document.getElementById(s);I&&I.remove()}function f(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function m(I,L){I.setAttribute("width","24"),I.setAttribute("id",L),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function v(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{wy=!0,h()},I}function x(I,L){I.setAttribute("id",L),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function T(){const I=cI(s),L=t("text"),z=document.getElementById(L)||document.createElement("span"),$=t("learnmore"),b=document.getElementById($)||document.createElement("a"),W=t("preprendIcon"),ee=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const te=I.element;f(te),x(b,$);const le=v();m(ee,W),te.append(ee,z,b,le),document.body.appendChild(te)}l?(z.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,z.innerText="Preview backend running in this workspace."),z.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qt())}function dI(){const n=Bc()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function mI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gI(){const n=qt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function yI(){return!dI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vI(){try{return typeof indexedDB=="object"}catch{return!1}}function _I(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI="FirebaseError";class _r extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=wI,Object.setPrototypeOf(this,_r.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,El.prototype.create)}}class El{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?xI(l,s):"Error",f=`${this.serviceName}: ${h} (${o}).`;return new _r(o,f,s)}}function xI(n,e){return n.replace(EI,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const EI=/\{\$([^}]+)}/g;function TI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ti(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=n[o],h=e[o];if(xy(l)&&xy(h)){if(!Ti(l,h))return!1}else if(l!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function xy(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tl(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function II(n,e){const t=new SI(n,e);return t.subscribe.bind(t)}class SI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");CI(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=zd),o.error===void 0&&(o.error=zd),o.complete===void 0&&(o.complete=zd);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CI(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function zd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(n){return n&&n._delegate?n._delegate:n}class Ps{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new lI;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(RI(e))try{this.getOrInitializeService({instanceIdentifier:yi})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=yi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=yi){return this.instances.has(e)}getOptions(e=yi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,h]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&h.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:kI(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=yi){return this.component?this.component.multipleInstances?e:yi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kI(n){return n===yi?void 0:n}function RI(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new AI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ke||(ke={}));const PI={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},bI=ke.INFO,DI={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},jI=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),o=DI[e];if(o)console[o](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Kf{constructor(e){this.name=e,this._logLevel=bI,this._logHandler=jI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const VI=(n,e)=>e.some(t=>n instanceof t);let Ey,Ty;function OI(){return Ey||(Ey=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LI(){return Ty||(Ty=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const R_=new WeakMap,of=new WeakMap,N_=new WeakMap,Bd=new WeakMap,Qf=new WeakMap;function MI(n){const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",h)},l=()=>{t(Cs(n.result)),o()},h=()=>{s(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&R_.set(t,n)}).catch(()=>{}),Qf.set(e,n),e}function FI(n){if(of.has(n))return;const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",h),n.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{s(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",h),n.addEventListener("abort",h)});of.set(n,e)}let af={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return of.get(n);if(e==="objectStoreNames")return n.objectStoreNames||N_.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Cs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function UI(n){af=n(af)}function zI(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call($d(this),e,...t);return N_.set(s,e.sort?e.sort():[e]),Cs(s)}:LI().includes(n)?function(...e){return n.apply($d(this),e),Cs(R_.get(this))}:function(...e){return Cs(n.apply($d(this),e))}}function BI(n){return typeof n=="function"?zI(n):(n instanceof IDBTransaction&&FI(n),VI(n,OI())?new Proxy(n,af):n)}function Cs(n){if(n instanceof IDBRequest)return MI(n);if(Bd.has(n))return Bd.get(n);const e=BI(n);return e!==n&&(Bd.set(n,e),Qf.set(e,n)),e}const $d=n=>Qf.get(n);function $I(n,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const h=indexedDB.open(n,e),f=Cs(h);return s&&h.addEventListener("upgradeneeded",m=>{s(Cs(h.result),m.oldVersion,m.newVersion,Cs(h.transaction),m)}),t&&h.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),o&&m.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),f}const HI=["get","getKey","getAll","getAllKeys","count"],qI=["put","add","delete","clear"],Hd=new Map;function Iy(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Hd.get(e))return Hd.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=qI.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||HI.includes(t)))return;const l=async function(h,...f){const m=this.transaction(h,o?"readwrite":"readonly");let v=m.store;return s&&(v=v.index(f.shift())),(await Promise.all([v[t](...f),o&&m.done]))[0]};return Hd.set(e,l),l}UI(n=>({...n,get:(e,t,s)=>Iy(e,t)||n.get(e,t,s),has:(e,t)=>!!Iy(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(GI(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function GI(n){return n.getComponent()?.type==="VERSION"}const lf="@firebase/app",Sy="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br=new Kf("@firebase/app"),KI="@firebase/app-compat",QI="@firebase/analytics-compat",XI="@firebase/analytics",YI="@firebase/app-check-compat",JI="@firebase/app-check",ZI="@firebase/auth",eS="@firebase/auth-compat",tS="@firebase/database",nS="@firebase/data-connect",rS="@firebase/database-compat",sS="@firebase/functions",iS="@firebase/functions-compat",oS="@firebase/installations",aS="@firebase/installations-compat",lS="@firebase/messaging",uS="@firebase/messaging-compat",cS="@firebase/performance",hS="@firebase/performance-compat",dS="@firebase/remote-config",fS="@firebase/remote-config-compat",pS="@firebase/storage",mS="@firebase/storage-compat",gS="@firebase/firestore",yS="@firebase/ai",vS="@firebase/firestore-compat",_S="firebase",wS="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf="[DEFAULT]",xS={[lf]:"fire-core",[KI]:"fire-core-compat",[XI]:"fire-analytics",[QI]:"fire-analytics-compat",[JI]:"fire-app-check",[YI]:"fire-app-check-compat",[ZI]:"fire-auth",[eS]:"fire-auth-compat",[tS]:"fire-rtdb",[nS]:"fire-data-connect",[rS]:"fire-rtdb-compat",[sS]:"fire-fn",[iS]:"fire-fn-compat",[oS]:"fire-iid",[aS]:"fire-iid-compat",[lS]:"fire-fcm",[uS]:"fire-fcm-compat",[cS]:"fire-perf",[hS]:"fire-perf-compat",[dS]:"fire-rc",[fS]:"fire-rc-compat",[pS]:"fire-gcs",[mS]:"fire-gcs-compat",[gS]:"fire-fst",[vS]:"fire-fst-compat",[yS]:"fire-vertex","fire-js":"fire-js",[_S]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl=new Map,ES=new Map,cf=new Map;function Cy(n,e){try{n.container.addComponent(e)}catch(t){Br.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ii(n){const e=n.name;if(cf.has(e))return Br.debug(`There were multiple attempts to register component ${e}.`),!1;cf.set(e,n);for(const t of cl.values())Cy(t,n);for(const t of ES.values())Cy(t,n);return!0}function $c(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Hn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},As=new El("app","Firebase",TS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw As.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni=wS;function P_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s={name:uf,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw As.create("bad-app-name",{appName:String(o)});if(t||(t=C_()),!t)throw As.create("no-options");const l=cl.get(o);if(l){if(Ti(t,l.options)&&Ti(s,l.config))return l;throw As.create("duplicate-app",{appName:o})}const h=new NI(o);for(const m of cf.values())h.addComponent(m);const f=new IS(t,s,h);return cl.set(o,f),f}function Xf(n=uf){const e=cl.get(n);if(!e&&n===uf&&C_())return P_();if(!e)throw As.create("no-app",{appName:n});return e}function Ay(){return Array.from(cl.values())}function ur(n,e,t){let s=xS[n]??n;t&&(s+=`-${t}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&h.push("and"),l&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Br.warn(h.join(" "));return}Ii(new Ps(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS="firebase-heartbeat-database",CS=1,hl="firebase-heartbeat-store";let qd=null;function b_(){return qd||(qd=$I(SS,CS,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(hl)}catch(t){console.warn(t)}}}}).catch(n=>{throw As.create("idb-open",{originalErrorMessage:n.message})})),qd}async function AS(n){try{const t=(await b_()).transaction(hl),s=await t.objectStore(hl).get(D_(n));return await t.done,s}catch(e){if(e instanceof _r)Br.warn(e.message);else{const t=As.create("idb-get",{originalErrorMessage:e?.message});Br.warn(t.message)}}}async function ky(n,e){try{const s=(await b_()).transaction(hl,"readwrite");await s.objectStore(hl).put(e,D_(n)),await s.done}catch(t){if(t instanceof _r)Br.warn(t.message);else{const s=As.create("idb-set",{originalErrorMessage:t?.message});Br.warn(s.message)}}}function D_(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS=1024,RS=30;class NS{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new bS(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Ry();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>RS){const o=DS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Br.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Ry(),{heartbeatsToSend:t,unsentEntries:s}=PS(this._heartbeatsCache.heartbeats),o=xc(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Br.warn(e),""}}}function Ry(){return new Date().toISOString().substring(0,10)}function PS(n,e=kS){const t=[];let s=n.slice();for(const o of n){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),Ny(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Ny(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class bS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vI()?_I().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await AS(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return ky(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return ky(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Ny(n){return xc(JSON.stringify({version:2,heartbeats:n})).length}function DS(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(n){Ii(new Ps("platform-logger",e=>new WI(e),"PRIVATE")),Ii(new Ps("heartbeat",e=>new NS(e),"PRIVATE")),ur(lf,Sy,n),ur(lf,Sy,"esm2020"),ur("fire-js","")}jS("");var Py=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ks,j_;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,S){function k(){}k.prototype=S.prototype,D.D=S.prototype,D.prototype=new k,D.prototype.constructor=D,D.C=function(R,P,V){for(var A=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)A[Qe-2]=arguments[Qe];return S.prototype[P].apply(R,A)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,S,k){k||(k=0);var R=Array(16);if(typeof S=="string")for(var P=0;16>P;++P)R[P]=S.charCodeAt(k++)|S.charCodeAt(k++)<<8|S.charCodeAt(k++)<<16|S.charCodeAt(k++)<<24;else for(P=0;16>P;++P)R[P]=S[k++]|S[k++]<<8|S[k++]<<16|S[k++]<<24;S=D.g[0],k=D.g[1],P=D.g[2];var V=D.g[3],A=S+(V^k&(P^V))+R[0]+3614090360&4294967295;S=k+(A<<7&4294967295|A>>>25),A=V+(P^S&(k^P))+R[1]+3905402710&4294967295,V=S+(A<<12&4294967295|A>>>20),A=P+(k^V&(S^k))+R[2]+606105819&4294967295,P=V+(A<<17&4294967295|A>>>15),A=k+(S^P&(V^S))+R[3]+3250441966&4294967295,k=P+(A<<22&4294967295|A>>>10),A=S+(V^k&(P^V))+R[4]+4118548399&4294967295,S=k+(A<<7&4294967295|A>>>25),A=V+(P^S&(k^P))+R[5]+1200080426&4294967295,V=S+(A<<12&4294967295|A>>>20),A=P+(k^V&(S^k))+R[6]+2821735955&4294967295,P=V+(A<<17&4294967295|A>>>15),A=k+(S^P&(V^S))+R[7]+4249261313&4294967295,k=P+(A<<22&4294967295|A>>>10),A=S+(V^k&(P^V))+R[8]+1770035416&4294967295,S=k+(A<<7&4294967295|A>>>25),A=V+(P^S&(k^P))+R[9]+2336552879&4294967295,V=S+(A<<12&4294967295|A>>>20),A=P+(k^V&(S^k))+R[10]+4294925233&4294967295,P=V+(A<<17&4294967295|A>>>15),A=k+(S^P&(V^S))+R[11]+2304563134&4294967295,k=P+(A<<22&4294967295|A>>>10),A=S+(V^k&(P^V))+R[12]+1804603682&4294967295,S=k+(A<<7&4294967295|A>>>25),A=V+(P^S&(k^P))+R[13]+4254626195&4294967295,V=S+(A<<12&4294967295|A>>>20),A=P+(k^V&(S^k))+R[14]+2792965006&4294967295,P=V+(A<<17&4294967295|A>>>15),A=k+(S^P&(V^S))+R[15]+1236535329&4294967295,k=P+(A<<22&4294967295|A>>>10),A=S+(P^V&(k^P))+R[1]+4129170786&4294967295,S=k+(A<<5&4294967295|A>>>27),A=V+(k^P&(S^k))+R[6]+3225465664&4294967295,V=S+(A<<9&4294967295|A>>>23),A=P+(S^k&(V^S))+R[11]+643717713&4294967295,P=V+(A<<14&4294967295|A>>>18),A=k+(V^S&(P^V))+R[0]+3921069994&4294967295,k=P+(A<<20&4294967295|A>>>12),A=S+(P^V&(k^P))+R[5]+3593408605&4294967295,S=k+(A<<5&4294967295|A>>>27),A=V+(k^P&(S^k))+R[10]+38016083&4294967295,V=S+(A<<9&4294967295|A>>>23),A=P+(S^k&(V^S))+R[15]+3634488961&4294967295,P=V+(A<<14&4294967295|A>>>18),A=k+(V^S&(P^V))+R[4]+3889429448&4294967295,k=P+(A<<20&4294967295|A>>>12),A=S+(P^V&(k^P))+R[9]+568446438&4294967295,S=k+(A<<5&4294967295|A>>>27),A=V+(k^P&(S^k))+R[14]+3275163606&4294967295,V=S+(A<<9&4294967295|A>>>23),A=P+(S^k&(V^S))+R[3]+4107603335&4294967295,P=V+(A<<14&4294967295|A>>>18),A=k+(V^S&(P^V))+R[8]+1163531501&4294967295,k=P+(A<<20&4294967295|A>>>12),A=S+(P^V&(k^P))+R[13]+2850285829&4294967295,S=k+(A<<5&4294967295|A>>>27),A=V+(k^P&(S^k))+R[2]+4243563512&4294967295,V=S+(A<<9&4294967295|A>>>23),A=P+(S^k&(V^S))+R[7]+1735328473&4294967295,P=V+(A<<14&4294967295|A>>>18),A=k+(V^S&(P^V))+R[12]+2368359562&4294967295,k=P+(A<<20&4294967295|A>>>12),A=S+(k^P^V)+R[5]+4294588738&4294967295,S=k+(A<<4&4294967295|A>>>28),A=V+(S^k^P)+R[8]+2272392833&4294967295,V=S+(A<<11&4294967295|A>>>21),A=P+(V^S^k)+R[11]+1839030562&4294967295,P=V+(A<<16&4294967295|A>>>16),A=k+(P^V^S)+R[14]+4259657740&4294967295,k=P+(A<<23&4294967295|A>>>9),A=S+(k^P^V)+R[1]+2763975236&4294967295,S=k+(A<<4&4294967295|A>>>28),A=V+(S^k^P)+R[4]+1272893353&4294967295,V=S+(A<<11&4294967295|A>>>21),A=P+(V^S^k)+R[7]+4139469664&4294967295,P=V+(A<<16&4294967295|A>>>16),A=k+(P^V^S)+R[10]+3200236656&4294967295,k=P+(A<<23&4294967295|A>>>9),A=S+(k^P^V)+R[13]+681279174&4294967295,S=k+(A<<4&4294967295|A>>>28),A=V+(S^k^P)+R[0]+3936430074&4294967295,V=S+(A<<11&4294967295|A>>>21),A=P+(V^S^k)+R[3]+3572445317&4294967295,P=V+(A<<16&4294967295|A>>>16),A=k+(P^V^S)+R[6]+76029189&4294967295,k=P+(A<<23&4294967295|A>>>9),A=S+(k^P^V)+R[9]+3654602809&4294967295,S=k+(A<<4&4294967295|A>>>28),A=V+(S^k^P)+R[12]+3873151461&4294967295,V=S+(A<<11&4294967295|A>>>21),A=P+(V^S^k)+R[15]+530742520&4294967295,P=V+(A<<16&4294967295|A>>>16),A=k+(P^V^S)+R[2]+3299628645&4294967295,k=P+(A<<23&4294967295|A>>>9),A=S+(P^(k|~V))+R[0]+4096336452&4294967295,S=k+(A<<6&4294967295|A>>>26),A=V+(k^(S|~P))+R[7]+1126891415&4294967295,V=S+(A<<10&4294967295|A>>>22),A=P+(S^(V|~k))+R[14]+2878612391&4294967295,P=V+(A<<15&4294967295|A>>>17),A=k+(V^(P|~S))+R[5]+4237533241&4294967295,k=P+(A<<21&4294967295|A>>>11),A=S+(P^(k|~V))+R[12]+1700485571&4294967295,S=k+(A<<6&4294967295|A>>>26),A=V+(k^(S|~P))+R[3]+2399980690&4294967295,V=S+(A<<10&4294967295|A>>>22),A=P+(S^(V|~k))+R[10]+4293915773&4294967295,P=V+(A<<15&4294967295|A>>>17),A=k+(V^(P|~S))+R[1]+2240044497&4294967295,k=P+(A<<21&4294967295|A>>>11),A=S+(P^(k|~V))+R[8]+1873313359&4294967295,S=k+(A<<6&4294967295|A>>>26),A=V+(k^(S|~P))+R[15]+4264355552&4294967295,V=S+(A<<10&4294967295|A>>>22),A=P+(S^(V|~k))+R[6]+2734768916&4294967295,P=V+(A<<15&4294967295|A>>>17),A=k+(V^(P|~S))+R[13]+1309151649&4294967295,k=P+(A<<21&4294967295|A>>>11),A=S+(P^(k|~V))+R[4]+4149444226&4294967295,S=k+(A<<6&4294967295|A>>>26),A=V+(k^(S|~P))+R[11]+3174756917&4294967295,V=S+(A<<10&4294967295|A>>>22),A=P+(S^(V|~k))+R[2]+718787259&4294967295,P=V+(A<<15&4294967295|A>>>17),A=k+(V^(P|~S))+R[9]+3951481745&4294967295,D.g[0]=D.g[0]+S&4294967295,D.g[1]=D.g[1]+(P+(A<<21&4294967295|A>>>11))&4294967295,D.g[2]=D.g[2]+P&4294967295,D.g[3]=D.g[3]+V&4294967295}s.prototype.u=function(D,S){S===void 0&&(S=D.length);for(var k=S-this.blockSize,R=this.B,P=this.h,V=0;V<S;){if(P==0)for(;V<=k;)o(this,D,V),V+=this.blockSize;if(typeof D=="string"){for(;V<S;)if(R[P++]=D.charCodeAt(V++),P==this.blockSize){o(this,R),P=0;break}}else for(;V<S;)if(R[P++]=D[V++],P==this.blockSize){o(this,R),P=0;break}}this.h=P,this.o+=S},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var S=1;S<D.length-8;++S)D[S]=0;var k=8*this.o;for(S=D.length-8;S<D.length;++S)D[S]=k&255,k/=256;for(this.u(D),D=Array(16),S=k=0;4>S;++S)for(var R=0;32>R;R+=8)D[k++]=this.g[S]>>>R&255;return D};function l(D,S){var k=f;return Object.prototype.hasOwnProperty.call(k,D)?k[D]:k[D]=S(D)}function h(D,S){this.h=S;for(var k=[],R=!0,P=D.length-1;0<=P;P--){var V=D[P]|0;R&&V==S||(k[P]=V,R=!1)}this.g=k}var f={};function m(D){return-128<=D&&128>D?l(D,function(S){return new h([S|0],0>S?-1:0)}):new h([D|0],0>D?-1:0)}function v(D){if(isNaN(D)||!isFinite(D))return T;if(0>D)return b(v(-D));for(var S=[],k=1,R=0;D>=k;R++)S[R]=D/k|0,k*=4294967296;return new h(S,0)}function x(D,S){if(D.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(D.charAt(0)=="-")return b(x(D.substring(1),S));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=v(Math.pow(S,8)),R=T,P=0;P<D.length;P+=8){var V=Math.min(8,D.length-P),A=parseInt(D.substring(P,P+V),S);8>V?(V=v(Math.pow(S,V)),R=R.j(V).add(v(A))):(R=R.j(k),R=R.add(v(A)))}return R}var T=m(0),I=m(1),L=m(16777216);n=h.prototype,n.m=function(){if($(this))return-b(this).m();for(var D=0,S=1,k=0;k<this.g.length;k++){var R=this.i(k);D+=(0<=R?R:4294967296+R)*S,S*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(z(this))return"0";if($(this))return"-"+b(this).toString(D);for(var S=v(Math.pow(D,6)),k=this,R="";;){var P=le(k,S).g;k=W(k,P.j(S));var V=((0<k.g.length?k.g[0]:k.h)>>>0).toString(D);if(k=P,z(k))return V+R;for(;6>V.length;)V="0"+V;R=V+R}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function z(D){if(D.h!=0)return!1;for(var S=0;S<D.g.length;S++)if(D.g[S]!=0)return!1;return!0}function $(D){return D.h==-1}n.l=function(D){return D=W(this,D),$(D)?-1:z(D)?0:1};function b(D){for(var S=D.g.length,k=[],R=0;R<S;R++)k[R]=~D.g[R];return new h(k,~D.h).add(I)}n.abs=function(){return $(this)?b(this):this},n.add=function(D){for(var S=Math.max(this.g.length,D.g.length),k=[],R=0,P=0;P<=S;P++){var V=R+(this.i(P)&65535)+(D.i(P)&65535),A=(V>>>16)+(this.i(P)>>>16)+(D.i(P)>>>16);R=A>>>16,V&=65535,A&=65535,k[P]=A<<16|V}return new h(k,k[k.length-1]&-2147483648?-1:0)};function W(D,S){return D.add(b(S))}n.j=function(D){if(z(this)||z(D))return T;if($(this))return $(D)?b(this).j(b(D)):b(b(this).j(D));if($(D))return b(this.j(b(D)));if(0>this.l(L)&&0>D.l(L))return v(this.m()*D.m());for(var S=this.g.length+D.g.length,k=[],R=0;R<2*S;R++)k[R]=0;for(R=0;R<this.g.length;R++)for(var P=0;P<D.g.length;P++){var V=this.i(R)>>>16,A=this.i(R)&65535,Qe=D.i(P)>>>16,Ot=D.i(P)&65535;k[2*R+2*P]+=A*Ot,ee(k,2*R+2*P),k[2*R+2*P+1]+=V*Ot,ee(k,2*R+2*P+1),k[2*R+2*P+1]+=A*Qe,ee(k,2*R+2*P+1),k[2*R+2*P+2]+=V*Qe,ee(k,2*R+2*P+2)}for(R=0;R<S;R++)k[R]=k[2*R+1]<<16|k[2*R];for(R=S;R<2*S;R++)k[R]=0;return new h(k,0)};function ee(D,S){for(;(D[S]&65535)!=D[S];)D[S+1]+=D[S]>>>16,D[S]&=65535,S++}function te(D,S){this.g=D,this.h=S}function le(D,S){if(z(S))throw Error("division by zero");if(z(D))return new te(T,T);if($(D))return S=le(b(D),S),new te(b(S.g),b(S.h));if($(S))return S=le(D,b(S)),new te(b(S.g),S.h);if(30<D.g.length){if($(D)||$(S))throw Error("slowDivide_ only works with positive integers.");for(var k=I,R=S;0>=R.l(D);)k=Ie(k),R=Ie(R);var P=Te(k,1),V=Te(R,1);for(R=Te(R,2),k=Te(k,2);!z(R);){var A=V.add(R);0>=A.l(D)&&(P=P.add(k),V=A),R=Te(R,1),k=Te(k,1)}return S=W(D,P.j(S)),new te(P,S)}for(P=T;0<=D.l(S);){for(k=Math.max(1,Math.floor(D.m()/S.m())),R=Math.ceil(Math.log(k)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),V=v(k),A=V.j(S);$(A)||0<A.l(D);)k-=R,V=v(k),A=V.j(S);z(V)&&(V=I),P=P.add(V),D=W(D,A)}return new te(P,D)}n.A=function(D){return le(this,D).h},n.and=function(D){for(var S=Math.max(this.g.length,D.g.length),k=[],R=0;R<S;R++)k[R]=this.i(R)&D.i(R);return new h(k,this.h&D.h)},n.or=function(D){for(var S=Math.max(this.g.length,D.g.length),k=[],R=0;R<S;R++)k[R]=this.i(R)|D.i(R);return new h(k,this.h|D.h)},n.xor=function(D){for(var S=Math.max(this.g.length,D.g.length),k=[],R=0;R<S;R++)k[R]=this.i(R)^D.i(R);return new h(k,this.h^D.h)};function Ie(D){for(var S=D.g.length+1,k=[],R=0;R<S;R++)k[R]=D.i(R)<<1|D.i(R-1)>>>31;return new h(k,D.h)}function Te(D,S){var k=S>>5;S%=32;for(var R=D.g.length-k,P=[],V=0;V<R;V++)P[V]=0<S?D.i(V+k)>>>S|D.i(V+k+1)<<32-S:D.i(V+k);return new h(P,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,j_=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=x,ks=h}).apply(typeof Py<"u"?Py:typeof self<"u"?self:typeof window<"u"?window:{});var Xu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var V_,Qa,O_,oc,hf,L_,M_,F_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,_){return u==Array.prototype||u==Object.prototype||(u[g]=_.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xu=="object"&&Xu];for(var g=0;g<u.length;++g){var _=u[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(u,g){if(g)e:{var _=s;u=u.split(".");for(var E=0;E<u.length-1;E++){var M=u[E];if(!(M in _))break e;_=_[M]}u=u[u.length-1],E=_[u],g=g(E),g!=E&&g!=null&&e(_,u,{configurable:!0,writable:!0,value:g})}}function l(u,g){u instanceof String&&(u+="");var _=0,E=!1,M={next:function(){if(!E&&_<u.length){var q=_++;return{value:g(q,u[q]),done:!1}}return E=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}o("Array.prototype.values",function(u){return u||function(){return l(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},f=this||self;function m(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function v(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function x(u,g,_){return u.call.apply(u.bind,arguments)}function T(u,g,_){if(!u)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,E),u.apply(g,M)}}return function(){return u.apply(g,arguments)}}function I(u,g,_){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?x:T,I.apply(null,arguments)}function L(u,g){var _=Array.prototype.slice.call(arguments,1);return function(){var E=_.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function z(u,g){function _(){}_.prototype=g.prototype,u.aa=g.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(E,M,q){for(var ne=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)ne[ze-2]=arguments[ze];return g.prototype[M].apply(E,ne)}}function $(u){const g=u.length;if(0<g){const _=Array(g);for(let E=0;E<g;E++)_[E]=u[E];return _}return[]}function b(u,g){for(let _=1;_<arguments.length;_++){const E=arguments[_];if(m(E)){const M=u.length||0,q=E.length||0;u.length=M+q;for(let ne=0;ne<q;ne++)u[M+ne]=E[ne]}else u.push(E)}}class W{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function ee(u){return/^[\s\xa0]*$/.test(u)}function te(){var u=f.navigator;return u&&(u=u.userAgent)?u:""}function le(u){return le[" "](u),u}le[" "]=function(){};var Ie=te().indexOf("Gecko")!=-1&&!(te().toLowerCase().indexOf("webkit")!=-1&&te().indexOf("Edge")==-1)&&!(te().indexOf("Trident")!=-1||te().indexOf("MSIE")!=-1)&&te().indexOf("Edge")==-1;function Te(u,g,_){for(const E in u)g.call(_,u[E],E,u)}function D(u,g){for(const _ in u)g.call(void 0,u[_],_,u)}function S(u){const g={};for(const _ in u)g[_]=u[_];return g}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(u,g){let _,E;for(let M=1;M<arguments.length;M++){E=arguments[M];for(_ in E)u[_]=E[_];for(let q=0;q<k.length;q++)_=k[q],Object.prototype.hasOwnProperty.call(E,_)&&(u[_]=E[_])}}function P(u){var g=1;u=u.split(":");const _=[];for(;0<g&&u.length;)_.push(u.shift()),g--;return u.length&&_.push(u.join(":")),_}function V(u){f.setTimeout(()=>{throw u},0)}function A(){var u=me;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class Qe{constructor(){this.h=this.g=null}add(g,_){const E=Ot.get();E.set(g,_),this.h?this.h.next=E:this.g=E,this.h=E}}var Ot=new W(()=>new Lt,u=>u.reset());class Lt{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Be,re=!1,me=new Qe,oe=()=>{const u=f.Promise.resolve(void 0);Be=()=>{u.then(O)}};var O=()=>{for(var u;u=A();){try{u.h.call(u.g)}catch(_){V(_)}var g=Ot;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}re=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};f.addEventListener("test",_,g),f.removeEventListener("test",_,g)}catch{}return u}();function Ce(u,g){if(fe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(Ie){e:{try{le(g.nodeName);var M=!0;break e}catch{}M=!1}M||(g=null)}}else _=="mouseover"?g=u.fromElement:_=="mouseout"&&(g=u.toElement);this.relatedTarget=g,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:De[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ce.aa.h.call(this)}}z(Ce,fe);var De={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Me="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function He(u,g,_,E,M){this.listener=u,this.proxy=null,this.src=g,this.type=_,this.capture=!!E,this.ha=M,this.key=++Fe,this.da=this.fa=!1}function Tt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function wr(u){this.src=u,this.g={},this.h=0}wr.prototype.add=function(u,g,_,E,M){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var ne=Kr(u,g,E,M);return-1<ne?(g=u[ne],_||(g.fa=!1)):(g=new He(g,this.src,q,!!E,M),g.fa=_,u.push(g)),g};function Di(u,g){var _=g.type;if(_ in u.g){var E=u.g[_],M=Array.prototype.indexOf.call(E,g,void 0),q;(q=0<=M)&&Array.prototype.splice.call(E,M,1),q&&(Tt(g),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Kr(u,g,_,E){for(var M=0;M<u.length;++M){var q=u[M];if(!q.da&&q.listener==g&&q.capture==!!_&&q.ha==E)return M}return-1}var Bs="closure_lm_"+(1e6*Math.random()|0),ji={};function Jo(u,g,_,E,M){if(Array.isArray(g)){for(var q=0;q<g.length;q++)Jo(u,g[q],_,E,M);return null}return _=ta(_),u&&u[Me]?u.K(g,_,v(E)?!!E.capture:!1,M):Zo(u,g,_,!1,E,M)}function Zo(u,g,_,E,M,q){if(!g)throw Error("Invalid event type");var ne=v(M)?!!M.capture:!!M,ze=Oi(u);if(ze||(u[Bs]=ze=new wr(u)),_=ze.add(g,_,E,ne,q),_.proxy)return _;if(E=Dl(),_.proxy=E,E.src=u,E.listener=_,u.addEventListener)Se||(M=ne),M===void 0&&(M=!1),u.addEventListener(g.toString(),E,M);else if(u.attachEvent)u.attachEvent(Er(g.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Dl(){function u(_){return g.call(u.src,u.listener,_)}const g=ea;return u}function Vi(u,g,_,E,M){if(Array.isArray(g))for(var q=0;q<g.length;q++)Vi(u,g[q],_,E,M);else E=v(E)?!!E.capture:!!E,_=ta(_),u&&u[Me]?(u=u.i,g=String(g).toString(),g in u.g&&(q=u.g[g],_=Kr(q,_,E,M),-1<_&&(Tt(q[_]),Array.prototype.splice.call(q,_,1),q.length==0&&(delete u.g[g],u.h--)))):u&&(u=Oi(u))&&(g=u.g[g.toString()],u=-1,g&&(u=Kr(g,_,E,M)),(_=-1<u?g[u]:null)&&xr(_))}function xr(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[Me])Di(g.i,u);else{var _=u.type,E=u.proxy;g.removeEventListener?g.removeEventListener(_,E,u.capture):g.detachEvent?g.detachEvent(Er(_),E):g.addListener&&g.removeListener&&g.removeListener(E),(_=Oi(g))?(Di(_,u),_.h==0&&(_.src=null,g[Bs]=null)):Tt(u)}}}function Er(u){return u in ji?ji[u]:ji[u]="on"+u}function ea(u,g){if(u.da)u=!0;else{g=new Ce(g,this);var _=u.listener,E=u.ha||u.src;u.fa&&xr(u),u=_.call(E,g)}return u}function Oi(u){return u=u[Bs],u instanceof wr?u:null}var Li="__closure_events_fn_"+(1e9*Math.random()>>>0);function ta(u){return typeof u=="function"?u:(u[Li]||(u[Li]=function(g){return u.handleEvent(g)}),u[Li])}function yt(){Q.call(this),this.i=new wr(this),this.M=this,this.F=null}z(yt,Q),yt.prototype[Me]=!0,yt.prototype.removeEventListener=function(u,g,_,E){Vi(this,u,g,_,E)};function vt(u,g){var _,E=u.F;if(E)for(_=[];E;E=E.F)_.push(E);if(u=u.M,E=g.type||g,typeof g=="string")g=new fe(g,u);else if(g instanceof fe)g.target=g.target||u;else{var M=g;g=new fe(E,u),R(g,M)}if(M=!0,_)for(var q=_.length-1;0<=q;q--){var ne=g.g=_[q];M=Tr(ne,E,!0,g)&&M}if(ne=g.g=u,M=Tr(ne,E,!0,g)&&M,M=Tr(ne,E,!1,g)&&M,_)for(q=0;q<_.length;q++)ne=g.g=_[q],M=Tr(ne,E,!1,g)&&M}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var _=u.g[g],E=0;E<_.length;E++)Tt(_[E]);delete u.g[g],u.h--}}this.F=null},yt.prototype.K=function(u,g,_,E){return this.i.add(String(u),g,!1,_,E)},yt.prototype.L=function(u,g,_,E){return this.i.add(String(u),g,!0,_,E)};function Tr(u,g,_,E){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var M=!0,q=0;q<g.length;++q){var ne=g[q];if(ne&&!ne.da&&ne.capture==_){var ze=ne.listener,_t=ne.ha||ne.src;ne.fa&&Di(u.i,ne),M=ze.call(_t,E)!==!1&&M}}return M&&!E.defaultPrevented}function na(u,g,_){if(typeof u=="function")_&&(u=I(u,_));else if(u&&typeof u.handleEvent=="function")u=I(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:f.setTimeout(u,g||0)}function Qr(u){u.g=na(()=>{u.g=null,u.i&&(u.i=!1,Qr(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class $s extends Q{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Qr(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hs(u){Q.call(this),this.h=u,this.g={}}z(Hs,Q);var ra=[];function sa(u){Te(u.g,function(g,_){this.g.hasOwnProperty(_)&&xr(g)},u),u.g={}}Hs.prototype.N=function(){Hs.aa.N.call(this),sa(this)},Hs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ia=f.JSON.stringify,oa=f.JSON.parse,aa=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function qs(){}qs.prototype.h=null;function Mi(u){return u.h||(u.h=u.i())}function Fi(){}var yn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xn(){fe.call(this,"d")}z(Xn,fe);function Ui(){fe.call(this,"c")}z(Ui,fe);var Yn={},la=null;function Ws(){return la=la||new yt}Yn.La="serverreachability";function ua(u){fe.call(this,Yn.La,u)}z(ua,fe);function Ir(u){const g=Ws();vt(g,new ua(g))}Yn.STAT_EVENT="statevent";function ca(u,g){fe.call(this,Yn.STAT_EVENT,u),this.stat=g}z(ca,fe);function at(u){const g=Ws();vt(g,new ca(g,u))}Yn.Ma="timingevent";function zi(u,g){fe.call(this,Yn.Ma,u),this.size=g}z(zi,fe);function kn(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},g)}function Gs(){this.g=!0}Gs.prototype.xa=function(){this.g=!1};function Ks(u,g,_,E,M,q){u.info(function(){if(u.g)if(q)for(var ne="",ze=q.split("&"),_t=0;_t<ze.length;_t++){var je=ze[_t].split("=");if(1<je.length){var It=je[0];je=je[1];var ct=It.split("_");ne=2<=ct.length&&ct[1]=="type"?ne+(It+"="+je+"&"):ne+(It+"=redacted&")}}else ne=null;else ne=q;return"XMLHTTP REQ ("+E+") [attempt "+M+"]: "+g+`
`+_+`
`+ne})}function Bi(u,g,_,E,M,q,ne){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+M+"]: "+g+`
`+_+`
`+q+" "+ne})}function Rn(u,g,_,E){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+ah(u,_)+(E?" "+E:"")})}function ha(u,g){u.info(function(){return"TIMEOUT: "+g})}Gs.prototype.info=function(){};function ah(u,g){if(!u.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var E=_[u];if(!(2>E.length)){var M=E[1];if(Array.isArray(M)&&!(1>M.length)){var q=M[0];if(q!="noop"&&q!="stop"&&q!="close")for(var ne=1;ne<M.length;ne++)M[ne]=""}}}}return ia(_)}catch{return g}}var $i={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},jl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Nn;function Qs(){}z(Qs,qs),Qs.prototype.g=function(){return new XMLHttpRequest},Qs.prototype.i=function(){return{}},Nn=new Qs;function Pn(u,g,_,E){this.j=u,this.i=g,this.l=_,this.R=E||1,this.U=new Hs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Vl}function Vl(){this.i=null,this.g="",this.h=!1}var da={},Hi={};function qi(u,g,_){u.L=1,u.v=es(un(g)),u.m=_,u.P=!0,fa(u,null)}function fa(u,g){u.F=Date.now(),qe(u),u.A=un(u.v);var _=u.A,E=u.R;Array.isArray(E)||(E=[String(E)]),ns(_.i,"t",E),u.C=0,_=u.j.J,u.h=new Vl,u.g=Zl(u.j,_?g:null,!u.m),0<u.O&&(u.M=new $s(I(u.Y,u,u.g),u.O)),g=u.U,_=u.g,E=u.ca;var M="readystatechange";Array.isArray(M)||(M&&(ra[0]=M.toString()),M=ra);for(var q=0;q<M.length;q++){var ne=Jo(_,M[q],E||g.handleEvent,!1,g.h||g);if(!ne)break;g.g[ne.key]=ne}g=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),Ir(),Ks(u.i,u.u,u.A,u.l,u.R,u.m)}Pn.prototype.ca=function(u){u=u.target;const g=this.M;g&&Jt(u)==3?g.j():this.Y(u)},Pn.prototype.Y=function(u){try{if(u==this.g)e:{const ct=Jt(this.g);var g=this.g.Ba();const wn=this.g.Z();if(!(3>ct)&&(ct!=3||this.g&&(this.h.h||this.g.oa()||_a(this.g)))){this.J||ct!=4||g==7||(g==8||0>=wn?Ir(3):Ir(2)),Xs(this);var _=this.g.Z();this.X=_;t:if(Ol(this)){var E=_a(this.g);u="";var M=E.length,q=Jt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vn(this),Xr(this);var ne="";break t}this.h.i=new f.TextDecoder}for(g=0;g<M;g++)this.h.h=!0,u+=this.h.i.decode(E[g],{stream:!(q&&g==M-1)});E.length=0,this.h.g+=u,this.C=0,ne=this.h.g}else ne=this.g.oa();if(this.o=_==200,Bi(this.i,this.u,this.A,this.l,this.R,ct,_),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,_t=this.g;if((ze=_t.g?_t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ee(ze)){var je=ze;break t}}je=null}if(_=je)Rn(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pa(this,_);else{this.o=!1,this.s=3,at(12),vn(this),Xr(this);break e}}if(this.P){_=!0;let hn;for(;!this.J&&this.C<ne.length;)if(hn=lh(this,ne),hn==Hi){ct==4&&(this.s=4,at(14),_=!1),Rn(this.i,this.l,null,"[Incomplete Response]");break}else if(hn==da){this.s=4,at(15),Rn(this.i,this.l,ne,"[Invalid Chunk]"),_=!1;break}else Rn(this.i,this.l,hn,null),pa(this,hn);if(Ol(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ct!=4||ne.length!=0||this.h.h||(this.s=1,at(16),_=!1),this.o=this.o&&_,!_)Rn(this.i,this.l,ne,"[Invalid Chunked Response]"),vn(this),Xr(this);else if(0<ne.length&&!this.W){this.W=!0;var It=this.j;It.g==this&&It.ba&&!It.M&&(It.j.info("Great, no buffering proxy detected. Bytes received: "+ne.length),xa(It),It.M=!0,at(11))}}else Rn(this.i,this.l,ne,null),pa(this,ne);ct==4&&vn(this),this.o&&!this.J&&(ct==4?no(this.j,this):(this.o=!1,qe(this)))}else Yi(this.g),_==400&&0<ne.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),vn(this),Xr(this)}}}catch{}finally{}};function Ol(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function lh(u,g){var _=u.C,E=g.indexOf(`
`,_);return E==-1?Hi:(_=Number(g.substring(_,E)),isNaN(_)?da:(E+=1,E+_>g.length?Hi:(g=g.slice(E,E+_),u.C=E+_,g)))}Pn.prototype.cancel=function(){this.J=!0,vn(this)};function qe(u){u.S=Date.now()+u.I,Ll(u,u.I)}function Ll(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=kn(I(u.ba,u),g)}function Xs(u){u.B&&(f.clearTimeout(u.B),u.B=null)}Pn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ha(this.i,this.A),this.L!=2&&(Ir(),at(17)),vn(this),this.s=2,Xr(this)):Ll(this,this.S-u)};function Xr(u){u.j.G==0||u.J||no(u.j,u)}function vn(u){Xs(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,sa(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function pa(u,g){try{var _=u.j;if(_.G!=0&&(_.g==u||Wt(_.h,u))){if(!u.K&&Wt(_.h,u)&&_.G==3){try{var E=_.Da.g.parse(g)}catch{E=null}if(Array.isArray(E)&&E.length==3){var M=E;if(M[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)to(_),On(_);else break e;eo(_),at(18)}}else _.za=M[1],0<_.za-_.T&&37500>M[2]&&_.F&&_.v==0&&!_.C&&(_.C=kn(I(_.Za,_),6e3));if(1>=Fl(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Rr(_,11)}else if((u.K||_.g==u)&&to(_),!ee(g))for(M=_.Da.g.parse(g),g=0;g<M.length;g++){let je=M[g];if(_.T=je[0],je=je[1],_.G==2)if(je[0]=="c"){_.K=je[1],_.ia=je[2];const It=je[3];It!=null&&(_.la=It,_.j.info("VER="+_.la));const ct=je[4];ct!=null&&(_.Aa=ct,_.j.info("SVER="+_.Aa));const wn=je[5];wn!=null&&typeof wn=="number"&&0<wn&&(E=1.5*wn,_.L=E,_.j.info("backChannelRequestTimeoutMs_="+E)),E=_;const hn=u.g;if(hn){const ri=hn.g?hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ri){var q=E.h;q.g||ri.indexOf("spdy")==-1&&ri.indexOf("quic")==-1&&ri.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(ma(q,q.h),q.h=null))}if(E.D){const so=hn.g?hn.g.getResponseHeader("X-HTTP-Session-Id"):null;so&&(E.ya=so,$e(E.I,E.D,so))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),E=_;var ne=u;if(E.qa=Jl(E,E.J?E.ia:null,E.W),ne.K){Ul(E.h,ne);var ze=ne,_t=E.L;_t&&(ze.I=_t),ze.B&&(Xs(ze),qe(ze)),E.g=ne}else ni(E);0<_.i.length&&tr(_)}else je[0]!="stop"&&je[0]!="close"||Rr(_,7);else _.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?Rr(_,7):Nt(_):je[0]!="noop"&&_.l&&_.l.ta(je),_.v=0)}}Ir(4)}catch{}}var Ml=class{constructor(u,g){this.g=u,this.map=g}};function Ys(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ln(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Fl(u){return u.h?1:u.g?u.g.size:0}function Wt(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function ma(u,g){u.g?u.g.add(g):u.h=g}function Ul(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Ys.prototype.cancel=function(){if(this.i=zl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function zl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const _ of u.g.values())g=g.concat(_.D);return g}return $(u.i)}function Wi(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(m(u)){for(var g=[],_=u.length,E=0;E<_;E++)g.push(u[E]);return g}g=[],_=0;for(E in u)g[_++]=u[E];return g}function Gi(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(m(u)||typeof u=="string"){var g=[];u=u.length;for(var _=0;_<u;_++)g.push(_);return g}g=[],_=0;for(const E in u)g[_++]=E;return g}}}function Yr(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(m(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var _=Gi(u),E=Wi(u),M=E.length,q=0;q<M;q++)g.call(void 0,E[q],_&&_[q],u)}var Js=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uh(u,g){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var E=u[_].indexOf("="),M=null;if(0<=E){var q=u[_].substring(0,E);M=u[_].substring(E+1)}else q=u[_];g(q,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function Sr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Sr){this.h=u.h,Zs(this,u.j),this.o=u.o,this.g=u.g,Jr(this,u.s),this.l=u.l;var g=u.i,_=new Jn;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),Zr(this,_),this.m=u.m}else u&&(g=String(u).match(Js))?(this.h=!1,Zs(this,g[1]||"",!0),this.o=be(g[2]||""),this.g=be(g[3]||"",!0),Jr(this,g[4]),this.l=be(g[5]||"",!0),Zr(this,g[6]||"",!0),this.m=be(g[7]||"")):(this.h=!1,this.i=new Jn(null,this.h))}Sr.prototype.toString=function(){var u=[],g=this.j;g&&u.push(ts(g,Ki,!0),":");var _=this.g;return(_||g=="file")&&(u.push("//"),(g=this.o)&&u.push(ts(g,Ki,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(ts(_,_.charAt(0)=="/"?Hl:$l,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",ts(_,ga)),u.join("")};function un(u){return new Sr(u)}function Zs(u,g,_){u.j=_?be(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function Jr(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function Zr(u,g,_){g instanceof Jn?(u.i=g,Zn(u.i,u.h)):(_||(g=ts(g,ql)),u.i=new Jn(g,u.h))}function $e(u,g,_){u.i.set(g,_)}function es(u){return $e(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function be(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ts(u,g,_){return typeof u=="string"?(u=encodeURI(u).replace(g,Bl),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Bl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ki=/[#\/\?@]/g,$l=/[#\?:]/g,Hl=/[#\?]/g,ql=/[#\?@]/g,ga=/#/g;function Jn(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function Rt(u){u.g||(u.g=new Map,u.h=0,u.i&&uh(u.i,function(g,_){u.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}n=Jn.prototype,n.add=function(u,g){Rt(this),this.i=null,u=_n(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(g),this.h+=1,this};function bn(u,g){Rt(u),g=_n(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Dn(u,g){return Rt(u),g=_n(u,g),u.g.has(g)}n.forEach=function(u,g){Rt(this),this.g.forEach(function(_,E){_.forEach(function(M){u.call(g,M,E,this)},this)},this)},n.na=function(){Rt(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let E=0;E<g.length;E++){const M=u[E];for(let q=0;q<M.length;q++)_.push(g[E])}return _},n.V=function(u){Rt(this);let g=[];if(typeof u=="string")Dn(this,u)&&(g=g.concat(this.g.get(_n(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)g=g.concat(u[_])}return g},n.set=function(u,g){return Rt(this),this.i=null,u=_n(this,u),Dn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},n.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function ns(u,g,_){bn(u,g),0<_.length&&(u.i=null,u.g.set(_n(u,g),$(_)),u.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var E=g[_];const q=encodeURIComponent(String(E)),ne=this.V(E);for(E=0;E<ne.length;E++){var M=q;ne[E]!==""&&(M+="="+encodeURIComponent(String(ne[E]))),u.push(M)}}return this.i=u.join("&")};function _n(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function Zn(u,g){g&&!u.j&&(Rt(u),u.i=null,u.g.forEach(function(_,E){var M=E.toLowerCase();E!=M&&(bn(this,E),ns(this,M,_))},u)),u.j=g}function ch(u,g){const _=new Gs;if(f.Image){const E=new Image;E.onload=L(Yt,_,"TestLoadImage: loaded",!0,g,E),E.onerror=L(Yt,_,"TestLoadImage: error",!1,g,E),E.onabort=L(Yt,_,"TestLoadImage: abort",!1,g,E),E.ontimeout=L(Yt,_,"TestLoadImage: timeout",!1,g,E),f.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else g(!1)}function Wl(u,g){const _=new Gs,E=new AbortController,M=setTimeout(()=>{E.abort(),Yt(_,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:E.signal}).then(q=>{clearTimeout(M),q.ok?Yt(_,"TestPingServer: ok",!0,g):Yt(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(M),Yt(_,"TestPingServer: error",!1,g)})}function Yt(u,g,_,E,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),E(_)}catch{}}function hh(){this.g=new aa}function Gl(u,g,_){const E=_||"";try{Yr(u,function(M,q){let ne=M;v(M)&&(ne=ia(M)),g.push(E+q+"="+encodeURIComponent(ne))})}catch(M){throw g.push(E+"type="+encodeURIComponent("_badmap")),M}}function Cr(u){this.l=u.Ub||null,this.j=u.eb||!1}z(Cr,qs),Cr.prototype.g=function(){return new ei(this.l,this.j)},Cr.prototype.i=function(u){return function(){return u}}({});function ei(u,g){yt.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}z(ei,yt),n=ei.prototype,n.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,Vn(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||f).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jn(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Vn(this)),this.g&&(this.readyState=3,Vn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Kl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Kl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?jn(this):Vn(this),this.readyState==3&&Kl(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,jn(this))},n.Qa=function(u){this.g&&(this.response=u,jn(this))},n.ga=function(){this.g&&jn(this)};function jn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Vn(u)}n.setRequestHeader=function(u,g){this.u.append(u,g)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=g.next();return u.join(`\r
`)};function Vn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ei.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ar(u){let g="";return Te(u,function(_,E){g+=E,g+=":",g+=_,g+=`\r
`}),g}function rs(u,g,_){e:{for(E in _){var E=!1;break e}E=!0}E||(_=Ar(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):$e(u,g,_))}function Je(u){yt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}z(Je,yt);var dh=/^https?$/i,ya=["POST","PUT"];n=Je.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,g,_,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Nn.g(),this.v=this.o?Mi(this.o):Mi(Nn),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(q){ti(this,q);return}if(u=_||"",_=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var M in E)_.set(M,E[M]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const q of E.keys())_.set(q,E.get(q));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(_.keys()).find(q=>q.toLowerCase()=="content-type"),M=f.FormData&&u instanceof f.FormData,!(0<=Array.prototype.indexOf.call(ya,g,void 0))||E||M||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ne]of _)this.g.setRequestHeader(q,ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xi(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){ti(this,q)}};function ti(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,Qi(u),cn(u)}function Qi(u){u.A||(u.A=!0,vt(u,"complete"),vt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,vt(this,"complete"),vt(this,"abort"),cn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cn(this,!0)),Je.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?va(this):this.bb())},n.bb=function(){va(this)};function va(u){if(u.h&&typeof h<"u"&&(!u.v[1]||Jt(u)!=4||u.Z()!=2)){if(u.u&&Jt(u)==4)na(u.Ea,0,u);else if(vt(u,"readystatechange"),Jt(u)==4){u.h=!1;try{const ne=u.Z();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var E;if(E=ne===0){var M=String(u.D).match(Js)[1]||null;!M&&f.self&&f.self.location&&(M=f.self.location.protocol.slice(0,-1)),E=!dh.test(M?M.toLowerCase():"")}_=E}if(_)vt(u,"complete"),vt(u,"success");else{u.m=6;try{var q=2<Jt(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",Qi(u)}}finally{cn(u)}}}}function cn(u,g){if(u.g){Xi(u);const _=u.g,E=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||vt(u,"ready");try{_.onreadystatechange=E}catch{}}}function Xi(u){u.I&&(f.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Jt(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Jt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),oa(g)}};function _a(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Yi(u){const g={};u=(u.g&&2<=Jt(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(ee(u[E]))continue;var _=P(u[E]);const M=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const q=g[M]||[];g[M]=q,q.push(_)}D(g,function(E){return E.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function er(u,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||g}function wa(u){this.Aa=0,this.i=[],this.j=new Gs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=er("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=er("baseRetryDelayMs",5e3,u),this.cb=er("retryDelaySeedMs",1e4,u),this.Wa=er("forwardChannelMaxRetries",2,u),this.wa=er("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ys(u&&u.concurrentRequestLimit),this.Da=new hh,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=wa.prototype,n.la=8,n.G=1,n.connect=function(u,g,_,E){at(0),this.W=u,this.H=g||{},_&&E!==void 0&&(this.H.OSID=_,this.H.OAID=E),this.F=this.X,this.I=Jl(this,null,this.W),tr(this)};function Nt(u){if(Ji(u),u.G==3){var g=u.U++,_=un(u.I);if($e(_,"SID",u.K),$e(_,"RID",g),$e(_,"TYPE","terminate"),kr(u,_),g=new Pn(u,u.j,g),g.L=2,g.v=es(un(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&f.Image&&(new Image().src=g.v,_=!0),_||(g.g=Zl(g.j,null),g.g.ea(g.v)),g.F=Date.now(),qe(g)}Yl(u)}function On(u){u.g&&(xa(u),u.g.cancel(),u.g=null)}function Ji(u){On(u),u.u&&(f.clearTimeout(u.u),u.u=null),to(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&f.clearTimeout(u.s),u.s=null)}function tr(u){if(!ln(u.h)&&!u.s){u.s=!0;var g=u.Ga;Be||oe(),re||(Be(),re=!0),me.add(g,u),u.B=0}}function fh(u,g){return Fl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=kn(I(u.Ga,u,g),Xl(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const M=new Pn(this,this.j,u);let q=this.o;if(this.S&&(q?(q=S(q),R(q,this.S)):q=this.S),this.m!==null||this.O||(M.H=q,q=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var E=this.i[_];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(g+=E,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=ss(this,M,g),_=un(this.I),$e(_,"RID",u),$e(_,"CVER",22),this.D&&$e(_,"X-HTTP-Session-Id",this.D),kr(this,_),q&&(this.O?g="headers="+encodeURIComponent(String(Ar(q)))+"&"+g:this.m&&rs(_,this.m,q)),ma(this.h,M),this.Ua&&$e(_,"TYPE","init"),this.P?($e(_,"$req",g),$e(_,"SID","null"),M.T=!0,qi(M,_,null)):qi(M,_,g),this.G=2}}else this.G==3&&(u?Zi(this,u):this.i.length==0||ln(this.h)||Zi(this))};function Zi(u,g){var _;g?_=g.l:_=u.U++;const E=un(u.I);$e(E,"SID",u.K),$e(E,"RID",_),$e(E,"AID",u.T),kr(u,E),u.m&&u.o&&rs(E,u.m,u.o),_=new Pn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),g&&(u.i=g.D.concat(u.i)),g=ss(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ma(u.h,_),qi(_,E,g)}function kr(u,g){u.H&&Te(u.H,function(_,E){$e(g,E,_)}),u.l&&Yr({},function(_,E){$e(g,E,_)})}function ss(u,g,_){_=Math.min(u.i.length,_);var E=u.l?I(u.l.Na,u.l,u):null;e:{var M=u.i;let q=-1;for(;;){const ne=["count="+_];q==-1?0<_?(q=M[0].g,ne.push("ofs="+q)):q=0:ne.push("ofs="+q);let ze=!0;for(let _t=0;_t<_;_t++){let je=M[_t].g;const It=M[_t].map;if(je-=q,0>je)q=Math.max(0,M[_t].g-100),ze=!1;else try{Gl(It,ne,"req"+je+"_")}catch{E&&E(It)}}if(ze){E=ne.join("&");break e}}}return u=u.i.splice(0,_),g.D=u,E}function ni(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;Be||oe(),re||(Be(),re=!0),me.add(g,u),u.v=0}}function eo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=kn(I(u.Fa,u),Xl(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Ql(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=kn(I(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),On(this),Ql(this))};function xa(u){u.A!=null&&(f.clearTimeout(u.A),u.A=null)}function Ql(u){u.g=new Pn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=un(u.qa);$e(g,"RID","rpc"),$e(g,"SID",u.K),$e(g,"AID",u.T),$e(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&$e(g,"TO",u.ja),$e(g,"TYPE","xmlhttp"),kr(u,g),u.m&&u.o&&rs(g,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=es(un(g)),_.m=null,_.P=!0,fa(_,u)}n.Za=function(){this.C!=null&&(this.C=null,On(this),eo(this),at(19))};function to(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function no(u,g){var _=null;if(u.g==g){to(u),xa(u),u.g=null;var E=2}else if(Wt(u.h,g))_=g.D,Ul(u.h,g),E=1;else return;if(u.G!=0){if(g.o)if(E==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var M=u.B;E=Ws(),vt(E,new zi(E,_)),tr(u)}else ni(u);else if(M=g.s,M==3||M==0&&0<g.X||!(E==1&&fh(u,g)||E==2&&eo(u)))switch(_&&0<_.length&&(g=u.h,g.i=g.i.concat(_)),M){case 1:Rr(u,5);break;case 4:Rr(u,10);break;case 3:Rr(u,6);break;default:Rr(u,2)}}}function Xl(u,g){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*g}function Rr(u,g){if(u.j.info("Error code "+g),g==2){var _=I(u.fb,u),E=u.Xa;const M=!E;E=new Sr(E||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Zs(E,"https"),es(E),M?ch(E.toString(),_):Wl(E.toString(),_)}else at(2);u.G=0,u.l&&u.l.sa(g),Yl(u),Ji(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function Yl(u){if(u.G=0,u.ka=[],u.l){const g=zl(u.h);(g.length!=0||u.i.length!=0)&&(b(u.ka,g),b(u.ka,u.i),u.h.i.length=0,$(u.i),u.i.length=0),u.l.ra()}}function Jl(u,g,_){var E=_ instanceof Sr?un(_):new Sr(_);if(E.g!="")g&&(E.g=g+"."+E.g),Jr(E,E.s);else{var M=f.location;E=M.protocol,g=g?g+"."+M.hostname:M.hostname,M=+M.port;var q=new Sr(null);E&&Zs(q,E),g&&(q.g=g),M&&Jr(q,M),_&&(q.l=_),E=q}return _=u.D,g=u.ya,_&&g&&$e(E,_,g),$e(E,"VER",u.la),kr(u,E),E}function Zl(u,g,_){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new Je(new Cr({eb:_})):new Je(u.pa),g.Ha(u.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ea(){}n=Ea.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ro(){}ro.prototype.g=function(u,g){return new Gt(u,g)};function Gt(u,g){yt.call(this),this.g=new wa(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!ee(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!ee(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new nr(this)}z(Gt,yt),Gt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Gt.prototype.close=function(){Nt(this.g)},Gt.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=ia(u),u=_);g.i.push(new Ml(g.Ya++,u)),g.G==3&&tr(g)},Gt.prototype.N=function(){this.g.l=null,delete this.j,Nt(this.g),delete this.g,Gt.aa.N.call(this)};function eu(u){Xn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const _ in g){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}z(eu,Xn);function tu(){Ui.call(this),this.status=1}z(tu,Ui);function nr(u){this.g=u}z(nr,Ea),nr.prototype.ua=function(){vt(this.g,"a")},nr.prototype.ta=function(u){vt(this.g,new eu(u))},nr.prototype.sa=function(u){vt(this.g,new tu)},nr.prototype.ra=function(){vt(this.g,"b")},ro.prototype.createWebChannel=ro.prototype.g,Gt.prototype.send=Gt.prototype.o,Gt.prototype.open=Gt.prototype.m,Gt.prototype.close=Gt.prototype.close,F_=function(){return new ro},M_=function(){return Ws()},L_=Yn,hf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$i.NO_ERROR=0,$i.TIMEOUT=8,$i.HTTP_ERROR=6,oc=$i,jl.COMPLETE="complete",O_=jl,Fi.EventType=yn,yn.OPEN="a",yn.CLOSE="b",yn.ERROR="c",yn.MESSAGE="d",yt.prototype.listen=yt.prototype.K,Qa=Fi,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,V_=Je}).apply(typeof Xu<"u"?Xu:typeof self<"u"?self:typeof window<"u"?window:{});const by="@firebase/firestore",Dy="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si=new Kf("@firebase/firestore");function Co(){return Si.logLevel}function ae(n,...e){if(Si.logLevel<=ke.DEBUG){const t=e.map(Yf);Si.debug(`Firestore (${Wo}): ${n}`,...t)}}function $r(n,...e){if(Si.logLevel<=ke.ERROR){const t=e.map(Yf);Si.error(`Firestore (${Wo}): ${n}`,...t)}}function Oo(n,...e){if(Si.logLevel<=ke.WARN){const t=e.map(Yf);Si.warn(`Firestore (${Wo}): ${n}`,...t)}}function Yf(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,U_(n,s,t)}function U_(n,e,t){let s=`FIRESTORE (${Wo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw $r(s),new Error(s)}function Ue(n,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,n||U_(e,o,s)}function Ee(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends _r{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t($t.UNAUTHENTICATED))}shutdown(){}}class OS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class LS{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ue(this.o===void 0,42304);let s=this.i;const o=m=>this.i!==s?(s=this.i,t(m)):Promise.resolve();let l=new Rs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Rs,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},f=m=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(m=>f(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Rs)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ue(typeof s.accessToken=="string",31837,{l:s}),new z_(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string",2055,{h:e}),new $t(e)}}class MS{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class FS{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new MS(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class US{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Hn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ue(this.o===void 0,3512);const s=l=>{l.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.m;return this.m=l.token,ae("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const o=l=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new jy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ue(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new jy(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=zS(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%62))}return s}}function Re(n,e){return n<e?-1:n>e?1:0}function df(n,e){const t=Math.min(n.length,e.length);for(let s=0;s<t;s++){const o=n.charAt(s),l=e.charAt(s);if(o!==l)return Wd(o)===Wd(l)?Re(o,l):Wd(o)?1:-1}return Re(n.length,e.length)}const BS=55296,$S=57343;function Wd(n){const e=n.charCodeAt(0);return e>=BS&&e<=$S}function Lo(n,e,t){return n.length===e.length&&n.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy="__name__";class ar{constructor(e,t,s){t===void 0?t=0:t>e.length&&ve(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&ve(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return ar.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ar?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=ar.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Re(e.length,t.length)}static compareSegments(e,t){const s=ar.isNumericId(e),o=ar.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?ar.extractNumericId(e).compare(ar.extractNumericId(t)):df(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ks.fromString(e.substring(4,e.length-2))}}class Ge extends ar{construct(e,t,s){return new Ge(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new se(G.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new Ge(t)}static emptyPath(){return new Ge([])}}const HS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends ar{construct(e,t,s){return new jt(e,t,s)}static isValidIdentifier(e){return HS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Vy}static keyField(){return new jt([Vy])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new se(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new se(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new se(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,o+=2}else f==="`"?(h=!h,o++):f!=="."||h?(s+=f,o++):(l(),o++)}if(l(),h)throw new se(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(t)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(Ge.fromString(e))}static fromName(e){return new pe(Ge.fromString(e).popFirst(5))}static empty(){return new pe(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ge.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new Ge(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(n,e,t){if(!t)throw new se(G.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function qS(n,e,t,s){if(e===!0&&s===!0)throw new se(G.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Oy(n){if(!pe.isDocumentKey(n))throw new se(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Ly(n){if(pe.isDocumentKey(n))throw new se(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function $_(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Hc(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ve(12329,{type:typeof n})}function cr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new se(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Hc(n);throw new se(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(n,e){const t={typeString:n};return e&&(t.value=e),t}function Il(n,e){if(!$_(n))throw new se(G.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in n)){t=`JSON missing required field: '${s}'`;break}const h=n[s];if(o&&typeof h!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(l!==void 0&&h!==l.value){t=`Expected '${s}' field to equal '${l.value}'`;break}}if(t)throw new se(G.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My=-62135596800,Fy=1e6;class Ke{static now(){return Ke.fromMillis(Date.now())}static fromDate(e){return Ke.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*Fy);return new Ke(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new se(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new se(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<My)throw new se(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Fy}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ke._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Il(e,Ke._jsonSchema))return new Ke(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-My;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ke._jsonSchemaVersion="firestore/timestamp/1.0",Ke._jsonSchema={type:pt("string",Ke._jsonSchemaVersion),seconds:pt("number"),nanoseconds:pt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new Ke(0,0))}static max(){return new xe(new Ke(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl=-1;function WS(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,o=xe.fromTimestamp(s===1e9?new Ke(t+1,0):new Ke(t,s));return new bs(o,pe.empty(),e)}function GS(n){return new bs(n.readTime,n.key,dl)}class bs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new bs(xe.min(),pe.empty(),dl)}static max(){return new bs(xe.max(),pe.empty(),dl)}}function KS(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=pe.comparator(n.documentKey,e.documentKey),t!==0?t:Re(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Go(n){if(n.code!==G.FAILED_PRECONDITION||n.message!==QS)throw n;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new K((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof K?t:K.resolve(t)}catch(t){return K.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):K.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):K.reject(t)}static resolve(e){return new K((t,s)=>{t(e)})}static reject(e){return new K((t,s)=>{s(e)})}static waitFor(e){return new K((t,s)=>{let o=0,l=0,h=!1;e.forEach(f=>{++o,f.next(()=>{++l,h&&l===o&&t()},m=>s(m))}),h=!0,l===o&&t()})}static or(e){let t=K.resolve(!1);for(const s of e)t=t.next(o=>o?K.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,l)=>{s.push(t.call(this,o,l))}),this.waitFor(s)}static mapArray(e,t){return new K((s,o)=>{const l=e.length,h=new Array(l);let f=0;for(let m=0;m<l;m++){const v=m;t(e[v]).next(x=>{h[v]=x,++f,f===l&&s(h)},x=>o(x))}})}static doWhile(e,t){return new K((s,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):s()};l()})}}function YS(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ko(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}qc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf=-1;function Wc(n){return n==null}function Ec(n){return n===0&&1/n==-1/0}function JS(n){return typeof n=="number"&&Number.isInteger(n)&&!Ec(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="";function ZS(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Uy(e)),e=eC(n.get(t),e);return Uy(e)}function eC(n,e){let t=e;const s=n.length;for(let o=0;o<s;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case H_:t+="";break;default:t+=l}}return t}function Uy(n){return n+H_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Fs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function q_(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,t){this.comparator=e,this.root=t||Dt.EMPTY}insert(e,t){return new rt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Dt.BLACK,null,null))}remove(e){return new rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yu(this.root,e,this.comparator,!0)}}class Yu{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dt{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??Dt.RED,this.left=o??Dt.EMPTY,this.right=l??Dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new Dt(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Dt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}Dt.EMPTY=null,Dt.RED=!0,Dt.BLACK=!1;Dt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,t,s,o,l){return this}insert(e,t,s){return new Dt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new By(this.data.getIterator())}getIteratorFrom(e){return new By(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Et)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Et(this.comparator);return t.data=e,t}}class By{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new mn([])}unionWith(e){let t=new Et(jt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new mn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Lo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new W_("Invalid base64 string: "+l):l}}(e);return new Vt(t)}static fromUint8Array(e){const t=function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l}(e);return new Vt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vt.EMPTY_BYTE_STRING=new Vt("");const tC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ds(n){if(Ue(!!n,39018),typeof n=="string"){let e=0;const t=tC.exec(n);if(Ue(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ut(n.seconds),nanos:ut(n.nanos)}}function ut(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function js(n){return typeof n=="string"?Vt.fromBase64String(n):Vt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="server_timestamp",K_="__type__",Q_="__previous_value__",X_="__local_write_time__";function ep(n){return(n?.mapValue?.fields||{})[K_]?.stringValue===G_}function Gc(n){const e=n.mapValue.fields[Q_];return ep(e)?Gc(e):e}function fl(n){const e=Ds(n.mapValue.fields[X_].timestampValue);return new Ke(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,t,s,o,l,h,f,m,v,x){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=v,this.isUsingEmulator=x}}const Tc="(default)";class pl{constructor(e,t){this.projectId=e,this.database=t||Tc}static empty(){return new pl("","")}get isDefaultDatabase(){return this.database===Tc}isEqual(e){return e instanceof pl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="__type__",rC="__max__",Ju={mapValue:{}},J_="__vector__",Ic="value";function Vs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ep(n)?4:iC(n)?9007199254740991:sC(n)?10:11:ve(28295,{value:n})}function yr(n,e){if(n===e)return!0;const t=Vs(n);if(t!==Vs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return fl(n).isEqual(fl(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=Ds(o.timestampValue),f=Ds(l.timestampValue);return h.seconds===f.seconds&&h.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,l){return js(o.bytesValue).isEqual(js(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,l){return ut(o.geoPointValue.latitude)===ut(l.geoPointValue.latitude)&&ut(o.geoPointValue.longitude)===ut(l.geoPointValue.longitude)}(n,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return ut(o.integerValue)===ut(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=ut(o.doubleValue),f=ut(l.doubleValue);return h===f?Ec(h)===Ec(f):isNaN(h)&&isNaN(f)}return!1}(n,e);case 9:return Lo(n.arrayValue.values||[],e.arrayValue.values||[],yr);case 10:case 11:return function(o,l){const h=o.mapValue.fields||{},f=l.mapValue.fields||{};if(zy(h)!==zy(f))return!1;for(const m in h)if(h.hasOwnProperty(m)&&(f[m]===void 0||!yr(h[m],f[m])))return!1;return!0}(n,e);default:return ve(52216,{left:n})}}function ml(n,e){return(n.values||[]).find(t=>yr(t,e))!==void 0}function Mo(n,e){if(n===e)return 0;const t=Vs(n),s=Vs(e);if(t!==s)return Re(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Re(n.booleanValue,e.booleanValue);case 2:return function(l,h){const f=ut(l.integerValue||l.doubleValue),m=ut(h.integerValue||h.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1}(n,e);case 3:return $y(n.timestampValue,e.timestampValue);case 4:return $y(fl(n),fl(e));case 5:return df(n.stringValue,e.stringValue);case 6:return function(l,h){const f=js(l),m=js(h);return f.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(l,h){const f=l.split("/"),m=h.split("/");for(let v=0;v<f.length&&v<m.length;v++){const x=Re(f[v],m[v]);if(x!==0)return x}return Re(f.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,h){const f=Re(ut(l.latitude),ut(h.latitude));return f!==0?f:Re(ut(l.longitude),ut(h.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Hy(n.arrayValue,e.arrayValue);case 10:return function(l,h){const f=l.fields||{},m=h.fields||{},v=f[Ic]?.arrayValue,x=m[Ic]?.arrayValue,T=Re(v?.values?.length||0,x?.values?.length||0);return T!==0?T:Hy(v,x)}(n.mapValue,e.mapValue);case 11:return function(l,h){if(l===Ju.mapValue&&h===Ju.mapValue)return 0;if(l===Ju.mapValue)return 1;if(h===Ju.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),v=h.fields||{},x=Object.keys(v);m.sort(),x.sort();for(let T=0;T<m.length&&T<x.length;++T){const I=df(m[T],x[T]);if(I!==0)return I;const L=Mo(f[m[T]],v[x[T]]);if(L!==0)return L}return Re(m.length,x.length)}(n.mapValue,e.mapValue);default:throw ve(23264,{he:t})}}function $y(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Re(n,e);const t=Ds(n),s=Ds(e),o=Re(t.seconds,s.seconds);return o!==0?o:Re(t.nanos,s.nanos)}function Hy(n,e){const t=n.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=Mo(t[o],s[o]);if(l)return l}return Re(t.length,s.length)}function Fo(n){return ff(n)}function ff(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const s=Ds(t);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return js(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return pe.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let s="[",o=!0;for(const l of t.values||[])o?o=!1:s+=",",s+=ff(l);return s+"]"}(n.arrayValue):"mapValue"in n?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of s)l?l=!1:o+=",",o+=`${h}:${ff(t.fields[h])}`;return o+"}"}(n.mapValue):ve(61005,{value:n})}function ac(n){switch(Vs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Gc(n);return e?16+ac(e):16;case 5:return 2*n.stringValue.length;case 6:return js(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,l)=>o+ac(l),0)}(n.arrayValue);case 10:case 11:return function(s){let o=0;return Fs(s.fields,(l,h)=>{o+=l.length+ac(h)}),o}(n.mapValue);default:throw ve(13486,{value:n})}}function qy(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function pf(n){return!!n&&"integerValue"in n}function tp(n){return!!n&&"arrayValue"in n}function Wy(n){return!!n&&"nullValue"in n}function Gy(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function lc(n){return!!n&&"mapValue"in n}function sC(n){return(n?.mapValue?.fields||{})[Y_]?.stringValue===J_}function tl(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Fs(n.mapValue.fields,(t,s)=>e.mapValue.fields[t]=tl(s)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=tl(n.arrayValue.values[t]);return e}return{...n}}function iC(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===rC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.value=e}static empty(){return new an({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!lc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=tl(t)}setAll(e){let t=jt.emptyPath(),s={},o=[];e.forEach((h,f)=>{if(!t.isImmediateParentOf(f)){const m=this.getFieldsMap(t);this.applyChanges(m,s,o),s={},o=[],t=f.popLast()}h?s[f.lastSegment()]=tl(h):o.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());lc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return yr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];lc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Fs(t,(o,l)=>e[o]=l);for(const o of s)delete e[o]}clone(){return new an(tl(this.value))}}function Z_(n){const e=[];return Fs(n.fields,(t,s)=>{const o=new jt([t]);if(lc(s)){const l=Z_(s.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)}),new mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,t,s,o,l,h,f){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=h,this.documentState=f}static newInvalidDocument(e){return new Ht(e,0,xe.min(),xe.min(),xe.min(),an.empty(),0)}static newFoundDocument(e,t,s,o){return new Ht(e,1,t,xe.min(),s,o,0)}static newNoDocument(e,t){return new Ht(e,2,t,xe.min(),xe.min(),an.empty(),0)}static newUnknownDocument(e,t){return new Ht(e,3,t,xe.min(),xe.min(),an.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,t){this.position=e,this.inclusive=t}}function Ky(n,e,t){let s=0;for(let o=0;o<n.position.length;o++){const l=e[o],h=n.position[o];if(l.field.isKeyField()?s=pe.comparator(pe.fromName(h.referenceValue),t.key):s=Mo(h,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function Qy(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!yr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,t="asc"){this.field=e,this.dir=t}}function oC(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{}class ft extends e0{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new lC(e,t,s):t==="array-contains"?new hC(e,s):t==="in"?new dC(e,s):t==="not-in"?new fC(e,s):t==="array-contains-any"?new pC(e,s):new ft(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new uC(e,s):new cC(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Mo(t,this.value)):t!==null&&Vs(this.value)===Vs(t)&&this.matchesComparison(Mo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kn extends e0{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Kn(e,t)}matches(e){return t0(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function t0(n){return n.op==="and"}function n0(n){return aC(n)&&t0(n)}function aC(n){for(const e of n.filters)if(e instanceof Kn)return!1;return!0}function mf(n){if(n instanceof ft)return n.field.canonicalString()+n.op.toString()+Fo(n.value);if(n0(n))return n.filters.map(e=>mf(e)).join(",");{const e=n.filters.map(t=>mf(t)).join(",");return`${n.op}(${e})`}}function r0(n,e){return n instanceof ft?function(s,o){return o instanceof ft&&s.op===o.op&&s.field.isEqual(o.field)&&yr(s.value,o.value)}(n,e):n instanceof Kn?function(s,o){return o instanceof Kn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((l,h,f)=>l&&r0(h,o.filters[f]),!0):!1}(n,e):void ve(19439)}function s0(n){return n instanceof ft?function(t){return`${t.field.canonicalString()} ${t.op} ${Fo(t.value)}`}(n):n instanceof Kn?function(t){return t.op.toString()+" {"+t.getFilters().map(s0).join(" ,")+"}"}(n):"Filter"}class lC extends ft{constructor(e,t,s){super(e,t,s),this.key=pe.fromName(s.referenceValue)}matches(e){const t=pe.comparator(e.key,this.key);return this.matchesComparison(t)}}class uC extends ft{constructor(e,t){super(e,"in",t),this.keys=i0("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class cC extends ft{constructor(e,t){super(e,"not-in",t),this.keys=i0("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function i0(n,e){return(e.arrayValue?.values||[]).map(t=>pe.fromName(t.referenceValue))}class hC extends ft{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return tp(t)&&ml(t.arrayValue,this.value)}}class dC extends ft{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ml(this.value.arrayValue,t)}}class fC extends ft{constructor(e,t){super(e,"not-in",t)}matches(e){if(ml(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!ml(this.value.arrayValue,t)}}class pC extends ft{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!tp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>ml(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e,t=null,s=[],o=[],l=null,h=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=h,this.endAt=f,this.Te=null}}function Xy(n,e=null,t=[],s=[],o=null,l=null,h=null){return new mC(n,e,t,s,o,l,h)}function np(n){const e=Ee(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>mf(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),Wc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Fo(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Fo(s)).join(",")),e.Te=t}return e.Te}function rp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!oC(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!r0(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Qy(n.startAt,e.startAt)&&Qy(n.endAt,e.endAt)}function gf(n){return pe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,t=null,s=[],o=[],l=null,h="F",f=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=h,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function gC(n,e,t,s,o,l,h,f){return new Qo(n,e,t,s,o,l,h,f)}function sp(n){return new Qo(n)}function Yy(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function o0(n){return n.collectionGroup!==null}function nl(n){const e=Ee(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let f=new Et(jt.comparator);return h.filters.forEach(m=>{m.getFlattenedFilters().forEach(v=>{v.isInequality()&&(f=f.add(v.field))})}),f})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new gl(l,s))}),t.has(jt.keyField().canonicalString())||e.Ie.push(new gl(jt.keyField(),s))}return e.Ie}function hr(n){const e=Ee(n);return e.Ee||(e.Ee=yC(e,nl(n))),e.Ee}function yC(n,e){if(n.limitType==="F")return Xy(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new gl(o.field,l)});const t=n.endAt?new Sc(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new Sc(n.startAt.position,n.startAt.inclusive):null;return Xy(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function yf(n,e){const t=n.filters.concat([e]);return new Qo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function vf(n,e,t){return new Qo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Kc(n,e){return rp(hr(n),hr(e))&&n.limitType===e.limitType}function a0(n){return`${np(hr(n))}|lt:${n.limitType}`}function Ao(n){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>s0(o)).join(", ")}]`),Wc(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>Fo(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>Fo(o)).join(",")),`Target(${s})`}(hr(n))}; limitType=${n.limitType})`}function Qc(n,e){return e.isFoundDocument()&&function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):pe.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(n,e)&&function(s,o){for(const l of nl(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(n,e)&&function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0}(n,e)&&function(s,o){return!(s.startAt&&!function(h,f,m){const v=Ky(h,f,m);return h.inclusive?v<=0:v<0}(s.startAt,nl(s),o)||s.endAt&&!function(h,f,m){const v=Ky(h,f,m);return h.inclusive?v>=0:v>0}(s.endAt,nl(s),o))}(n,e)}function vC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function l0(n){return(e,t)=>{let s=!1;for(const o of nl(n)){const l=_C(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function _C(n,e,t){const s=n.field.isKeyField()?pe.comparator(e.key,t.key):function(l,h,f){const m=h.data.field(l),v=f.data.field(l);return m!==null&&v!==null?Mo(m,v):ve(42886)}(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return ve(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Fs(this.inner,(t,s)=>{for(const[o,l]of s)e(o,l)})}isEmpty(){return q_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=new rt(pe.comparator);function Hr(){return wC}const u0=new rt(pe.comparator);function Xa(...n){let e=u0;for(const t of n)e=e.insert(t.key,t);return e}function c0(n){let e=u0;return n.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function vi(){return rl()}function h0(){return rl()}function rl(){return new Pi(n=>n.toString(),(n,e)=>n.isEqual(e))}const xC=new rt(pe.comparator),EC=new Et(pe.comparator);function Ne(...n){let e=EC;for(const t of n)e=e.add(t);return e}const TC=new Et(Re);function IC(){return TC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ec(e)?"-0":e}}function d0(n){return{integerValue:""+n}}function SC(n,e){return JS(e)?d0(e):ip(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(){this._=void 0}}function CC(n,e,t){return n instanceof Cc?function(o,l){const h={fields:{[K_]:{stringValue:G_},[X_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&ep(l)&&(l=Gc(l)),l&&(h.fields[Q_]=l),{mapValue:h}}(t,e):n instanceof yl?p0(n,e):n instanceof vl?m0(n,e):function(o,l){const h=f0(o,l),f=Jy(h)+Jy(o.Ae);return pf(h)&&pf(o.Ae)?d0(f):ip(o.serializer,f)}(n,e)}function AC(n,e,t){return n instanceof yl?p0(n,e):n instanceof vl?m0(n,e):t}function f0(n,e){return n instanceof Ac?function(s){return pf(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class Cc extends Xc{}class yl extends Xc{constructor(e){super(),this.elements=e}}function p0(n,e){const t=g0(e);for(const s of n.elements)t.some(o=>yr(o,s))||t.push(s);return{arrayValue:{values:t}}}class vl extends Xc{constructor(e){super(),this.elements=e}}function m0(n,e){let t=g0(e);for(const s of n.elements)t=t.filter(o=>!yr(o,s));return{arrayValue:{values:t}}}class Ac extends Xc{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Jy(n){return ut(n.integerValue||n.doubleValue)}function g0(n){return tp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function kC(n,e){return n.field.isEqual(e.field)&&function(s,o){return s instanceof yl&&o instanceof yl||s instanceof vl&&o instanceof vl?Lo(s.elements,o.elements,yr):s instanceof Ac&&o instanceof Ac?yr(s.Ae,o.Ae):s instanceof Cc&&o instanceof Cc}(n.transform,e.transform)}class RC{constructor(e,t){this.version=e,this.transformResults=t}}class Wn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Wn}static exists(e){return new Wn(void 0,e)}static updateTime(e){return new Wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function uc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Yc{}function y0(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new op(n.key,Wn.none()):new Sl(n.key,n.data,Wn.none());{const t=n.data,s=an.empty();let o=new Et(jt.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?s.delete(l):s.set(l,h),o=o.add(l)}return new Us(n.key,s,new mn(o.toArray()),Wn.none())}}function NC(n,e,t){n instanceof Sl?function(o,l,h){const f=o.value.clone(),m=ev(o.fieldTransforms,l,h.transformResults);f.setAll(m),l.convertToFoundDocument(h.version,f).setHasCommittedMutations()}(n,e,t):n instanceof Us?function(o,l,h){if(!uc(o.precondition,l))return void l.convertToUnknownDocument(h.version);const f=ev(o.fieldTransforms,l,h.transformResults),m=l.data;m.setAll(v0(o)),m.setAll(f),l.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(n,e,t):function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function sl(n,e,t,s){return n instanceof Sl?function(l,h,f,m){if(!uc(l.precondition,h))return f;const v=l.value.clone(),x=tv(l.fieldTransforms,m,h);return v.setAll(x),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),null}(n,e,t,s):n instanceof Us?function(l,h,f,m){if(!uc(l.precondition,h))return f;const v=tv(l.fieldTransforms,m,h),x=h.data;return x.setAll(v0(l)),x.setAll(v),h.convertToFoundDocument(h.version,x).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(n,e,t,s):function(l,h,f){return uc(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):f}(n,e,t)}function PC(n,e){let t=null;for(const s of n.fieldTransforms){const o=e.data.field(s.field),l=f0(s.transform,o||null);l!=null&&(t===null&&(t=an.empty()),t.set(s.field,l))}return t||null}function Zy(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Lo(s,o,(l,h)=>kC(l,h))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Sl extends Yc{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Us extends Yc{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function v0(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}}),e}function ev(n,e,t){const s=new Map;Ue(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const l=n[o],h=l.transform,f=e.data.field(l.field);s.set(l.field,AC(h,f,t[o]))}return s}function tv(n,e,t){const s=new Map;for(const o of n){const l=o.transform,h=t.data.field(o.field);s.set(o.field,CC(l,h,e))}return s}class op extends Yc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bC extends Yc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&NC(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=sl(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=sl(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=h0();return this.mutations.forEach(o=>{const l=e.get(o.key),h=l.overlayedDocument;let f=this.applyToLocalView(h,l.mutatedFields);f=t.has(o.key)?null:f;const m=y0(h,f);m!==null&&s.set(o.key,m),h.isValidDocument()||h.convertToNoDocument(xe.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ne())}isEqual(e){return this.batchId===e.batchId&&Lo(this.mutations,e.mutations,(t,s)=>Zy(t,s))&&Lo(this.baseMutations,e.baseMutations,(t,s)=>Zy(t,s))}}class ap{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Ue(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=function(){return xC}();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,s[h].version);return new ap(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,Ve;function OC(n){switch(n){case G.OK:return ve(64938);case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0;default:return ve(15467,{code:n})}}function _0(n){if(n===void 0)return $r("GRPC error has no .code"),G.UNKNOWN;switch(n){case dt.OK:return G.OK;case dt.CANCELLED:return G.CANCELLED;case dt.UNKNOWN:return G.UNKNOWN;case dt.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case dt.INTERNAL:return G.INTERNAL;case dt.UNAVAILABLE:return G.UNAVAILABLE;case dt.UNAUTHENTICATED:return G.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case dt.NOT_FOUND:return G.NOT_FOUND;case dt.ALREADY_EXISTS:return G.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return G.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case dt.ABORTED:return G.ABORTED;case dt.OUT_OF_RANGE:return G.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return G.UNIMPLEMENTED;case dt.DATA_LOSS:return G.DATA_LOSS;default:return ve(39323,{code:n})}}(Ve=dt||(dt={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=new ks([4294967295,4294967295],0);function nv(n){const e=LC().encode(n),t=new j_;return t.update(e),new Uint8Array(t.digest())}function rv(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ks([t,s],0),new ks([o,l],0)]}class lp{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Ya(`Invalid padding: ${t}`);if(s<0)throw new Ya(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ya(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Ya(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ks.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(ks.fromNumber(s)));return o.compare(MC)===1&&(o=new ks([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=nv(e),[s,o]=rv(t);for(let l=0;l<this.hashCount;l++){const h=this.ye(s,o,l);if(!this.we(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new lp(l,o,t);return s.forEach(f=>h.insert(f)),h}insert(e){if(this.ge===0)return;const t=nv(e),[s,o]=rv(t);for(let l=0;l<this.hashCount;l++){const h=this.ye(s,o,l);this.Se(h)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Ya extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Cl.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Jc(xe.min(),o,new rt(Re),Hr(),Ne())}}class Cl{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Cl(s,t,Ne(),Ne(),Ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,t,s,o){this.be=e,this.removedTargetIds=t,this.key=s,this.De=o}}class w0{constructor(e,t){this.targetId=e,this.Ce=t}}class x0{constructor(e,t,s=Vt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class sv{constructor(){this.ve=0,this.Fe=iv(),this.Me=Vt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ne(),t=Ne(),s=Ne();return this.Fe.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:ve(38017,{changeType:l})}}),new Cl(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=iv()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ue(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class FC{constructor(e){this.Ge=e,this.ze=new Map,this.je=Hr(),this.Je=Zu(),this.He=Zu(),this.Ye=new rt(Re)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((s,o)=>{this.rt(o)&&t(o)})}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(gf(l))if(s===0){const h=new pe(l.path);this.et(t,h,Ht.newNoDocument(h,xe.min()))}else Ue(s===1,20013,{expectedCount:s});else{const h=this._t(t);if(h!==s){const f=this.ut(e),m=f?this.ct(f,e,h):1;if(m!==0){this.it(t);const v=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,v)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let h,f;try{h=js(s).toUint8Array()}catch(m){if(m instanceof W_)return Oo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new lp(h,o,l)}catch(m){return Oo(m instanceof Ya?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach(l=>{const h=this.Ge.ht(),f=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(t,l,null),o++)}),o}Tt(e){const t=new Map;this.ze.forEach((l,h)=>{const f=this.ot(h);if(f){if(l.current&&gf(f.target)){const m=new pe(f.target.path);this.It(m).has(h)||this.Et(h,m)||this.et(h,m,Ht.newNoDocument(m,e))}l.Be&&(t.set(h,l.ke()),l.qe())}});let s=Ne();this.He.forEach((l,h)=>{let f=!0;h.forEachWhile(m=>{const v=this.ot(m);return!v||v.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(s=s.add(l))}),this.je.forEach((l,h)=>h.setReadTime(e));const o=new Jc(e,t,this.Ye,this.je,s);return this.je=Hr(),this.Je=Zu(),this.He=Zu(),this.Ye=new rt(Re),o}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new sv,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Et(Re),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Et(Re),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ae("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new sv),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Zu(){return new rt(pe.comparator)}function iv(){return new rt(pe.comparator)}const UC={asc:"ASCENDING",desc:"DESCENDING"},zC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BC={and:"AND",or:"OR"};class $C{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function _f(n,e){return n.useProto3Json||Wc(e)?e:{value:e}}function kc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function E0(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function HC(n,e){return kc(n,e.toTimestamp())}function dr(n){return Ue(!!n,49232),xe.fromTimestamp(function(t){const s=Ds(t);return new Ke(s.seconds,s.nanos)}(n))}function up(n,e){return wf(n,e).canonicalString()}function wf(n,e){const t=function(o){return new Ge(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function T0(n){const e=Ge.fromString(n);return Ue(k0(e),10190,{key:e.toString()}),e}function xf(n,e){return up(n.databaseId,e.path)}function Gd(n,e){const t=T0(e);if(t.get(1)!==n.databaseId.projectId)throw new se(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new se(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new pe(S0(t))}function I0(n,e){return up(n.databaseId,e)}function qC(n){const e=T0(n);return e.length===4?Ge.emptyPath():S0(e)}function Ef(n){return new Ge(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function S0(n){return Ue(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function ov(n,e,t){return{name:xf(n,e),fields:t.value.mapValue.fields}}function WC(n,e){let t;if("targetChange"in e){e.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:ve(39313,{state:v})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(v,x){return v.useProto3Json?(Ue(x===void 0||typeof x=="string",58123),Vt.fromBase64String(x||"")):(Ue(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),Vt.fromUint8Array(x||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,f=h&&function(v){const x=v.code===void 0?G.UNKNOWN:_0(v.code);return new se(x,v.message||"")}(h);t=new x0(s,o,l,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Gd(n,s.document.name),l=dr(s.document.updateTime),h=s.document.createTime?dr(s.document.createTime):xe.min(),f=new an({mapValue:{fields:s.document.fields}}),m=Ht.newFoundDocument(o,l,h,f),v=s.targetIds||[],x=s.removedTargetIds||[];t=new cc(v,x,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Gd(n,s.document),l=s.readTime?dr(s.readTime):xe.min(),h=Ht.newNoDocument(o,l),f=s.removedTargetIds||[];t=new cc([],f,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Gd(n,s.document),l=s.removedTargetIds||[];t=new cc([],l,o,null)}else{if(!("filter"in e))return ve(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,h=new VC(o,l),f=s.targetId;t=new w0(f,h)}}return t}function GC(n,e){let t;if(e instanceof Sl)t={update:ov(n,e.key,e.value)};else if(e instanceof op)t={delete:xf(n,e.key)};else if(e instanceof Us)t={update:ov(n,e.key,e.data),updateMask:n2(e.fieldMask)};else{if(!(e instanceof bC))return ve(16599,{Vt:e.type});t={verify:xf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,h){const f=h.transform;if(f instanceof Cc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof yl)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof vl)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Ac)return{fieldPath:h.field.canonicalString(),increment:f.Ae};throw ve(20930,{transform:h.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:HC(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:ve(27497)}(n,e.precondition)),t}function KC(n,e){return n&&n.length>0?(Ue(e!==void 0,14353),n.map(t=>function(o,l){let h=o.updateTime?dr(o.updateTime):dr(l);return h.isEqual(xe.min())&&(h=dr(l)),new RC(h,o.transformResults||[])}(t,e))):[]}function QC(n,e){return{documents:[I0(n,e.path)]}}function XC(n,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=I0(n,o);const l=function(v){if(v.length!==0)return A0(Kn.create(v,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const h=function(v){if(v.length!==0)return v.map(x=>function(I){return{field:ko(I.field),direction:ZC(I.dir)}}(x))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const f=_f(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ft:t,parent:o}}function YC(n){let e=qC(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Ue(s===1,65062);const x=t.from[0];x.allDescendants?o=x.collectionId:e=e.child(x.collectionId)}let l=[];t.where&&(l=function(T){const I=C0(T);return I instanceof Kn&&n0(I)?I.getFilters():[I]}(t.where));let h=[];t.orderBy&&(h=function(T){return T.map(I=>function(z){return new gl(Ro(z.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(z.direction))}(I))}(t.orderBy));let f=null;t.limit&&(f=function(T){let I;return I=typeof T=="object"?T.value:T,Wc(I)?null:I}(t.limit));let m=null;t.startAt&&(m=function(T){const I=!!T.before,L=T.values||[];return new Sc(L,I)}(t.startAt));let v=null;return t.endAt&&(v=function(T){const I=!T.before,L=T.values||[];return new Sc(L,I)}(t.endAt)),gC(e,o,h,l,f,"F",m,v)}function JC(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function C0(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Ro(t.unaryFilter.field);return ft.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ro(t.unaryFilter.field);return ft.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ro(t.unaryFilter.field);return ft.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Ro(t.unaryFilter.field);return ft.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}}(n):n.fieldFilter!==void 0?function(t){return ft.create(Ro(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Kn.create(t.compositeFilter.filters.map(s=>C0(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ve(1026)}}(t.compositeFilter.op))}(n):ve(30097,{filter:n})}function ZC(n){return UC[n]}function e2(n){return zC[n]}function t2(n){return BC[n]}function ko(n){return{fieldPath:n.canonicalString()}}function Ro(n){return jt.fromServerFormat(n.fieldPath)}function A0(n){return n instanceof ft?function(t){if(t.op==="=="){if(Gy(t.value))return{unaryFilter:{field:ko(t.field),op:"IS_NAN"}};if(Wy(t.value))return{unaryFilter:{field:ko(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Gy(t.value))return{unaryFilter:{field:ko(t.field),op:"IS_NOT_NAN"}};if(Wy(t.value))return{unaryFilter:{field:ko(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ko(t.field),op:e2(t.op),value:t.value}}}(n):n instanceof Kn?function(t){const s=t.getFilters().map(o=>A0(o));return s.length===1?s[0]:{compositeFilter:{op:t2(t.op),filters:s}}}(n):ve(54877,{filter:n})}function n2(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function k0(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,t,s,o,l=xe.min(),h=xe.min(),f=Vt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new Ss(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e){this.yt=e}}function s2(n){const e=YC({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?vf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(){this.Cn=new o2}addToCollectionParentIndex(e,t){return this.Cn.add(t),K.resolve()}getCollectionParents(e,t){return K.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return K.resolve()}deleteFieldIndex(e,t){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,t){return K.resolve()}getDocumentsMatchingTarget(e,t){return K.resolve(null)}getIndexType(e,t){return K.resolve(0)}getFieldIndexes(e,t){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,t){return K.resolve(bs.min())}getMinOffsetFromCollectionGroup(e,t){return K.resolve(bs.min())}updateCollectionGroup(e,t,s){return K.resolve()}updateIndexEntries(e,t){return K.resolve()}}class o2{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Et(Ge.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Et(Ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},R0=41943040;class on{static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(R0,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Uo(0)}static cr(){return new Uo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="LruGarbageCollector",a2=1048576;function uv([n,e],[t,s]){const o=Re(n,t);return o===0?Re(e,s):o}class l2{constructor(e){this.Ir=e,this.buffer=new Et(uv),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();uv(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class u2{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ae(lv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ko(t)?ae(lv,"Ignoring IndexedDB error during garbage collection: ",t):await Go(t)}await this.Vr(3e5)})}}class c2{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return K.resolve(qc.ce);const s=new l2(t);return this.mr.forEachTarget(e,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(av)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),av):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,o,l,h,f,m,v;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(s=T,f=Date.now(),this.removeTargets(e,s,t))).next(T=>(l=T,m=Date.now(),this.removeOrphanedDocuments(e,s))).next(T=>(v=Date.now(),Co()<=ke.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-x}ms
	Determined least recently used ${o} in `+(f-h)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${T} documents in `+(v-m)+`ms
Total Duration: ${v-x}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:T})))}}function h2(n,e){return new c2(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(){this.changes=new Pi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ht.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?K.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&sl(s.mutation,o,mn.empty(),Ke.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Ne()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Ne()){const o=vi();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(l=>{let h=Xa();return l.forEach((f,m)=>{h=h.insert(f,m.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=vi();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Ne()))}populateOverlays(e,t,s){const o=[];return s.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((h,f)=>{t.set(h,f)})})}computeViews(e,t,s,o){let l=Hr();const h=rl(),f=function(){return rl()}();return t.forEach((m,v)=>{const x=s.get(v.key);o.has(v.key)&&(x===void 0||x.mutation instanceof Us)?l=l.insert(v.key,v):x!==void 0?(h.set(v.key,x.mutation.getFieldMask()),sl(x.mutation,v,x.mutation.getFieldMask(),Ke.now())):h.set(v.key,mn.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((v,x)=>h.set(v,x)),t.forEach((v,x)=>f.set(v,new f2(x,h.get(v)??null))),f))}recalculateAndSaveOverlays(e,t){const s=rl();let o=new rt((h,f)=>h-f),l=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const f of h)f.keys().forEach(m=>{const v=t.get(m);if(v===null)return;let x=s.get(m)||mn.empty();x=f.applyToLocalView(v,x),s.set(m,x);const T=(o.get(f.batchId)||Ne()).add(m);o=o.insert(f.batchId,T)})}).next(()=>{const h=[],f=o.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),v=m.key,x=m.value,T=h0();x.forEach(I=>{if(!l.has(I)){const L=y0(t.get(I),s.get(I));L!==null&&T.set(I,L),l=l.add(I)}}),h.push(this.documentOverlayCache.saveOverlays(e,v,T))}return K.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return pe.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):o0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):K.resolve(vi());let f=dl,m=l;return h.next(v=>K.forEach(v,(x,T)=>(f<T.largestBatchId&&(f=T.largestBatchId),l.get(x)?K.resolve():this.remoteDocumentCache.getEntry(e,x).next(I=>{m=m.insert(x,I)}))).next(()=>this.populateOverlays(e,v,l)).next(()=>this.computeViews(e,m,v,Ne())).next(x=>({batchId:f,changes:c0(x)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new pe(t)).next(s=>{let o=Xa();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let h=Xa();return this.indexManager.getCollectionParents(e,l).next(f=>K.forEach(f,m=>{const v=function(T,I){return new Qo(I,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next(x=>{x.forEach((T,I)=>{h=h.insert(T,I)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o))).next(h=>{l.forEach((m,v)=>{const x=v.getKey();h.get(x)===null&&(h=h.insert(x,Ht.newInvalidDocument(x)))});let f=Xa();return h.forEach((m,v)=>{const x=l.get(m);x!==void 0&&sl(x.mutation,v,mn.empty(),Ke.now()),Qc(t,v)&&(f=f.insert(m,v))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return K.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:dr(o.createTime)}}(t)),K.resolve()}getNamedQuery(e,t){return K.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(o){return{name:o.name,query:s2(o.bundledQuery),readTime:dr(o.readTime)}}(t)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(){this.overlays=new rt(pe.comparator),this.qr=new Map}getOverlay(e,t){return K.resolve(this.overlays.get(t))}getOverlays(e,t){const s=vi();return K.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&s.set(o,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,l)=>{this.St(e,t,l)}),K.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.qr.delete(s)),K.resolve()}getOverlaysForCollection(e,t,s){const o=vi(),l=t.length+1,h=new pe(t.child("")),f=this.overlays.getIteratorFrom(h);for(;f.hasNext();){const m=f.getNext().value,v=m.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===l&&m.largestBatchId>s&&o.set(m.getKey(),m)}return K.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new rt((v,x)=>v-x);const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>s){let x=l.get(v.largestBatchId);x===null&&(x=vi(),l=l.insert(v.largestBatchId,x)),x.set(v.getKey(),v)}}const f=vi(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((v,x)=>f.set(v,x)),!(f.size()>=o)););return K.resolve(f)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new jC(t,s));let l=this.qr.get(t);l===void 0&&(l=Ne(),this.qr.set(t,l)),this.qr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(){this.sessionToken=Vt.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(){this.Qr=new Et(kt.$r),this.Ur=new Et(kt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new kt(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Gr(new kt(e,t))}zr(e,t){e.forEach(s=>this.removeReference(s,t))}jr(e){const t=new pe(new Ge([])),s=new kt(t,e),o=new kt(t,e+1),l=[];return this.Ur.forEachInRange([s,o],h=>{this.Gr(h),l.push(h.key)}),l}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new pe(new Ge([])),s=new kt(t,e),o=new kt(t,e+1);let l=Ne();return this.Ur.forEachInRange([s,o],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new kt(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class kt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return pe.comparator(e.key,t.key)||Re(e.Yr,t.Yr)}static Kr(e,t){return Re(e.Yr,t.Yr)||pe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Et(kt.$r)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new DC(l,t,s,o);this.mutationQueue.push(h);for(const f of o)this.Zr=this.Zr.add(new kt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return K.resolve(h)}lookupMutationBatch(e,t){return K.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ei(s),l=o<0?0:o;return K.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?Zf:this.tr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new kt(t,0),o=new kt(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,o],h=>{const f=this.Xr(h.Yr);l.push(f)}),K.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Et(Re);return t.forEach(o=>{const l=new kt(o,0),h=new kt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,h],f=>{s=s.add(f.Yr)})}),K.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;pe.isDocumentKey(l)||(l=l.child(""));const h=new kt(new pe(l),0);let f=new Et(Re);return this.Zr.forEachWhile(m=>{const v=m.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(f=f.add(m.Yr)),!0)},h),K.resolve(this.ti(f))}ti(e){const t=[];return e.forEach(s=>{const o=this.Xr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Ue(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return K.forEach(t.mutations,o=>{const l=new kt(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,t){const s=new kt(t,0),o=this.Zr.firstAfterOrEqual(s);return K.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e){this.ri=e,this.docs=function(){return new rt(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,h=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return K.resolve(s?s.document.mutableCopy():Ht.newInvalidDocument(t))}getEntries(e,t){let s=Hr();return t.forEach(o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():Ht.newInvalidDocument(o))}),K.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=Hr();const h=t.path,f=new pe(h.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:v,value:{document:x}}=m.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||KS(GS(x),s)<=0||(o.has(x.key)||Qc(t,x))&&(l=l.insert(x.key,x.mutableCopy()))}return K.resolve(l)}getAllFromCollectionGroup(e,t,s,o){ve(9500)}ii(e,t){return K.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new w2(this)}getSize(e){return K.resolve(this.size)}}class w2 extends d2{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)}),K.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e){this.persistence=e,this.si=new Pi(t=>np(t),rp),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new cp,this.targetCount=0,this.ai=Uo.ur()}forEachTarget(e,t){return this.si.forEach((s,o)=>t(o)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),K.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Uo(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,K.resolve()}updateTargetData(e,t){return this.Pr(t),K.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.si.forEach((h,f)=>{f.sequenceNumber<=t&&s.get(f.targetId)===null&&(this.si.delete(h),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),K.waitFor(l).next(()=>o)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return K.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),K.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(h=>{l.push(o.markPotentiallyOrphaned(e,h))}),K.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),K.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return K.resolve(s)}containsKey(e,t){return K.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e,t){this.ui={},this.overlays={},this.ci=new qc(0),this.li=!1,this.li=!0,this.hi=new y2,this.referenceDelegate=e(this),this.Pi=new x2(this),this.indexManager=new i2,this.remoteDocumentCache=function(o){return new _2(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new r2(t),this.Ii=new m2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new g2,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new v2(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){ae("MemoryPersistence","Starting transaction:",e);const o=new E2(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(l=>this.referenceDelegate.di(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ai(e,t){return K.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,t)))}}class E2 extends XS{constructor(e){super(),this.currentSequenceNumber=e}}class hp{constructor(e){this.persistence=e,this.Ri=new cp,this.Vi=null}static mi(e){return new hp(e)}get fi(){if(this.Vi)return this.Vi;throw ve(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),K.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),K.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),K.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.fi.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.fi,s=>{const o=pe.fromPath(s);return this.gi(e,o).next(l=>{l||t.removeEntry(o,xe.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return K.or([()=>K.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Rc{constructor(e,t){this.persistence=e,this.pi=new Pi(s=>ZS(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=h2(this,t)}static mi(e,t){return new Rc(e,t)}Ei(){}di(e){return K.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}wr(e){let t=0;return this.pr(e,s=>{t++}).next(()=>t)}pr(e,t){return K.forEach(this.pi,(s,o)=>this.br(e,s,o).next(l=>l?K.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,h=>this.br(e,h,t).next(f=>{f||(s++,l.removeEntry(h,xe.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),K.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),K.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),K.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ac(e.data.value)),t}br(e,t,s){return K.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return K.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=o}static As(e,t){let s=Ne(),o=Ne();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new dp(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return yI()?8:YS(qt())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.ys(e,t).next(h=>{l.result=h}).next(()=>{if(!l.result)return this.ws(e,t,o,s).next(h=>{l.result=h})}).next(()=>{if(l.result)return;const h=new T2;return this.Ss(e,t,h).next(f=>{if(l.result=f,this.Vs)return this.bs(e,t,h,f.size)})}).next(()=>l.result)}bs(e,t,s,o){return s.documentReadCount<this.fs?(Co()<=ke.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Ao(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),K.resolve()):(Co()<=ke.DEBUG&&ae("QueryEngine","Query:",Ao(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Co()<=ke.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Ao(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hr(t))):K.resolve())}ys(e,t){if(Yy(t))return K.resolve(null);let s=hr(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=vf(t,null,"F"),s=hr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const h=Ne(...l);return this.ps.getDocuments(e,h).next(f=>this.indexManager.getMinOffset(e,s).next(m=>{const v=this.Ds(t,f);return this.Cs(t,v,h,m.readTime)?this.ys(e,vf(t,null,"F")):this.vs(e,v,t,m)}))})))}ws(e,t,s,o){return Yy(t)||o.isEqual(xe.min())?K.resolve(null):this.ps.getDocuments(e,s).next(l=>{const h=this.Ds(t,l);return this.Cs(t,h,s,o)?K.resolve(null):(Co()<=ke.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ao(t)),this.vs(e,h,t,WS(o,dl)).next(f=>f))})}Ds(e,t){let s=new Et(l0(e));return t.forEach((o,l)=>{Qc(e,l)&&(s=s.add(l))}),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,t,s){return Co()<=ke.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Ao(t)),this.ps.getDocumentsMatchingQuery(e,t,bs.min(),s)}vs(e,t,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next(l=>(t.forEach(h=>{l=l.insert(h.key,h)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp="LocalStore",S2=3e8;class C2{constructor(e,t,s,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new rt(Re),this.xs=new Pi(l=>np(l),rp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new p2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function A2(n,e,t,s){return new C2(n,e,t,s)}async function P0(n,e){const t=Ee(n);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(l=>(o=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const h=[],f=[];let m=Ne();for(const v of o){h.push(v.batchId);for(const x of v.mutations)m=m.add(x.key)}for(const v of l){f.push(v.batchId);for(const x of v.mutations)m=m.add(x.key)}return t.localDocuments.getDocuments(s,m).next(v=>({Ls:v,removedBatchIds:h,addedBatchIds:f}))})})}function k2(n,e){const t=Ee(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return function(f,m,v,x){const T=v.batch,I=T.keys();let L=K.resolve();return I.forEach(z=>{L=L.next(()=>x.getEntry(m,z)).next($=>{const b=v.docVersions.get(z);Ue(b!==null,48541),$.version.compareTo(b)<0&&(T.applyToRemoteDocument($,v),$.isValidDocument()&&($.setReadTime(v.commitVersion),x.addEntry($)))})}),L.next(()=>f.mutationQueue.removeMutationBatch(m,T))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(f){let m=Ne();for(let v=0;v<f.mutationResults.length;++v)f.mutationResults[v].transformResults.length>0&&(m=m.add(f.batch.mutations[v].key));return m}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function b0(n){const e=Ee(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function R2(n,e){const t=Ee(n),s=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const f=[];e.targetChanges.forEach((x,T)=>{const I=o.get(T);if(!I)return;f.push(t.Pi.removeMatchingKeys(l,x.removedDocuments,T).next(()=>t.Pi.addMatchingKeys(l,x.addedDocuments,T)));let L=I.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?L=L.withResumeToken(Vt.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):x.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(x.resumeToken,s)),o=o.insert(T,L),function($,b,W){return $.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=S2?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0}(I,L,x)&&f.push(t.Pi.updateTargetData(l,L))});let m=Hr(),v=Ne();if(e.documentUpdates.forEach(x=>{e.resolvedLimboDocuments.has(x)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,x))}),f.push(N2(l,h,e.documentUpdates).next(x=>{m=x.ks,v=x.qs})),!s.isEqual(xe.min())){const x=t.Pi.getLastRemoteSnapshotVersion(l).next(T=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s));f.push(x)}return K.waitFor(f).next(()=>h.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,m,v)).next(()=>m)}).then(l=>(t.Ms=o,l))}function N2(n,e,t){let s=Ne(),o=Ne();return t.forEach(l=>s=s.add(l)),e.getEntries(n,s).next(l=>{let h=Hr();return t.forEach((f,m)=>{const v=l.get(f);m.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(f)),m.isNoDocument()&&m.version.isEqual(xe.min())?(e.removeEntry(f,m.readTime),h=h.insert(f,m)):!v.isValidDocument()||m.version.compareTo(v.version)>0||m.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(m),h=h.insert(f,m)):ae(fp,"Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",m.version)}),{ks:h,qs:o}})}function P2(n,e){const t=Ee(n);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Zf),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function b2(n,e){const t=Ee(n);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Pi.getTargetData(s,e).next(l=>l?(o=l,K.resolve(o)):t.Pi.allocateTargetId(s).next(h=>(o=new Ss(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s})}async function Tf(n,e,t){const s=Ee(n),o=s.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Ko(h))throw h;ae(fp,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function cv(n,e,t){const s=Ee(n);let o=xe.min(),l=Ne();return s.persistence.runTransaction("Execute query","readwrite",h=>function(m,v,x){const T=Ee(m),I=T.xs.get(x);return I!==void 0?K.resolve(T.Ms.get(I)):T.Pi.getTargetData(v,x)}(s,h,hr(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,f.targetId).next(m=>{l=m})}).next(()=>s.Fs.getDocumentsMatchingQuery(h,e,t?o:xe.min(),t?l:Ne())).next(f=>(D2(s,vC(e),f),{documents:f,Qs:l})))}function D2(n,e,t){let s=n.Os.get(e)||xe.min();t.forEach((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),n.Os.set(e,s)}class hv{constructor(){this.activeTargetIds=IC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class j2{constructor(){this.Mo=new hv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new hv,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="ConnectivityMonitor";class fv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ae(dv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ae(dv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ec=null;function If(){return ec===null?ec=function(){return 268435456+Math.round(2147483648*Math.random())}():ec++,"0x"+ec.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd="RestConnection",O2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class L2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Tc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,t,s,o,l){const h=If(),f=this.zo(e,t.toUriEncodedString());ae(Kd,`Sending RPC '${e}' ${h}:`,f,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,o,l);const{host:v}=new URL(f),x=Ms(v);return this.Jo(e,f,m,s,x).then(T=>(ae(Kd,`Received RPC '${e}' ${h}: `,T),T),T=>{throw Oo(Kd,`RPC '${e}' ${h} failed with error: `,T,"url: ",f,"request:",s),T})}Ho(e,t,s,o,l,h){return this.Go(e,t,s,o,l)}jo(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Wo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),s&&s.headers.forEach((o,l)=>e[l]=o)}zo(e,t){const s=O2[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bt="WebChannelConnection";class F2 extends L2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,l){const h=If();return new Promise((f,m)=>{const v=new V_;v.setWithCredentials(!0),v.listenOnce(O_.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case oc.NO_ERROR:const T=v.getResponseJson();ae(Bt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),f(T);break;case oc.TIMEOUT:ae(Bt,`RPC '${e}' ${h} timed out`),m(new se(G.DEADLINE_EXCEEDED,"Request time out"));break;case oc.HTTP_ERROR:const I=v.getStatus();if(ae(Bt,`RPC '${e}' ${h} failed with status:`,I,"response text:",v.getResponseText()),I>0){let L=v.getResponseJson();Array.isArray(L)&&(L=L[0]);const z=L?.error;if(z&&z.status&&z.message){const $=function(W){const ee=W.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(ee)>=0?ee:G.UNKNOWN}(z.status);m(new se($,z.message))}else m(new se(G.UNKNOWN,"Server responded with status "+v.getStatus()))}else m(new se(G.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:h,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{ae(Bt,`RPC '${e}' ${h} completed.`)}});const x=JSON.stringify(o);ae(Bt,`RPC '${e}' ${h} sending request:`,o),v.send(t,"POST",x,s,15)})}T_(e,t,s){const o=If(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=F_(),f=M_(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(m.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,t,s),m.encodeInitMessageHeaders=!0;const x=l.join("");ae(Bt,`Creating RPC '${e}' stream ${o}: ${x}`,m);const T=h.createWebChannel(x,m);this.I_(T);let I=!1,L=!1;const z=new M2({Yo:b=>{L?ae(Bt,`Not sending because RPC '${e}' stream ${o} is closed:`,b):(I||(ae(Bt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),I=!0),ae(Bt,`RPC '${e}' stream ${o} sending:`,b),T.send(b))},Zo:()=>T.close()}),$=(b,W,ee)=>{b.listen(W,te=>{try{ee(te)}catch(le){setTimeout(()=>{throw le},0)}})};return $(T,Qa.EventType.OPEN,()=>{L||(ae(Bt,`RPC '${e}' stream ${o} transport opened.`),z.o_())}),$(T,Qa.EventType.CLOSE,()=>{L||(L=!0,ae(Bt,`RPC '${e}' stream ${o} transport closed`),z.a_(),this.E_(T))}),$(T,Qa.EventType.ERROR,b=>{L||(L=!0,Oo(Bt,`RPC '${e}' stream ${o} transport errored. Name:`,b.name,"Message:",b.message),z.a_(new se(G.UNAVAILABLE,"The operation could not be completed")))}),$(T,Qa.EventType.MESSAGE,b=>{if(!L){const W=b.data[0];Ue(!!W,16349);const ee=W,te=ee?.error||ee[0]?.error;if(te){ae(Bt,`RPC '${e}' stream ${o} received error:`,te);const le=te.status;let Ie=function(S){const k=dt[S];if(k!==void 0)return _0(k)}(le),Te=te.message;Ie===void 0&&(Ie=G.INTERNAL,Te="Unknown error status: "+le+" with message "+te.message),L=!0,z.a_(new se(Ie,Te)),T.close()}else ae(Bt,`RPC '${e}' stream ${o} received:`,W),z.u_(W)}}),$(f,L_.STAT_EVENT,b=>{b.stat===hf.PROXY?ae(Bt,`RPC '${e}' stream ${o} detected buffering proxy`):b.stat===hf.NOPROXY&&ae(Bt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{z.__()},0),z}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Qd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(n){return new $C(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e,t,s=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&ae("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="PersistentStream";class j0{constructor(e,t,s,o,l,h,f,m){this.Mi=e,this.S_=s,this.b_=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new D0(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===G.RESOURCE_EXHAUSTED?($r(t.toString()),$r("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===t&&this.G_(s,o)},s=>{e(()=>{const o=new se(G.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ae(pv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(ae(pv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class U2 extends j0{constructor(e,t,s,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=WC(this.serializer,e),s=function(l){if(!("targetChange"in l))return xe.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?xe.min():h.readTime?dr(h.readTime):xe.min()}(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=Ef(this.serializer),t.addTarget=function(l,h){let f;const m=h.target;if(f=gf(m)?{documents:QC(l,m)}:{query:XC(l,m).ft},f.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){f.resumeToken=E0(l,h.resumeToken);const v=_f(l,h.expectedCount);v!==null&&(f.expectedCount=v)}else if(h.snapshotVersion.compareTo(xe.min())>0){f.readTime=kc(l,h.snapshotVersion.toTimestamp());const v=_f(l,h.expectedCount);v!==null&&(f.expectedCount=v)}return f}(this.serializer,e);const s=JC(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=Ef(this.serializer),t.removeTarget=e,this.q_(t)}}class z2 extends j0{constructor(e,t,s,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ue(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ue(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ue(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=KC(e.writeResults,e.commitTime),s=dr(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=Ef(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>GC(this.serializer,s))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{}class $2 extends B2{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new se(G.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.Go(e,wf(t,s),o,l,h)).catch(l=>{throw l.name==="FirebaseError"?(l.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new se(G.UNKNOWN,l.toString())})}Ho(e,t,s,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,f])=>this.connection.Ho(e,wf(t,s),o,h,f,l)).catch(h=>{throw h.name==="FirebaseError"?(h.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new se(G.UNKNOWN,h.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class H2{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?($r(t),this.aa=!1):ae("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci="RemoteStore";class q2{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo(h=>{s.enqueueAndForget(async()=>{bi(this)&&(ae(Ci,"Restarting streams for network reachability change."),await async function(m){const v=Ee(m);v.Ea.add(4),await Al(v),v.Ra.set("Unknown"),v.Ea.delete(4),await eh(v)}(this))})}),this.Ra=new H2(s,o)}}async function eh(n){if(bi(n))for(const e of n.da)await e(!0)}async function Al(n){for(const e of n.da)await e(!1)}function V0(n,e){const t=Ee(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),yp(t)?gp(t):Xo(t).O_()&&mp(t,e))}function pp(n,e){const t=Ee(n),s=Xo(t);t.Ia.delete(e),s.O_()&&O0(t,e),t.Ia.size===0&&(s.O_()?s.L_():bi(t)&&t.Ra.set("Unknown"))}function mp(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Xo(n).Y_(e)}function O0(n,e){n.Va.Ue(e),Xo(n).Z_(e)}function gp(n){n.Va=new FC({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Xo(n).start(),n.Ra.ua()}function yp(n){return bi(n)&&!Xo(n).x_()&&n.Ia.size>0}function bi(n){return Ee(n).Ea.size===0}function L0(n){n.Va=void 0}async function W2(n){n.Ra.set("Online")}async function G2(n){n.Ia.forEach((e,t)=>{mp(n,e)})}async function K2(n,e){L0(n),yp(n)?(n.Ra.ha(e),gp(n)):n.Ra.set("Unknown")}async function Q2(n,e,t){if(n.Ra.set("Online"),e instanceof x0&&e.state===2&&e.cause)try{await async function(o,l){const h=l.cause;for(const f of l.targetIds)o.Ia.has(f)&&(await o.remoteSyncer.rejectListen(f,h),o.Ia.delete(f),o.Va.removeTarget(f))}(n,e)}catch(s){ae(Ci,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Nc(n,s)}else if(e instanceof cc?n.Va.Ze(e):e instanceof w0?n.Va.st(e):n.Va.tt(e),!t.isEqual(xe.min()))try{const s=await b0(n.localStore);t.compareTo(s)>=0&&await function(l,h){const f=l.Va.Tt(h);return f.targetChanges.forEach((m,v)=>{if(m.resumeToken.approximateByteSize()>0){const x=l.Ia.get(v);x&&l.Ia.set(v,x.withResumeToken(m.resumeToken,h))}}),f.targetMismatches.forEach((m,v)=>{const x=l.Ia.get(m);if(!x)return;l.Ia.set(m,x.withResumeToken(Vt.EMPTY_BYTE_STRING,x.snapshotVersion)),O0(l,m);const T=new Ss(x.target,m,v,x.sequenceNumber);mp(l,T)}),l.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(s){ae(Ci,"Failed to raise snapshot:",s),await Nc(n,s)}}async function Nc(n,e,t){if(!Ko(e))throw e;n.Ea.add(1),await Al(n),n.Ra.set("Offline"),t||(t=()=>b0(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ae(Ci,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await eh(n)})}function M0(n,e){return e().catch(t=>Nc(n,t,e))}async function th(n){const e=Ee(n),t=Os(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Zf;for(;X2(e);)try{const o=await P2(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,Y2(e,o)}catch(o){await Nc(e,o)}F0(e)&&U0(e)}function X2(n){return bi(n)&&n.Ta.length<10}function Y2(n,e){n.Ta.push(e);const t=Os(n);t.O_()&&t.X_&&t.ea(e.mutations)}function F0(n){return bi(n)&&!Os(n).x_()&&n.Ta.length>0}function U0(n){Os(n).start()}async function J2(n){Os(n).ra()}async function Z2(n){const e=Os(n);for(const t of n.Ta)e.ea(t.mutations)}async function eA(n,e,t){const s=n.Ta.shift(),o=ap.from(s,e,t);await M0(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await th(n)}async function tA(n,e){e&&Os(n).X_&&await async function(s,o){if(function(h){return OC(h)&&h!==G.ABORTED}(o.code)){const l=s.Ta.shift();Os(s).B_(),await M0(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o)),await th(s)}}(n,e),F0(n)&&U0(n)}async function mv(n,e){const t=Ee(n);t.asyncQueue.verifyOperationInProgress(),ae(Ci,"RemoteStore received new credentials");const s=bi(t);t.Ea.add(3),await Al(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await eh(t)}async function nA(n,e){const t=Ee(n);e?(t.Ea.delete(2),await eh(t)):e||(t.Ea.add(2),await Al(t),t.Ra.set("Unknown"))}function Xo(n){return n.ma||(n.ma=function(t,s,o){const l=Ee(t);return l.sa(),new U2(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Xo:W2.bind(null,n),t_:G2.bind(null,n),r_:K2.bind(null,n),H_:Q2.bind(null,n)}),n.da.push(async e=>{e?(n.ma.B_(),yp(n)?gp(n):n.Ra.set("Unknown")):(await n.ma.stop(),L0(n))})),n.ma}function Os(n){return n.fa||(n.fa=function(t,s,o){const l=Ee(t);return l.sa(),new z2(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:J2.bind(null,n),r_:tA.bind(null,n),ta:Z2.bind(null,n),na:eA.bind(null,n)}),n.da.push(async e=>{e?(n.fa.B_(),await th(n)):(await n.fa.stop(),n.Ta.length>0&&(ae(Ci,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new Rs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const h=Date.now()+s,f=new vp(e,t,h,o,l);return f.start(s),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _p(n,e){if($r("AsyncQueue",`${e}: ${n}`),Ko(n))return new se(G.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{static emptySet(e){return new Po(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||pe.comparator(t.key,s.key):(t,s)=>pe.comparator(t.key,s.key),this.keyedMap=Xa(),this.sortedSet=new rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Po)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Po;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(){this.ga=new rt(pe.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):ve(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,s)=>{e.push(s)}),e}}class zo{constructor(e,t,s,o,l,h,f,m,v){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=v}static fromInitialDocuments(e,t,s,o,l){const h=[];return t.forEach(f=>{h.push({type:0,doc:f})}),new zo(e,t,Po.emptySet(t),h,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class sA{constructor(){this.queries=yv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=Ee(t),l=o.queries;o.queries=yv(),l.forEach((h,f)=>{for(const m of f.Sa)m.onError(s)})})(this,new se(G.ABORTED,"Firestore shutting down"))}}function yv(){return new Pi(n=>a0(n),Kc)}async function z0(n,e){const t=Ee(n);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.ba()&&e.Da()&&(s=2):(l=new rA,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await t.onListen(o,!0);break;case 1:l.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const f=_p(h,`Initialization of query '${Ao(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&wp(t)}async function B0(n,e){const t=Ee(n),s=e.query;let o=3;const l=t.queries.get(s);if(l){const h=l.Sa.indexOf(e);h>=0&&(l.Sa.splice(h,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function iA(n,e){const t=Ee(n);let s=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const f of h.Sa)f.Fa(o)&&(s=!0);h.wa=o}}s&&wp(t)}function oA(n,e,t){const s=Ee(n),o=s.queries.get(e);if(o)for(const l of o.Sa)l.onError(t);s.queries.delete(e)}function wp(n){n.Ca.forEach(e=>{e.next()})}var Sf,vv;(vv=Sf||(Sf={})).Ma="default",vv.Cache="cache";class $0{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new zo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=zo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Sf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e){this.key=e}}class q0{constructor(e){this.key=e}}class aA{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ne(),this.mutatedKeys=Ne(),this.eu=l0(e),this.tu=new Po(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new gv,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,f=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((x,T)=>{const I=o.get(x),L=Qc(this.query,T)?T:null,z=!!I&&this.mutatedKeys.has(I.key),$=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let b=!1;I&&L?I.data.isEqual(L.data)?z!==$&&(s.track({type:3,doc:L}),b=!0):this.su(I,L)||(s.track({type:2,doc:L}),b=!0,(m&&this.eu(L,m)>0||v&&this.eu(L,v)<0)&&(f=!0)):!I&&L?(s.track({type:0,doc:L}),b=!0):I&&!L&&(s.track({type:1,doc:I}),b=!0,(m||v)&&(f=!0)),b&&(L?(h=h.add(L),l=$?l.add(x):l.delete(x)):(h=h.delete(x),l=l.delete(x)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const x=this.query.limitType==="F"?h.last():h.first();h=h.delete(x.key),l=l.delete(x.key),s.track({type:1,doc:x})}return{tu:h,iu:s,Cs:f,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort((x,T)=>function(L,z){const $=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Rt:b})}};return $(L)-$(z)}(x.type,T.type)||this.eu(x.doc,T.doc)),this.ou(s),o=o??!1;const f=t&&!o?this._u():[],m=this.Xa.size===0&&this.current&&!o?1:0,v=m!==this.Za;return this.Za=m,h.length!==0||v?{snapshot:new zo(this.query,e.tu,l,h,e.mutatedKeys,m===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new gv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ne(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const t=[];return e.forEach(s=>{this.Xa.has(s)||t.push(new q0(s))}),this.Xa.forEach(s=>{e.has(s)||t.push(new H0(s))}),t}cu(e){this.Ya=e.Qs,this.Xa=Ne();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return zo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const xp="SyncEngine";class lA{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class uA{constructor(e){this.key=e,this.hu=!1}}class cA{constructor(e,t,s,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Pi(f=>a0(f),Kc),this.Iu=new Map,this.Eu=new Set,this.du=new rt(pe.comparator),this.Au=new Map,this.Ru=new cp,this.Vu={},this.mu=new Map,this.fu=Uo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function hA(n,e,t=!0){const s=Y0(n);let o;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await W0(s,e,t,!0),o}async function dA(n,e){const t=Y0(n);await W0(t,e,!0,!1)}async function W0(n,e,t,s){const o=await b2(n.localStore,hr(e)),l=o.targetId,h=n.sharedClientState.addLocalQueryTarget(l,t);let f;return s&&(f=await fA(n,e,l,h==="current",o.resumeToken)),n.isPrimaryClient&&t&&V0(n.remoteStore,o),f}async function fA(n,e,t,s,o){n.pu=(T,I,L)=>async function($,b,W,ee){let te=b.view.ru(W);te.Cs&&(te=await cv($.localStore,b.query,!1).then(({documents:D})=>b.view.ru(D,te)));const le=ee&&ee.targetChanges.get(b.targetId),Ie=ee&&ee.targetMismatches.get(b.targetId)!=null,Te=b.view.applyChanges(te,$.isPrimaryClient,le,Ie);return wv($,b.targetId,Te.au),Te.snapshot}(n,T,I,L);const l=await cv(n.localStore,e,!0),h=new aA(e,l.Qs),f=h.ru(l.documents),m=Cl.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",o),v=h.applyChanges(f,n.isPrimaryClient,m);wv(n,t,v.au);const x=new lA(e,t,h);return n.Tu.set(e,x),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),v.snapshot}async function pA(n,e,t){const s=Ee(n),o=s.Tu.get(e),l=s.Iu.get(o.targetId);if(l.length>1)return s.Iu.set(o.targetId,l.filter(h=>!Kc(h,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Tf(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&pp(s.remoteStore,o.targetId),Cf(s,o.targetId)}).catch(Go)):(Cf(s,o.targetId),await Tf(s.localStore,o.targetId,!0))}async function mA(n,e){const t=Ee(n),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),pp(t.remoteStore,s.targetId))}async function gA(n,e,t){const s=TA(n);try{const o=await function(h,f){const m=Ee(h),v=Ke.now(),x=f.reduce((L,z)=>L.add(z.key),Ne());let T,I;return m.persistence.runTransaction("Locally write mutations","readwrite",L=>{let z=Hr(),$=Ne();return m.Ns.getEntries(L,x).next(b=>{z=b,z.forEach((W,ee)=>{ee.isValidDocument()||($=$.add(W))})}).next(()=>m.localDocuments.getOverlayedDocuments(L,z)).next(b=>{T=b;const W=[];for(const ee of f){const te=PC(ee,T.get(ee.key).overlayedDocument);te!=null&&W.push(new Us(ee.key,te,Z_(te.value.mapValue),Wn.exists(!0)))}return m.mutationQueue.addMutationBatch(L,v,W,f)}).next(b=>{I=b;const W=b.applyToLocalDocumentSet(T,$);return m.documentOverlayCache.saveOverlays(L,b.batchId,W)})}).then(()=>({batchId:I.batchId,changes:c0(T)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,f,m){let v=h.Vu[h.currentUser.toKey()];v||(v=new rt(Re)),v=v.insert(f,m),h.Vu[h.currentUser.toKey()]=v}(s,o.batchId,t),await kl(s,o.changes),await th(s.remoteStore)}catch(o){const l=_p(o,"Failed to persist write");t.reject(l)}}async function G0(n,e){const t=Ee(n);try{const s=await R2(t.localStore,e);e.targetChanges.forEach((o,l)=>{const h=t.Au.get(l);h&&(Ue(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Ue(h.hu,14607):o.removedDocuments.size>0&&(Ue(h.hu,42227),h.hu=!1))}),await kl(t,s,e)}catch(s){await Go(s)}}function _v(n,e,t){const s=Ee(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach((l,h)=>{const f=h.view.va(e);f.snapshot&&o.push(f.snapshot)}),function(h,f){const m=Ee(h);m.onlineState=f;let v=!1;m.queries.forEach((x,T)=>{for(const I of T.Sa)I.va(f)&&(v=!0)}),v&&wp(m)}(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function yA(n,e,t){const s=Ee(n);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),l=o&&o.key;if(l){let h=new rt(pe.comparator);h=h.insert(l,Ht.newNoDocument(l,xe.min()));const f=Ne().add(l),m=new Jc(xe.min(),new Map,new rt(Re),h,f);await G0(s,m),s.du=s.du.remove(l),s.Au.delete(e),Ep(s)}else await Tf(s.localStore,e,!1).then(()=>Cf(s,e,t)).catch(Go)}async function vA(n,e){const t=Ee(n),s=e.batch.batchId;try{const o=await k2(t.localStore,e);Q0(t,s,null),K0(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await kl(t,o)}catch(o){await Go(o)}}async function _A(n,e,t){const s=Ee(n);try{const o=await function(h,f){const m=Ee(h);return m.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let x;return m.mutationQueue.lookupMutationBatch(v,f).next(T=>(Ue(T!==null,37113),x=T.keys(),m.mutationQueue.removeMutationBatch(v,T))).next(()=>m.mutationQueue.performConsistencyCheck(v)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(v,x,f)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,x)).next(()=>m.localDocuments.getDocuments(v,x))})}(s.localStore,e);Q0(s,e,t),K0(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await kl(s,o)}catch(o){await Go(o)}}function K0(n,e){(n.mu.get(e)||[]).forEach(t=>{t.resolve()}),n.mu.delete(e)}function Q0(n,e,t){const s=Ee(n);let o=s.Vu[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Cf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Iu.get(e))n.Tu.delete(s),t&&n.Pu.yu(s,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach(s=>{n.Ru.containsKey(s)||X0(n,s)})}function X0(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(pp(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Ep(n))}function wv(n,e,t){for(const s of t)s instanceof H0?(n.Ru.addReference(s.key,e),wA(n,s)):s instanceof q0?(ae(xp,"Document no longer in limbo: "+s.key),n.Ru.removeReference(s.key,e),n.Ru.containsKey(s.key)||X0(n,s.key)):ve(19791,{wu:s})}function wA(n,e){const t=e.key,s=t.path.canonicalString();n.du.get(t)||n.Eu.has(s)||(ae(xp,"New document in limbo: "+t),n.Eu.add(s),Ep(n))}function Ep(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new pe(Ge.fromString(e)),s=n.fu.next();n.Au.set(s,new uA(t)),n.du=n.du.insert(t,s),V0(n.remoteStore,new Ss(hr(sp(t.path)),s,"TargetPurposeLimboResolution",qc.ce))}}async function kl(n,e,t){const s=Ee(n),o=[],l=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach((f,m)=>{h.push(s.pu(m,e,t).then(v=>{if((v||t)&&s.isPrimaryClient){const x=v?!v.fromCache:t?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,x?"current":"not-current")}if(v){o.push(v);const x=dp.As(m.targetId,v);l.push(x)}}))}),await Promise.all(h),s.Pu.H_(o),await async function(m,v){const x=Ee(m);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>K.forEach(v,I=>K.forEach(I.Es,L=>x.persistence.referenceDelegate.addReference(T,I.targetId,L)).next(()=>K.forEach(I.ds,L=>x.persistence.referenceDelegate.removeReference(T,I.targetId,L)))))}catch(T){if(!Ko(T))throw T;ae(fp,"Failed to update sequence numbers: "+T)}for(const T of v){const I=T.targetId;if(!T.fromCache){const L=x.Ms.get(I),z=L.snapshotVersion,$=L.withLastLimboFreeSnapshotVersion(z);x.Ms=x.Ms.insert(I,$)}}}(s.localStore,l))}async function xA(n,e){const t=Ee(n);if(!t.currentUser.isEqual(e)){ae(xp,"User change. New user:",e.toKey());const s=await P0(t.localStore,e);t.currentUser=e,function(l,h){l.mu.forEach(f=>{f.forEach(m=>{m.reject(new se(G.CANCELLED,h))})}),l.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await kl(t,s.Ls)}}function EA(n,e){const t=Ee(n),s=t.Au.get(e);if(s&&s.hu)return Ne().add(s.key);{let o=Ne();const l=t.Iu.get(e);if(!l)return o;for(const h of l){const f=t.Tu.get(h);o=o.unionWith(f.view.nu)}return o}}function Y0(n){const e=Ee(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=G0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yA.bind(null,e),e.Pu.H_=iA.bind(null,e.eventManager),e.Pu.yu=oA.bind(null,e.eventManager),e}function TA(n){const e=Ee(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_A.bind(null,e),e}class Pc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return A2(this.persistence,new I2,e.initialUser,this.serializer)}Cu(e){return new N0(hp.mi,this.serializer)}Du(e){return new j2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pc.provider={build:()=>new Pc};class IA extends Pc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ue(this.persistence.referenceDelegate instanceof Rc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new u2(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new N0(s=>Rc.mi(s,t),this.serializer)}}class Af{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>_v(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=xA.bind(null,this.syncEngine),await nA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new sA}()}createDatastore(e){const t=Zc(e.databaseInfo.databaseId),s=function(l){return new F2(l)}(e.databaseInfo);return function(l,h,f,m){return new $2(l,h,f,m)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,l,h,f){return new q2(s,o,l,h,f)}(this.localStore,this.datastore,e.asyncQueue,t=>_v(this.syncEngine,t,0),function(){return fv.v()?new fv:new V2}())}createSyncEngine(e,t){return function(o,l,h,f,m,v,x){const T=new cA(o,l,h,f,m,v);return x&&(T.gu=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(t){const s=Ee(t);ae(Ci,"RemoteStore shutting down."),s.Ea.add(5),await Al(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Af.provider={build:()=>new Af};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):$r("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="FirestoreClient";class SA{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=$t.UNAUTHENTICATED,this.clientId=Jf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async h=>{ae(Ls,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ae(Ls,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Rs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=_p(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Xd(n,e){n.asyncQueue.verifyOperationInProgress(),ae(Ls,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener(async o=>{s.isEqual(o)||(await P0(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function xv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await CA(n);ae(Ls,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(s=>mv(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,o)=>mv(e.remoteStore,o)),n._onlineComponents=e}async function CA(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ae(Ls,"Using user provided OfflineComponentProvider");try{await Xd(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===G.FAILED_PRECONDITION||o.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Oo("Error using user provided cache. Falling back to memory cache: "+t),await Xd(n,new Pc)}}else ae(Ls,"Using default OfflineComponentProvider"),await Xd(n,new IA(void 0));return n._offlineComponents}async function Z0(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ae(Ls,"Using user provided OnlineComponentProvider"),await xv(n,n._uninitializedComponentsProvider._online)):(ae(Ls,"Using default OnlineComponentProvider"),await xv(n,new Af))),n._onlineComponents}function AA(n){return Z0(n).then(e=>e.syncEngine)}async function kf(n){const e=await Z0(n),t=e.eventManager;return t.onListen=hA.bind(null,e.syncEngine),t.onUnlisten=pA.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=dA.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=mA.bind(null,e.syncEngine),t}function kA(n,e,t={}){const s=new Rs;return n.asyncQueue.enqueueAndForget(async()=>function(l,h,f,m,v){const x=new J0({next:I=>{x.Nu(),h.enqueueAndForget(()=>B0(l,T)),I.fromCache&&m.source==="server"?v.reject(new se(G.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(I)},error:I=>v.reject(I)}),T=new $0(f,x,{includeMetadataChanges:!0,qa:!0});return z0(l,T)}(await kf(n),n.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw="firestore.googleapis.com",Tv=!0;class Iv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new se(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=tw,this.ssl=Tv}else this.host=e.host,this.ssl=e.ssl??Tv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=R0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<a2)throw new se(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ew(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new se(G.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new se(G.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new se(G.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nh{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Iv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new se(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Iv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new VS;switch(s.type){case"firstParty":return new FS(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new se(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=Ev.get(t);s&&(ae("ComponentProvider","Removing Datastore"),Ev.delete(t),s.terminate())}(this),Promise.resolve()}}function RA(n,e,t,s={}){n=cr(n,nh);const o=Ms(e),l=n._getSettings(),h={...l,emulatorOptions:n._getEmulatorOptions()},f=`${e}:${t}`;o&&(Wf(`https://${f}`),Gf("Firestore",!0)),l.host!==tw&&l.host!==f&&Oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:f,ssl:o,emulatorOptions:s};if(!Ti(m,h)&&(n._setSettings(m),s.mockUserToken)){let v,x;if(typeof s.mockUserToken=="string")v=s.mockUserToken,x=$t.MOCK_USER;else{v=k_(s.mockUserToken,n._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new se(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new $t(T)}n._authCredentials=new OS(new z_(v,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new zs(this.firestore,e,this._query)}}class mt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ns(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mt(this.firestore,e,this._key)}toJSON(){return{type:mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Il(t,mt._jsonSchema))return new mt(e,s||null,new pe(Ge.fromString(t.referencePath)))}}mt._jsonSchemaVersion="firestore/documentReference/1.0",mt._jsonSchema={type:pt("string",mt._jsonSchemaVersion),referencePath:pt("string")};class Ns extends zs{constructor(e,t,s){super(e,t,sp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mt(this.firestore,null,new pe(e))}withConverter(e){return new Ns(this.firestore,e,this._path)}}function Rf(n,e,...t){if(n=gt(n),B_("collection","path",e),n instanceof nh){const s=Ge.fromString(e,...t);return Ly(s),new Ns(n,null,s)}{if(!(n instanceof mt||n instanceof Ns))throw new se(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Ge.fromString(e,...t));return Ly(s),new Ns(n.firestore,null,s)}}function Nf(n,e,...t){if(n=gt(n),arguments.length===1&&(e=Jf.newId()),B_("doc","path",e),n instanceof nh){const s=Ge.fromString(e,...t);return Oy(s),new mt(n,null,new pe(s))}{if(!(n instanceof mt||n instanceof Ns))throw new se(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Ge.fromString(e,...t));return Oy(s),new mt(n.firestore,n instanceof Ns?n.converter:null,new pe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="AsyncQueue";class Cv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new D0(this,"async_queue_retry"),this._c=()=>{const s=Qd();s&&ae(Sv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=Qd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Qd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Rs;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ko(e))throw e;ae(Sv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,$r("INTERNAL UNHANDLED ERROR: ",Av(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=vp.createAndSchedule(this,e,t,s,l=>this.hc(l));return this.tc.push(o),o}uc(){this.nc&&ve(47125,{Pc:Av(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Av(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(n){return function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const l of s)if(l in o&&typeof o[l]=="function")return!0;return!1}(n,["next","error","complete"])}class Ai extends nh{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new Cv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Cv(e),this._firestoreClient=void 0,await e}}}function NA(n,e){const t=typeof n=="object"?n:Xf(),s=typeof n=="string"?n:Tc,o=$c(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=S_("firestore");l&&RA(o,...l)}return o}function Tp(n){if(n._terminated)throw new se(G.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||PA(n),n._firestoreClient}function PA(n){const e=n._freezeSettings(),t=function(o,l,h,f){return new nC(o,l,h,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,ew(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new SA(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this._byteString=e}static fromBase64String(e){try{return new An(Vt.fromBase64String(e))}catch(t){throw new se(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new An(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:An._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Il(e,An._jsonSchema))return An.fromBase64String(e.bytes)}}An._jsonSchemaVersion="firestore/bytes/1.0",An._jsonSchema={type:pt("string",An._jsonSchemaVersion),bytes:pt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new se(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new se(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new se(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:fr._jsonSchemaVersion}}static fromJSON(e){if(Il(e,fr._jsonSchema))return new fr(e.latitude,e.longitude)}}fr._jsonSchemaVersion="firestore/geoPoint/1.0",fr._jsonSchema={type:pt("string",fr._jsonSchemaVersion),latitude:pt("number"),longitude:pt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0}(this._values,e._values)}toJSON(){return{type:pr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Il(e,pr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new pr(e.vectorValues);throw new se(G.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}pr._jsonSchemaVersion="firestore/vectorValue/1.0",pr._jsonSchema={type:pt("string",pr._jsonSchemaVersion),vectorValues:pt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA=/^__.*__$/;class DA{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Us(e,this.data,this.fieldMask,t,this.fieldTransforms):new Sl(e,this.data,t,this.fieldTransforms)}}class nw{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Us(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function rw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{Ac:n})}}class Sp{constructor(e,t,s,o,l,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Sp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return bc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(rw(this.Ac)&&bA.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class jA{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Zc(e)}Cc(e,t,s,o=!1){return new Sp({Ac:e,methodName:t,Dc:s,path:jt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cp(n){const e=n._freezeSettings(),t=Zc(n._databaseId);return new jA(n._databaseId,!!e.ignoreUndefinedProperties,t)}function VA(n,e,t,s,o,l={}){const h=n.Cc(l.merge||l.mergeFields?2:0,e,t,o);Ap("Data must be an object, but it was:",h,s);const f=sw(s,h);let m,v;if(l.merge)m=new mn(h.fieldMask),v=h.fieldTransforms;else if(l.mergeFields){const x=[];for(const T of l.mergeFields){const I=Pf(e,T,t);if(!h.contains(I))throw new se(G.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);ow(x,I)||x.push(I)}m=new mn(x),v=h.fieldTransforms.filter(T=>m.covers(T.field))}else m=null,v=h.fieldTransforms;return new DA(new an(f),m,v)}class sh extends Ip{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sh}}function OA(n,e,t,s){const o=n.Cc(1,e,t);Ap("Data must be an object, but it was:",o,s);const l=[],h=an.empty();Fs(s,(m,v)=>{const x=kp(e,m,t);v=gt(v);const T=o.yc(x);if(v instanceof sh)l.push(x);else{const I=Rl(v,T);I!=null&&(l.push(x),h.set(x,I))}});const f=new mn(l);return new nw(h,f,o.fieldTransforms)}function LA(n,e,t,s,o,l){const h=n.Cc(1,e,t),f=[Pf(e,s,t)],m=[o];if(l.length%2!=0)throw new se(G.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<l.length;I+=2)f.push(Pf(e,l[I])),m.push(l[I+1]);const v=[],x=an.empty();for(let I=f.length-1;I>=0;--I)if(!ow(v,f[I])){const L=f[I];let z=m[I];z=gt(z);const $=h.yc(L);if(z instanceof sh)v.push(L);else{const b=Rl(z,$);b!=null&&(v.push(L),x.set(L,b))}}const T=new mn(v);return new nw(x,T,h.fieldTransforms)}function MA(n,e,t,s=!1){return Rl(t,n.Cc(s?4:3,e))}function Rl(n,e){if(iw(n=gt(n)))return Ap("Unsupported field value:",e,n),sw(n,e);if(n instanceof Ip)return function(s,o){if(!rw(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,o){const l=[];let h=0;for(const f of s){let m=Rl(f,o.wc(h));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),h++}return{arrayValue:{values:l}}}(n,e)}return function(s,o){if((s=gt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return SC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Ke.fromDate(s);return{timestampValue:kc(o.serializer,l)}}if(s instanceof Ke){const l=new Ke(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:kc(o.serializer,l)}}if(s instanceof fr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof An)return{bytesValue:E0(o.serializer,s._byteString)};if(s instanceof mt){const l=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(l))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:up(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof pr)return function(h,f){return{mapValue:{fields:{[Y_]:{stringValue:J_},[Ic]:{arrayValue:{values:h.toArray().map(v=>{if(typeof v!="number")throw f.Sc("VectorValues must only contain numeric values.");return ip(f.serializer,v)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${Hc(s)}`)}(n,e)}function sw(n,e){const t={};return q_(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fs(n,(s,o)=>{const l=Rl(o,e.mc(s));l!=null&&(t[s]=l)}),{mapValue:{fields:t}}}function iw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ke||n instanceof fr||n instanceof An||n instanceof mt||n instanceof Ip||n instanceof pr)}function Ap(n,e,t){if(!iw(t)||!$_(t)){const s=Hc(t);throw s==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+s)}}function Pf(n,e,t){if((e=gt(e))instanceof rh)return e._internalPath;if(typeof e=="string")return kp(n,e);throw bc("Field path arguments must be of type string or ",n,!1,void 0,t)}const FA=new RegExp("[~\\*/\\[\\]]");function kp(n,e,t){if(e.search(FA)>=0)throw bc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new rh(...e.split("."))._internalPath}catch{throw bc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function bc(n,e,t,s,o){const l=s&&!s.isEmpty(),h=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||h)&&(m+=" (found",l&&(m+=` in field ${s}`),h&&(m+=` in document ${o}`),m+=")"),new se(G.INVALID_ARGUMENT,f+n+m)}function ow(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new UA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Rp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class UA extends aw{data(){return super.data()}}function Rp(n,e){return typeof e=="string"?kp(n,e):e instanceof rh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new se(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Np{}class uw extends Np{}function cw(n,e,...t){let s=[];e instanceof Np&&s.push(e),s=s.concat(t),function(l){const h=l.filter(m=>m instanceof bp).length,f=l.filter(m=>m instanceof Pp).length;if(h>1||h>0&&f>0)throw new se(G.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)n=o._apply(n);return n}class Pp extends uw{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Pp(e,t,s)}_apply(e){const t=this._parse(e);return dw(e._query,t),new zs(e.firestore,e.converter,yf(e._query,t))}_parse(e){const t=Cp(e.firestore);return function(l,h,f,m,v,x,T){let I;if(v.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new se(G.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){Nv(T,x);const z=[];for(const $ of T)z.push(Rv(m,l,$));I={arrayValue:{values:z}}}else I=Rv(m,l,T)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||Nv(T,x),I=MA(f,h,T,x==="in"||x==="not-in");return ft.create(v,x,I)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class bp extends Np{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new bp(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:Kn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,l){let h=o;const f=l.getFlattenedFilters();for(const m of f)dw(h,m),h=yf(h,m)}(e._query,t),new zs(e.firestore,e.converter,yf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Dp extends uw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Dp(e,t)}_apply(e){const t=function(o,l,h){if(o.startAt!==null)throw new se(G.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new se(G.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gl(l,h)}(e._query,this._field,this._direction);return new zs(e.firestore,e.converter,function(o,l){const h=o.explicitOrderBy.concat([l]);return new Qo(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function hw(n,e="asc"){const t=e,s=Rp("orderBy",n);return Dp._create(s,t)}function Rv(n,e,t){if(typeof(t=gt(t))=="string"){if(t==="")throw new se(G.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!o0(e)&&t.indexOf("/")!==-1)throw new se(G.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Ge.fromString(t));if(!pe.isDocumentKey(s))throw new se(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return qy(n,new pe(s))}if(t instanceof mt)return qy(n,t._key);throw new se(G.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hc(t)}.`)}function Nv(n,e){if(!Array.isArray(n)||n.length===0)throw new se(G.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function dw(n,e){const t=function(o,l){for(const h of o)for(const f of h.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new se(G.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se(G.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class zA{convertValue(e,t="none"){switch(Vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Fs(e,(o,l)=>{s[o]=this.convertValue(l,t)}),s}convertVectorValue(e){const t=e.fields?.[Ic].arrayValue?.values?.map(s=>ut(s.doubleValue));return new pr(t)}convertGeoPoint(e){return new fr(ut(e.latitude),ut(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Gc(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(fl(e));default:return null}}convertTimestamp(e){const t=Ds(e);return new Ke(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Ge.fromString(e);Ue(k0(s),9688,{name:e});const o=new pl(s.get(1),s.get(3)),l=new pe(s.popFirst(5));return o.isEqual(t)||$r(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(n,e,t){let s;return s=n?n.toFirestore(e):e,s}class Ja{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _i extends aw{constructor(e,t,s,o,l,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Rp("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new se(G.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=_i._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}_i._jsonSchemaVersion="firestore/documentSnapshot/1.0",_i._jsonSchema={type:pt("string",_i._jsonSchemaVersion),bundleSource:pt("string","DocumentSnapshot"),bundleName:pt("string"),bundle:pt("string")};class hc extends _i{data(e={}){return super.data(e)}}class wi{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Ja(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new hc(this._firestore,this._userDataWriter,s.key,s,new Ja(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new se(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(f=>{const m=new hc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Ja(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const m=new hc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Ja(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,x=-1;return f.type!==0&&(v=h.indexOf(f.doc.key),h=h.delete(f.doc.key)),f.type!==1&&(h=h.add(f.doc),x=h.indexOf(f.doc.key)),{type:$A(f.type),doc:m,oldIndex:v,newIndex:x}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new se(G.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=wi._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Jf.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach(l=>{l._document!==null&&(t.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function $A(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:n})}}wi._jsonSchemaVersion="firestore/querySnapshot/1.0",wi._jsonSchema={type:pt("string",wi._jsonSchemaVersion),bundleSource:pt("string","QuerySnapshot"),bundleName:pt("string"),bundle:pt("string")};class jp extends zA{constructor(e){super(),this.firestore=e}convertBytes(e){return new An(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,t)}}function HA(n){n=cr(n,zs);const e=cr(n.firestore,Ai),t=Tp(e),s=new jp(e);return lw(n._query),kA(t,n._query).then(o=>new wi(e,s,n,o))}function qA(n,e,t,...s){n=cr(n,mt);const o=cr(n.firestore,Ai),l=Cp(o);let h;return h=typeof(e=gt(e))=="string"||e instanceof rh?LA(l,"updateDoc",n._key,e,t,s):OA(l,"updateDoc",n._key,e),Vp(o,[h.toMutation(n._key,Wn.exists(!0))])}function WA(n){return Vp(cr(n.firestore,Ai),[new op(n._key,Wn.none())])}function GA(n,e){const t=cr(n.firestore,Ai),s=Nf(n),o=BA(n.converter,e);return Vp(t,[VA(Cp(n.firestore),"addDoc",s._key,o,n.converter!==null,{}).toMutation(s._key,Wn.exists(!1))]).then(()=>s)}function KA(n,...e){n=gt(n);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||kv(e[s])||(t=e[s++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(kv(e[s])){const m=e[s];e[s]=m.next?.bind(m),e[s+1]=m.error?.bind(m),e[s+2]=m.complete?.bind(m)}let l,h,f;if(n instanceof mt)h=cr(n.firestore,Ai),f=sp(n._key.path),l={next:m=>{e[s]&&e[s](QA(h,n,m))},error:e[s+1],complete:e[s+2]};else{const m=cr(n,zs);h=cr(m.firestore,Ai),f=m._query;const v=new jp(h);l={next:x=>{e[s]&&e[s](new wi(h,v,m,x))},error:e[s+1],complete:e[s+2]},lw(n._query)}return function(v,x,T,I){const L=new J0(I),z=new $0(x,L,T);return v.asyncQueue.enqueueAndForget(async()=>z0(await kf(v),z)),()=>{L.Nu(),v.asyncQueue.enqueueAndForget(async()=>B0(await kf(v),z))}}(Tp(h),f,o,l)}function Vp(n,e){return function(s,o){const l=new Rs;return s.asyncQueue.enqueueAndForget(async()=>gA(await AA(s),o,l)),l.promise}(Tp(n),e)}function QA(n,e,t){const s=t.docs.get(e._key),o=new jp(n);return new _i(n,o,e._key,s,new Ja(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Wo=o})(Ni),Ii(new Ps("firestore",(s,{instanceIdentifier:o,options:l})=>{const h=s.getProvider("app").getImmediate(),f=new Ai(new LS(s.getProvider("auth-internal")),new US(h,s.getProvider("app-check-internal")),function(v,x){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new se(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pl(v.options.projectId,x)}(h,o),h);return l={useFetchStreams:t,...l},f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),ur(by,Dy,e),ur(by,Dy,"esm2020")})();var XA="firebase",YA="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ur(XA,YA,"app");function fw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JA=fw,pw=new El("auth","Firebase",fw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc=new Kf("@firebase/auth");function ZA(n,...e){Dc.logLevel<=ke.WARN&&Dc.warn(`Auth (${Ni}): ${n}`,...e)}function dc(n,...e){Dc.logLevel<=ke.ERROR&&Dc.error(`Auth (${Ni}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(n,...e){throw Op(n,...e)}function mr(n,...e){return Op(n,...e)}function mw(n,e,t){const s={...JA(),[e]:t};return new El("auth","Firebase",s).create(e,{appName:n.name})}function xi(n){return mw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Op(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return pw.create(n,...e)}function we(n,e,...t){if(!n)throw Op(e,...t)}function Mr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw dc(e),new Error(e)}function Wr(n,e){n||Mr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(){return typeof self<"u"&&self.location?.href||""}function ek(){return Pv()==="http:"||Pv()==="https:"}function Pv(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ek()||pI()||"connection"in navigator)?navigator.onLine:!0}function nk(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Wr(t>e,"Short delay should be less than long delay!"),this.isMobile=hI()||mI()}get(){return tk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(n,e){Wr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Mr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Mr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Mr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ik=new Nl(3e4,6e4);function Mp(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Yo(n,e,t,s,o={}){return yw(n,o,async()=>{let l={},h={};s&&(e==="GET"?h=s:l={body:JSON.stringify(s)});const f=Tl({key:n.config.apiKey,...h}).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const v={method:e,headers:m,...l};return fI()||(v.referrerPolicy="no-referrer"),n.emulatorConfig&&Ms(n.emulatorConfig.host)&&(v.credentials="include"),gw.fetch()(await vw(n,n.config.apiHost,t,f),v)})}async function yw(n,e,t){n._canInitEmulator=!1;const s={...rk,...e};try{const o=new ak(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw tc(n,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const f=l.ok?h.errorMessage:h.error.message,[m,v]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw tc(n,"credential-already-in-use",h);if(m==="EMAIL_EXISTS")throw tc(n,"email-already-in-use",h);if(m==="USER_DISABLED")throw tc(n,"user-disabled",h);const x=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw mw(n,x,v);qr(n,x)}}catch(o){if(o instanceof _r)throw o;qr(n,"network-request-failed",{message:String(o)})}}async function ok(n,e,t,s,o={}){const l=await Yo(n,e,t,s,o);return"mfaPendingCredential"in l&&qr(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function vw(n,e,t,s){const o=`${e}${t}?${s}`,l=n,h=l.config.emulator?Lp(n.config,o):`${n.config.apiScheme}://${o}`;return sk.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(h).toString():h}class ak{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(mr(this.auth,"network-request-failed")),ik.get())})}}function tc(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=mr(n,e,s);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lk(n,e){return Yo(n,"POST","/v1/accounts:delete",e)}async function jc(n,e){return Yo(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function il(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uk(n,e=!1){const t=gt(n),s=await t.getIdToken(e),o=Fp(s);we(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l?.sign_in_provider;return{claims:o,token:s,authTime:il(Yd(o.auth_time)),issuedAtTime:il(Yd(o.iat)),expirationTime:il(Yd(o.exp)),signInProvider:h||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Yd(n){return Number(n)*1e3}function Fp(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return dc("JWT malformed, contained fewer than 3 sections"),null;try{const o=T_(t);return o?JSON.parse(o):(dc("Failed to decode base64 JWT payload"),null)}catch(o){return dc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function bv(n){const e=Fp(n);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _l(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof _r&&ck(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function ck({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=il(this.lastLoginAt),this.creationTime=il(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vc(n){const e=n.auth,t=await n.getIdToken(),s=await _l(n,jc(e,{idToken:t}));we(s?.users.length,e,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const l=o.providerUserInfo?.length?_w(o.providerUserInfo):[],h=fk(n.providerData,l),f=n.isAnonymous,m=!(n.email&&o.passwordHash)&&!h?.length,v=f?m:!1,x={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Df(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(n,x)}async function dk(n){const e=gt(n);await Vc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fk(n,e){return[...n.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function _w(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pk(n,e){const t=await yw(n,{},async()=>{const s=Tl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,h=await vw(n,o,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:s};return n.emulatorConfig&&Ms(n.emulatorConfig.host)&&(m.credentials="include"),gw.fetch()(h,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function mk(n,e){return Yo(n,"POST","/v2/accounts:revokeToken",Mp(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){we(e.length!==0,"internal-error");const t=bv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:l}=await pk(e,t);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:l}=t,h=new bo;return s&&(we(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(we(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),l&&(we(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bo,this.toJSON())}_performRefresh(){return Mr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(n,e){we(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class qn{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new hk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Df(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await _l(this,this.stsTokenManager.getToken(this.auth,e));return we(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return uk(this,e)}reload(){return dk(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new qn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Vc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hn(this.auth.app))return Promise.reject(xi(this.auth));const e=await this.getIdToken();return await _l(this,lk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,l=t.phoneNumber??void 0,h=t.photoURL??void 0,f=t.tenantId??void 0,m=t._redirectEventId??void 0,v=t.createdAt??void 0,x=t.lastLoginAt??void 0,{uid:T,emailVerified:I,isAnonymous:L,providerData:z,stsTokenManager:$}=t;we(T&&$,e,"internal-error");const b=bo.fromJSON(this.name,$);we(typeof T=="string",e,"internal-error"),_s(s,e.name),_s(o,e.name),we(typeof I=="boolean",e,"internal-error"),we(typeof L=="boolean",e,"internal-error"),_s(l,e.name),_s(h,e.name),_s(f,e.name),_s(m,e.name),_s(v,e.name),_s(x,e.name);const W=new qn({uid:T,auth:e,email:o,emailVerified:I,displayName:s,isAnonymous:L,photoURL:h,phoneNumber:l,tenantId:f,stsTokenManager:b,createdAt:v,lastLoginAt:x});return z&&Array.isArray(z)&&(W.providerData=z.map(ee=>({...ee}))),m&&(W._redirectEventId=m),W}static async _fromIdTokenResponse(e,t,s=!1){const o=new bo;o.updateFromServerResponse(t);const l=new qn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Vc(l),l}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];we(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?_w(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!l?.length,f=new bo;f.updateFromIdToken(s);const m=new qn({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:h}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Df(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(m,v),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv=new Map;function Fr(n){Wr(n instanceof Function,"Expected a class definition");let e=Dv.get(n);return e?(Wr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Dv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ww.type="NONE";const jv=ww;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(n,e,t){return`firebase:${n}:${e}:${t}`}class Do{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=fc(this.userKey,o.apiKey,l),this.fullPersistenceKey=fc("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await jc(this.auth,{idToken:e}).catch(()=>{});return t?qn._fromGetAccountInfoResponse(this.auth,t,e):null}return qn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Do(Fr(jv),e,s);const o=(await Promise.all(t.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let l=o[0]||Fr(jv);const h=fc(s,e.config.apiKey,e.name);let f=null;for(const v of t)try{const x=await v._get(h);if(x){let T;if(typeof x=="string"){const I=await jc(e,{idToken:x}).catch(()=>{});if(!I)break;T=await qn._fromGetAccountInfoResponse(e,I,x)}else T=qn._fromJSON(e,x);v!==l&&(f=T),l=v;break}}catch{}const m=o.filter(v=>v._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Do(l,e,s):(l=m[0],f&&await l._set(h,f.toJSON()),await Promise.all(t.map(async v=>{if(v!==l)try{await v._remove(h)}catch{}})),new Do(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Iw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Cw(e))return"Blackberry";if(Aw(e))return"Webos";if(Ew(e))return"Safari";if((e.includes("chrome/")||Tw(e))&&!e.includes("edge/"))return"Chrome";if(Sw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if(s?.length===2)return s[1]}return"Other"}function xw(n=qt()){return/firefox\//i.test(n)}function Ew(n=qt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Tw(n=qt()){return/crios\//i.test(n)}function Iw(n=qt()){return/iemobile/i.test(n)}function Sw(n=qt()){return/android/i.test(n)}function Cw(n=qt()){return/blackberry/i.test(n)}function Aw(n=qt()){return/webos/i.test(n)}function Up(n=qt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function gk(n=qt()){return Up(n)&&!!window.navigator?.standalone}function yk(){return gI()&&document.documentMode===10}function kw(n=qt()){return Up(n)||Sw(n)||Aw(n)||Cw(n)||/windows phone/i.test(n)||Iw(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(n,e=[]){let t;switch(n){case"Browser":t=Vv(qt());break;case"Worker":t=`${Vv(qt())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ni}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((h,f)=>{try{const m=e(l);h(m)}catch(m){f(m)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _k(n,e={}){return Yo(n,"GET","/v2/passwordPolicy",Mp(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk=6;class xk{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??wk,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ov(this),this.idTokenSubscription=new Ov(this),this.beforeStateQueue=new vk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Fr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Do.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await jc(this,{idToken:e}),s=await qn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Hn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,h=s?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===h)&&f?.user&&(s=f.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Vc(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=nk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hn(this.app))return Promise.reject(xi(this));const t=e?gt(e):null;return t&&we(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hn(this.app)?Promise.reject(xi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hn(this.app)?Promise.reject(xi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _k(this),t=new xk(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new El("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await mk(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Fr(e)||this._popupRedirectResolver;we(t,this,"argument-error"),this.redirectPersistenceManager=await Do.create(this,[Fr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(f,this,"internal-error"),f.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,s,o);return()=>{h=!0,m()}}else{const m=e.addObserver(t);return()=>{h=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Rw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&ZA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function zp(n){return gt(n)}class Ov{constructor(e){this.auth=e,this.observer=null,this.addObserver=II(t=>this.observer=t)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Tk(n){Bp=n}function Ik(n){return Bp.loadJS(n)}function Sk(){return Bp.gapiScript}function Ck(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ak(n,e){const t=$c(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(Ti(l,e??{}))return o;qr(o,"already-initialized")}return t.initialize({options:e})}function kk(n,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Fr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e?.popupRedirectResolver)}function Rk(n,e,t){const s=zp(n);we(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=Nw(e),{host:h,port:f}=Nk(e),m=f===null?"":`:${f}`,v={url:`${l}//${h}${m}/`},x=Object.freeze({host:h,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){we(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),we(Ti(v,s.config.emulator)&&Ti(x,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=v,s.emulatorConfig=x,s.settings.appVerificationDisabledForTesting=!0,Ms(h)?(Wf(`${l}//${h}${m}`),Gf("Auth",!0)):Pk()}function Nw(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Nk(n){const e=Nw(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:Lv(s.substr(l.length+1))}}else{const[l,h]=s.split(":");return{host:l,port:Lv(h)}}}function Lv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Pk(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Mr("not implemented")}_getIdTokenResponse(e){return Mr("not implemented")}_linkToIdToken(e,t){return Mr("not implemented")}_getReauthenticationResolver(e){return Mr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jo(n,e){return ok(n,"POST","/v1/accounts:signInWithIdp",Mp(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk="http://localhost";class ki extends Pw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ki(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):qr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...l}=t;if(!s||!o)return null;const h=new ki(s,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return jo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,jo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,jo(e,t)}buildRequest(){const e={requestUri:bk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Tl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl extends bw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends Pl{constructor(){super("facebook.com")}static credential(e){return ki._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ws.credential(e.oauthAccessToken)}catch{return null}}}ws.FACEBOOK_SIGN_IN_METHOD="facebook.com";ws.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends Pl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ki._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return xs.credential(t,s)}catch{return null}}}xs.GOOGLE_SIGN_IN_METHOD="google.com";xs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends Pl{constructor(){super("github.com")}static credential(e){return ki._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Es.credential(e.oauthAccessToken)}catch{return null}}}Es.GITHUB_SIGN_IN_METHOD="github.com";Es.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends Pl{constructor(){super("twitter.com")}static credential(e,t){return ki._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Ts.credential(t,s)}catch{return null}}}Ts.TWITTER_SIGN_IN_METHOD="twitter.com";Ts.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const l=await qn._fromIdTokenResponse(e,s,o),h=Mv(s);return new Bo({user:l,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=Mv(s);return new Bo({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function Mv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc extends _r{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Oc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Oc(e,t,s,o)}}function Dw(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Oc._fromErrorAndOperation(n,l,e,s):l})}async function Dk(n,e,t=!1){const s=await _l(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Bo._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jk(n,e,t=!1){const{auth:s}=n;if(Hn(s.app))return Promise.reject(xi(s));const o="reauthenticate";try{const l=await _l(n,Dw(s,o,e,n),t);we(l.idToken,s,"internal-error");const h=Fp(l.idToken);we(h,s,"internal-error");const{sub:f}=h;return we(n.uid===f,s,"user-mismatch"),Bo._forOperation(n,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&qr(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vk(n,e,t=!1){if(Hn(n.app))return Promise.reject(xi(n));const s="signIn",o=await Dw(n,s,e),l=await Bo._fromIdTokenResponse(n,s,o);return t||await n._updateCurrentUser(l.user),l}function Ok(n,e,t,s){return gt(n).onIdTokenChanged(e,t,s)}function Lk(n,e,t){return gt(n).beforeAuthStateChanged(e,t)}const Lc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Lc,"1"),this.storage.removeItem(Lc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk=1e3,Fk=10;class Vw extends jw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,f,m)=>{this.notifyListeners(h,m)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},l=this.storage.getItem(s);yk()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Fk):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},Mk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Vw.type="LOCAL";const Uk=Vw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow extends jw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Ow.type="SESSION";const Lw=Ow;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zk(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new ih(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:l}=t.data,h=this.handlersMap[o];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const f=Array.from(h).map(async v=>v(t.origin,l)),m=await zk(f);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ih.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((f,m)=>{const v=$p("",20);o.port1.start();const x=setTimeout(()=>{m(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const I=T;if(I.data.eventId===v)switch(I.data.status){case"ack":clearTimeout(x),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(I.data.response);break;default:clearTimeout(x),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:v,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(){return window}function $k(n){gr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(){return typeof gr().WorkerGlobalScope<"u"&&typeof gr().importScripts=="function"}async function Hk(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qk(){return navigator?.serviceWorker?.controller||null}function Wk(){return Mw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw="firebaseLocalStorageDb",Gk=1,Mc="firebaseLocalStorage",Uw="fbase_key";class bl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function oh(n,e){return n.transaction([Mc],e?"readwrite":"readonly").objectStore(Mc)}function Kk(){const n=indexedDB.deleteDatabase(Fw);return new bl(n).toPromise()}function jf(){const n=indexedDB.open(Fw,Gk);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(Mc,{keyPath:Uw})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(Mc)?e(s):(s.close(),await Kk(),e(await jf()))})})}async function Fv(n,e,t){const s=oh(n,!0).put({[Uw]:e,value:t});return new bl(s).toPromise()}async function Qk(n,e){const t=oh(n,!1).get(e),s=await new bl(t).toPromise();return s===void 0?null:s.value}function Uv(n,e){const t=oh(n,!0).delete(e);return new bl(t).toPromise()}const Xk=800,Yk=3;class zw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>Yk)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Mw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ih._getInstance(Wk()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Hk(),!this.activeServiceWorker)return;this.sender=new Bk(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||qk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jf();return await Fv(e,Lc,"1"),await Uv(e,Lc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Fv(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>Qk(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Uv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=oh(o,!1).getAll();return new bl(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Xk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}zw.type="LOCAL";const Jk=zw;new Nl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zk(n,e){return e?Fr(e):(we(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp extends Pw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return jo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return jo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function eR(n){return Vk(n.auth,new Hp(n),n.bypassAuthState)}function tR(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),jk(t,new Hp(n),n.bypassAuthState)}async function nR(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),Dk(t,new Hp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e,t,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:l,error:h,type:f}=e;if(h){this.reject(h);return}const m={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eR;case"linkViaPopup":case"linkViaRedirect":return nR;case"reauthViaPopup":case"reauthViaRedirect":return tR;default:qr(this.auth,"internal-error")}}resolve(e){Wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR=new Nl(2e3,1e4);class No extends Bw{constructor(e,t,s,o,l){super(e,t,o,l),this.provider=s,this.authWindow=null,this.pollId=null,No.currentPopupAction&&No.currentPopupAction.cancel(),No.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){Wr(this.filter.length===1,"Popup operations only handle one event");const e=$p();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(mr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(mr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,No.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,rR.get())};e()}}No.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="pendingRedirect",pc=new Map;class iR extends Bw{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=pc.get(this.auth._key());if(!e){try{const s=await oR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}pc.set(this.auth._key(),e)}return this.bypassAuthState||pc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oR(n,e){const t=uR(e),s=lR(n);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function aR(n,e){pc.set(n._key(),e)}function lR(n){return Fr(n._redirectPersistence)}function uR(n){return fc(sR,n.config.apiKey,n.name)}async function cR(n,e,t=!1){if(Hn(n.app))return Promise.reject(xi(n));const s=zp(n),o=Zk(s,e),h=await new iR(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR=600*1e3;class dR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fR(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!$w(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(mr(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hR&&this.cachedEventUids.clear(),this.cachedEventUids.has(zv(e))}saveEventToCache(e){this.cachedEventUids.add(zv(e)),this.lastProcessedEventTime=Date.now()}}function zv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function $w({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function fR(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $w(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pR(n,e={}){return Yo(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gR=/^https?/;async function yR(n){if(n.config.emulator)return;const{authorizedDomains:e}=await pR(n);for(const t of e)try{if(vR(t))return}catch{}qr(n,"unauthorized-domain")}function vR(n){const e=bf(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const h=new URL(n);return h.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!gR.test(t))return!1;if(mR.test(n))return s===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=new Nl(3e4,6e4);function Bv(){const n=gr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function wR(n){return new Promise((e,t)=>{function s(){Bv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Bv(),t(mr(n,"network-request-failed"))},timeout:_R.get()})}if(gr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(gr().gapi?.load)s();else{const o=Ck("iframefcb");return gr()[o]=()=>{gapi.load?s():t(mr(n,"network-request-failed"))},Ik(`${Sk()}?onload=${o}`).catch(l=>t(l))}}).catch(e=>{throw mc=null,e})}let mc=null;function xR(n){return mc=mc||wR(n),mc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=new Nl(5e3,15e3),TR="__/auth/iframe",IR="emulator/auth/iframe",SR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function AR(n){const e=n.config;we(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Lp(e,IR):`https://${n.config.authDomain}/${TR}`,s={apiKey:e.apiKey,appName:n.name,v:Ni},o=CR.get(n.config.apiHost);o&&(s.eid=o);const l=n._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${Tl(s).slice(1)}`}async function kR(n){const e=await xR(n),t=gr().gapi;return we(t,n,"internal-error"),e.open({where:document.body,url:AR(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:SR,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const h=mr(n,"network-request-failed"),f=gr().setTimeout(()=>{l(h)},ER.get());function m(){gr().clearTimeout(f),o(s)}s.ping(m).then(m,()=>{l(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},NR=500,PR=600,bR="_blank",DR="http://localhost";class $v{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jR(n,e,t,s=NR,o=PR){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const m={...RR,width:s.toString(),height:o.toString(),top:l,left:h},v=qt().toLowerCase();t&&(f=Tw(v)?bR:t),xw(v)&&(e=e||DR,m.scrollbars="yes");const x=Object.entries(m).reduce((I,[L,z])=>`${I}${L}=${z},`,"");if(gk(v)&&f!=="_self")return VR(e||"",f),new $v(null);const T=window.open(e||"",f,x);we(T,n,"popup-blocked");try{T.focus()}catch{}return new $v(T)}function VR(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR="__/auth/handler",LR="emulator/auth/handler",MR=encodeURIComponent("fac");async function Hv(n,e,t,s,o,l){we(n.config.authDomain,n,"auth-domain-config-required"),we(n.config.apiKey,n,"invalid-api-key");const h={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:Ni,eventId:o};if(e instanceof bw){e.setDefaultLanguage(n.languageCode),h.providerId=e.providerId||"",TI(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,T]of Object.entries({}))h[x]=T}if(e instanceof Pl){const x=e.getScopes().filter(T=>T!=="");x.length>0&&(h.scopes=x.join(","))}n.tenantId&&(h.tid=n.tenantId);const f=h;for(const x of Object.keys(f))f[x]===void 0&&delete f[x];const m=await n._getAppCheckToken(),v=m?`#${MR}=${encodeURIComponent(m)}`:"";return`${FR(n)}?${Tl(f).slice(1)}${v}`}function FR({config:n}){return n.emulator?Lp(n,LR):`https://${n.authDomain}/${OR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd="webStorageSupport";class UR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Lw,this._completeRedirectFn=cR,this._overrideRedirectResult=aR}async _openPopup(e,t,s,o){Wr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await Hv(e,t,s,bf(),o);return jR(e,l,$p())}async _openRedirect(e,t,s,o){await this._originValidation(e);const l=await Hv(e,t,s,bf(),o);return $k(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Wr(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await kR(e),s=new dR(e);return t.register("authEvent",o=>(we(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Jd,{type:Jd},o=>{const l=o?.[0]?.[Jd];l!==void 0&&t(!!l),qr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=yR(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return kw()||Ew()||Up()}}const zR=UR;var qv="@firebase/auth",Wv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HR(n){Ii(new Ps("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:f}=s.options;we(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:h,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Rw(n)},v=new Ek(s,o,l,m);return kk(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Ii(new Ps("auth-internal",e=>{const t=zp(e.getProvider("auth").getImmediate());return(s=>new BR(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ur(qv,Wv,$R(n)),ur(qv,Wv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR=300,WR=A_("authIdTokenMaxAge")||qR;let Gv=null;const GR=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>WR)return;const o=t?.token;Gv!==o&&(Gv=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function KR(n=Xf()){const e=$c(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Ak(n,{popupRedirectResolver:zR,persistence:[Jk,Uk,Lw]}),s=A_("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const h=GR(l.toString());Lk(t,h,()=>h(t.currentUser)),Ok(t,f=>h(f))}}const o=I_("auth");return o&&Rk(t,`http://${o}`),t}function QR(){return document.getElementsByTagName("head")?.[0]??document}Tk({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=o=>{const l=mr("internal-error");l.customData=o,t(l)},s.type="text/javascript",s.charset="UTF-8",QR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HR("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw="firebasestorage.googleapis.com",qw="storageBucket",XR=120*1e3,YR=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot extends _r{constructor(e,t,s=0){super(Zd(e),`Firebase Storage: ${t} (${Zd(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ot.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Zd(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var it;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(it||(it={}));function Zd(n){return"storage/"+n}function qp(){const n="An unknown error occurred, please check the error payload for server response.";return new ot(it.UNKNOWN,n)}function JR(n){return new ot(it.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function ZR(n){return new ot(it.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function eN(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ot(it.UNAUTHENTICATED,n)}function tN(){return new ot(it.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function nN(n){return new ot(it.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function rN(){return new ot(it.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function sN(){return new ot(it.CANCELED,"User canceled the upload/download.")}function iN(n){return new ot(it.INVALID_URL,"Invalid URL '"+n+"'.")}function oN(n){return new ot(it.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function aN(){return new ot(it.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+qw+"' property when initializing the app?")}function lN(){return new ot(it.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function uN(){return new ot(it.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function cN(n){return new ot(it.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Vf(n){return new ot(it.INVALID_ARGUMENT,n)}function Ww(){return new ot(it.APP_DELETED,"The Firebase app was deleted.")}function hN(n){return new ot(it.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ol(n,e){return new ot(it.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Ka(n){throw new ot(it.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=gn.makeFromUrl(e,t)}catch{return new gn(e,"")}if(s.path==="")return s;throw oN(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function l(le){le.path.charAt(le.path.length-1)==="/"&&(le.path_=le.path_.slice(0,-1))}const h="(/(.*))?$",f=new RegExp("^gs://"+o+h,"i"),m={bucket:1,path:3};function v(le){le.path_=decodeURIComponent(le.path)}const x="v[A-Za-z0-9_]+",T=t.replace(/[.]/g,"\\."),I="(/([^?#]*).*)?$",L=new RegExp(`^https?://${T}/${x}/b/${o}/o${I}`,"i"),z={bucket:1,path:3},$=t===Hw?"(?:storage.googleapis.com|storage.cloud.google.com)":t,b="([^?#]*)",W=new RegExp(`^https?://${$}/${o}/${b}`,"i"),te=[{regex:f,indices:m,postModify:l},{regex:L,indices:z,postModify:v},{regex:W,indices:{bucket:1,path:2},postModify:v}];for(let le=0;le<te.length;le++){const Ie=te[le],Te=Ie.regex.exec(e);if(Te){const D=Te[Ie.indices.bucket];let S=Te[Ie.indices.path];S||(S=""),s=new gn(D,S),Ie.postModify(s);break}}if(s==null)throw iN(e);return s}}class dN{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(n,e,t){let s=1,o=null,l=null,h=!1,f=0;function m(){return f===2}let v=!1;function x(...b){v||(v=!0,e.apply(null,b))}function T(b){o=setTimeout(()=>{o=null,n(L,m())},b)}function I(){l&&clearTimeout(l)}function L(b,...W){if(v){I();return}if(b){I(),x.call(null,b,...W);return}if(m()||h){I(),x.call(null,b,...W);return}s<64&&(s*=2);let te;f===1?(f=2,te=0):te=(s+Math.random())*1e3,T(te)}let z=!1;function $(b){z||(z=!0,I(),!v&&(o!==null?(b||(f=2),clearTimeout(o),T(0)):b||(f=1)))}return T(0),l=setTimeout(()=>{h=!0,$(!0)},t),$}function pN(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(n){return n!==void 0}function gN(n){return typeof n=="object"&&!Array.isArray(n)}function Wp(n){return typeof n=="string"||n instanceof String}function Kv(n){return Gp()&&n instanceof Blob}function Gp(){return typeof Blob<"u"}function Qv(n,e,t,s){if(s<e)throw Vf(`Invalid value for '${n}'. Expected ${e} or greater.`);if(s>t)throw Vf(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(n,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${n}`}function Gw(n){const e=encodeURIComponent;let t="?";for(const s in n)if(n.hasOwnProperty(s)){const o=e(s)+"="+e(n[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var Ei;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Ei||(Ei={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||o||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e,t,s,o,l,h,f,m,v,x,T,I=!0,L=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=h,this.callback_=f,this.errorCallback_=m,this.timeout_=v,this.progressCallback_=x,this.connectionFactory_=T,this.retry=I,this.isUsingEmulator=L,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((z,$)=>{this.resolve_=z,this.reject_=$,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new nc(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const h=f=>{const m=f.loaded,v=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,v)};this.progressCallback_!==null&&l.addUploadProgressListener(h),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(h),this.pendingConnection_=null;const f=l.getErrorCode()===Ei.NO_ERROR,m=l.getStatus();if(!f||yN(m,this.additionalRetryCodes_)&&this.retry){const x=l.getErrorCode()===Ei.ABORT;s(!1,new nc(!1,null,x));return}const v=this.successCodes_.indexOf(m)!==-1;s(!0,new nc(v,l))})},t=(s,o)=>{const l=this.resolve_,h=this.reject_,f=o.connection;if(o.wasSuccessCode)try{const m=this.callback_(f,f.getResponse());mN(m)?l(m):l()}catch(m){h(m)}else if(f!==null){const m=qp();m.serverResponse=f.getErrorText(),this.errorCallback_?h(this.errorCallback_(f,m)):h(m)}else if(o.canceled){const m=this.appDelete_?Ww():sN();h(m)}else{const m=rN();h(m)}};this.canceled_?t(!1,new nc(!1,null,!0)):this.backoffId_=fN(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&pN(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class nc{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function _N(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function wN(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function xN(n,e){e&&(n["X-Firebase-GMPID"]=e)}function EN(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function TN(n,e,t,s,o,l,h=!0,f=!1){const m=Gw(n.urlParams),v=n.url+m,x=Object.assign({},n.headers);return xN(x,e),_N(x,t),wN(x,l),EN(x,s),new vN(v,n.method,x,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,h,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function SN(...n){const e=IN();if(e!==void 0){const t=new e;for(let s=0;s<n.length;s++)t.append(n[s]);return t.getBlob()}else{if(Gp())return new Blob(n);throw new ot(it.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function CN(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(n){if(typeof atob>"u")throw cN("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ef{constructor(e,t){this.data=e,this.contentType=t||null}}function kN(n,e){switch(n){case lr.RAW:return new ef(Kw(e));case lr.BASE64:case lr.BASE64URL:return new ef(Qw(n,e));case lr.DATA_URL:return new ef(NN(e),PN(e))}throw qp()}function Kw(n){const e=[];for(let t=0;t<n.length;t++){let s=n.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=s,h=n.charCodeAt(++t);s=65536|(l&1023)<<10|h&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function RN(n){let e;try{e=decodeURIComponent(n)}catch{throw ol(lr.DATA_URL,"Malformed data URL.")}return Kw(e)}function Qw(n,e){switch(n){case lr.BASE64:{const o=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(o||l)throw ol(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case lr.BASE64URL:{const o=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(o||l)throw ol(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=AN(e)}catch(o){throw o.message.includes("polyfill")?o:ol(n,"Invalid character found")}const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}class Xw{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw ol(lr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=bN(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function NN(n){const e=new Xw(n);return e.base64?Qw(lr.BASE64,e.rest):RN(e.rest)}function PN(n){return new Xw(n).contentType}function bN(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,t){let s=0,o="";Kv(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(Kv(this.data_)){const s=this.data_,o=CN(s,e,t);return o===null?null:new Is(o)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new Is(s,!0)}}static getBlob(...e){if(Gp()){const t=e.map(s=>s instanceof Is?s.data_:s);return new Is(SN.apply(null,t))}else{const t=e.map(h=>Wp(h)?kN(lr.RAW,h).data:h.data_);let s=0;t.forEach(h=>{s+=h.byteLength});const o=new Uint8Array(s);let l=0;return t.forEach(h=>{for(let f=0;f<h.length;f++)o[l++]=h[f]}),new Is(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(n){let e;try{e=JSON.parse(n)}catch{return null}return gN(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function jN(n,e){const t=e.split("/").filter(s=>s.length>0).join("/");return n.length===0?t:n+"/"+t}function Jw(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(n,e){return e}class Xt{constructor(e,t,s,o){this.server=e,this.local=t||e,this.writable=!!s,this.xform=o||VN}}let rc=null;function ON(n){return!Wp(n)||n.length<2?n:Jw(n)}function Zw(){if(rc)return rc;const n=[];n.push(new Xt("bucket")),n.push(new Xt("generation")),n.push(new Xt("metageneration")),n.push(new Xt("name","fullPath",!0));function e(l,h){return ON(h)}const t=new Xt("name");t.xform=e,n.push(t);function s(l,h){return h!==void 0?Number(h):h}const o=new Xt("size");return o.xform=s,n.push(o),n.push(new Xt("timeCreated")),n.push(new Xt("updated")),n.push(new Xt("md5Hash",null,!0)),n.push(new Xt("cacheControl",null,!0)),n.push(new Xt("contentDisposition",null,!0)),n.push(new Xt("contentEncoding",null,!0)),n.push(new Xt("contentLanguage",null,!0)),n.push(new Xt("contentType",null,!0)),n.push(new Xt("metadata","customMetadata",!0)),rc=n,rc}function LN(n,e){function t(){const s=n.bucket,o=n.fullPath,l=new gn(s,o);return e._makeStorageReference(l)}Object.defineProperty(n,"ref",{get:t})}function MN(n,e,t){const s={};s.type="file";const o=t.length;for(let l=0;l<o;l++){const h=t[l];s[h.local]=h.xform(s,e[h.server])}return LN(s,n),s}function e1(n,e,t){const s=Yw(e);return s===null?null:MN(n,s,t)}function FN(n,e,t,s){const o=Yw(e);if(o===null||!Wp(o.downloadTokens))return null;const l=o.downloadTokens;if(l.length===0)return null;const h=encodeURIComponent;return l.split(",").map(v=>{const x=n.bucket,T=n.fullPath,I="/b/"+h(x)+"/o/"+h(T),L=Kp(I,t,s),z=Gw({alt:"media",token:v});return L+z})[0]}function UN(n,e){const t={},s=e.length;for(let o=0;o<s;o++){const l=e[o];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}class t1{constructor(e,t,s,o){this.url=e,this.method=t,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(n){if(!n)throw qp()}function zN(n,e){function t(s,o){const l=e1(n,o,e);return n1(l!==null),l}return t}function BN(n,e){function t(s,o){const l=e1(n,o,e);return n1(l!==null),FN(l,o,n.host,n._protocol)}return t}function r1(n){function e(t,s){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=tN():o=eN():t.getStatus()===402?o=ZR(n.bucket):t.getStatus()===403?o=nN(n.path):o=s,o.status=t.getStatus(),o.serverResponse=s.serverResponse,o}return e}function $N(n){const e=r1(n);function t(s,o){let l=e(s,o);return s.getStatus()===404&&(l=JR(n.path)),l.serverResponse=o.serverResponse,l}return t}function HN(n,e,t){const s=e.fullServerUrl(),o=Kp(s,n.host,n._protocol),l="GET",h=n.maxOperationRetryTime,f=new t1(o,l,BN(n,t),h);return f.errorHandler=$N(e),f}function qN(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function WN(n,e,t){const s=Object.assign({},t);return s.fullPath=n.path,s.size=e.size(),s.contentType||(s.contentType=qN(null,e)),s}function GN(n,e,t,s,o){const l=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function f(){let te="";for(let le=0;le<2;le++)te=te+Math.random().toString().slice(2);return te}const m=f();h["Content-Type"]="multipart/related; boundary="+m;const v=WN(e,s,o),x=UN(v,t),T="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+x+`\r
--`+m+`\r
Content-Type: `+v.contentType+`\r
\r
`,I=`\r
--`+m+"--",L=Is.getBlob(T,s,I);if(L===null)throw lN();const z={name:v.fullPath},$=Kp(l,n.host,n._protocol),b="POST",W=n.maxUploadRetryTime,ee=new t1($,b,zN(n,t),W);return ee.urlParams=z,ee.headers=h,ee.body=L.uploadData(),ee.errorHandler=r1(e),ee}class KN{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ei.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ei.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ei.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,o,l){if(this.sent_)throw Ka("cannot .send() more than once");if(Ms(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),l!==void 0)for(const h in l)l.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,l[h].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ka("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ka("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ka("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ka("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class QN extends KN{initXhr(){this.xhr_.responseType="text"}}function s1(){return new QN}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e,t){this._service=e,t instanceof gn?this._location=t:this._location=gn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ri(e,t)}get root(){const e=new gn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Jw(this._location.path)}get storage(){return this._service}get parent(){const e=DN(this._location.path);if(e===null)return null;const t=new gn(this._location.bucket,e);return new Ri(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw hN(e)}}function XN(n,e,t){n._throwIfRoot("uploadBytes");const s=GN(n.storage,n._location,Zw(),new Is(e,!0),t);return n.storage.makeRequestWithTokens(s,s1).then(o=>({metadata:o,ref:n}))}function YN(n){n._throwIfRoot("getDownloadURL");const e=HN(n.storage,n._location,Zw());return n.storage.makeRequestWithTokens(e,s1).then(t=>{if(t===null)throw uN();return t})}function JN(n,e){const t=jN(n._location.path,e),s=new gn(n._location.bucket,t);return new Ri(n.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(n){return/^[A-Za-z]+:\/\//.test(n)}function eP(n,e){return new Ri(n,e)}function i1(n,e){if(n instanceof Qp){const t=n;if(t._bucket==null)throw aN();const s=new Ri(t,t._bucket);return e!=null?i1(s,e):s}else return e!==void 0?JN(n,e):n}function tP(n,e){if(e&&ZN(e)){if(n instanceof Qp)return eP(n,e);throw Vf("To use ref(service, url), the first argument must be a Storage instance.")}else return i1(n,e)}function Xv(n,e){const t=e?.[qw];return t==null?null:gn.makeFromBucketSpec(t,n)}function nP(n,e,t,s={}){n.host=`${e}:${t}`;const o=Ms(e);o&&(Wf(`https://${n.host}/b`),Gf("Storage",!0)),n._isUsingEmulator=!0,n._protocol=o?"https":"http";const{mockUserToken:l}=s;l&&(n._overrideAuthToken=typeof l=="string"?l:k_(l,n.app.options.projectId))}class Qp{constructor(e,t,s,o,l,h=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=l,this._isUsingEmulator=h,this._bucket=null,this._host=Hw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=XR,this._maxUploadRetryTime=YR,this._requests=new Set,o!=null?this._bucket=gn.makeFromBucketSpec(o,this._host):this._bucket=Xv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=gn.makeFromBucketSpec(this._url,e):this._bucket=Xv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Qv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Qv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ri(this,e)}_makeRequest(e,t,s,o,l=!0){if(this._deleted)return new dN(Ww());{const h=TN(e,this._appId,s,o,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const Yv="@firebase/storage",Jv="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="storage";function rP(n,e,t){return n=gt(n),XN(n,e,t)}function sP(n){return n=gt(n),YN(n)}function iP(n,e){return n=gt(n),tP(n,e)}function oP(n=Xf(),e){n=gt(n);const s=$c(n,o1).getImmediate({identifier:e}),o=S_("storage");return o&&aP(s,...o),s}function aP(n,e,t,s={}){nP(n,e,t,s)}function lP(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),s=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new Qp(t,s,o,e,Ni)}function uP(){Ii(new Ps(o1,lP,"PUBLIC").setMultipleInstances(!0)),ur(Yv,Jv,""),ur(Yv,Jv,"esm2020")}uP();const cP={apiKey:"AIzaSyDanHq6bxVZgQmS9z-pmdY4wFsa1K6woNc",authDomain:"house-of-festival-c0b5d.firebaseapp.com",projectId:"house-of-festival-c0b5d",storageBucket:"house-of-festival-c0b5d.firebasestorage.app",messagingSenderId:"867221237008",appId:"1:867221237008:web:0fa2fb78360220bb34c995",measurementId:"G-MGHB2QFCMM"},Xp=Ay().length?Ay()[0]:P_(cP),Za=NA(Xp);KR(Xp);const hP=oP(Xp),dP=()=>{const[n,e]=B.useState([]),[t,s]=B.useState([]),[o,l]=B.useState("All"),[h,f]=B.useState(""),[m,v]=B.useState("grid"),[x,T]=B.useState(!1),[I,L]=B.useState(!0),z=["All","Diwali","Navratri","Raksha Bandhan","Holi","Ganesh Chaturthi","Karva Chauth"];B.useEffect(()=>{(async()=>{try{L(!0);const W=cw(Rf(Za,"products"),hw("createdAt","desc")),te=(await HA(W)).docs.map(le=>({id:le.id,...le.data(),createdAt:le.data().createdAt?.toDate()||new Date}));e(te),s(te)}catch(W){console.error("Error fetching products:",W)}finally{L(!1)}})()},[]),B.useEffect(()=>{let b=n;o!=="All"&&(b=b.filter(W=>W.category===o)),h&&(b=b.filter(W=>W.title.toLowerCase().includes(h.toLowerCase())||W.category.toLowerCase().includes(h.toLowerCase())||W.color.toLowerCase().includes(h.toLowerCase())||W.size.toLowerCase().includes(h.toLowerCase()))),s(b)},[n,o,h]);const $=()=>{f(""),l("All"),T(!1)};return p.jsxs("div",{className:"min-h-screen pt-20 bg-gray-50",children:[p.jsx("section",{className:"relative py-12 lg:py-16 bg-gradient-to-r from-[#85193C] to-[#b51f50]",children:p.jsxs("div",{className:"container mx-auto px-4 text-center text-white",children:[p.jsxs("h1",{className:"text-3xl lg:text-5xl font-bold mb-4",children:["Festival ",p.jsx("span",{className:"text-yellow-300",children:"Products"})]}),p.jsx("p",{className:"responsive-text-xl max-w-2xl mx-auto",children:"Discover our exclusive collection of handcrafted festival essentials"})]})}),p.jsx("section",{className:"py-6 bg-white shadow-sm sticky top-20 z-40",children:p.jsxs("div",{className:"container mx-auto px-4",children:[p.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-center justify-between",children:[p.jsxs("div",{className:"relative flex-1 max-w-md w-full",children:[p.jsx(RT,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),p.jsx("input",{type:"text",value:h,onChange:b=>f(b.target.value),placeholder:"Search products...",className:"form-input pl-10"}),h&&p.jsx("button",{onClick:()=>f(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:p.jsx(zc,{className:"w-4 h-4"})})]}),p.jsxs("div",{className:"flex items-center space-x-4 w-full lg:w-auto",children:[p.jsxs("button",{className:"lg:hidden bg-[#85193C] text-white px-4 py-2.5 rounded-lg flex items-center space-x-2 flex-1 justify-center",onClick:()=>T(!x),children:[p.jsx(sT,{className:"w-5 h-5"}),p.jsx("span",{children:"Filter"})]}),p.jsxs("div",{className:"flex items-center space-x-1 bg-gray-100 rounded-lg p-1",children:[p.jsx("button",{onClick:()=>v("grid"),className:`p-2 rounded-md transition-colors ${m==="grid"?"bg-[#85193C] text-white":"text-gray-600 hover:text-[#85193C]"}`,children:p.jsx(lT,{className:"w-5 h-5"})}),p.jsx("button",{onClick:()=>v("list"),className:`p-2 rounded-md transition-colors ${m==="list"?"bg-[#85193C] text-white":"text-gray-600 hover:text-[#85193C]"}`,children:p.jsx(hT,{className:"w-5 h-5"})})]})]})]}),p.jsx("div",{className:`mt-6 ${x?"block":"hidden"} lg:block`,children:p.jsx("div",{className:"flex flex-wrap gap-2",children:z.map(b=>p.jsx("button",{onClick:()=>l(b),className:`px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 transform hover:scale-105 ${o===b?"bg-gradient-to-r from-[#85193C] to-[#b51f50] text-white shadow-lg":"bg-white text-gray-600 border border-gray-200 hover:border-[#85193C] hover:text-[#85193C]"}`,children:b},b))})})]})}),p.jsx("section",{className:"py-8 lg:py-12",children:p.jsxs("div",{className:"container mx-auto px-4",children:[p.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-2 sm:space-y-0",children:[p.jsxs("p",{className:"text-gray-600",children:["Showing ",p.jsx("span",{className:"font-semibold text-[#85193C]",children:t.length})," products",h&&p.jsxs(p.Fragment,{children:[' for "',p.jsx("span",{className:"font-semibold",children:h}),'"']}),o!=="All"&&p.jsxs(p.Fragment,{children:[" in ",p.jsx("span",{className:"font-semibold",children:o})]})]}),(h||o!=="All")&&p.jsx("button",{onClick:$,className:"text-sm text-[#85193C] hover:text-[#b51f50] font-medium",children:"Clear all filters"})]}),I?p.jsx("div",{className:"flex justify-center items-center py-16",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"loading-spinner border-[#85193C] w-8 h-8 mx-auto mb-4"}),p.jsx("p",{className:"text-gray-600",children:"Loading products..."})]})}):t.length>0?p.jsx("div",{className:`grid gap-6 lg:gap-8 ${m==="grid"?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4":"grid-cols-1 max-w-4xl mx-auto"}`,children:t.map(b=>p.jsx("div",{className:m==="list"?"max-w-none":"",children:p.jsx(w_,{product:b})},b.id))}):p.jsx("div",{className:"text-center py-16",children:p.jsxs("div",{className:"bg-white rounded-2xl p-8 lg:p-12 shadow-lg max-w-md mx-auto",children:[p.jsx("div",{className:"text-6xl mb-6",children:""}),p.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-4",children:"No Products Found"}),p.jsx("p",{className:"text-gray-600 mb-6",children:"Try adjusting your search criteria or browse our other categories."}),p.jsx("button",{onClick:$,className:"btn-gradient-custom",children:"Clear Filters"})]})})]})}),p.jsx("section",{className:"py-12 lg:py-16 bg-white",children:p.jsxs("div",{className:"container mx-auto px-4",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-800 mb-4",children:"Shop by Festival"}),p.jsx("p",{className:"responsive-text-xl text-gray-600 max-w-2xl mx-auto",children:"Find the perfect products for your favorite festivals"})]}),p.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4 lg:gap-6",children:z.slice(1).map(b=>p.jsxs("button",{onClick:()=>{l(b),window.scrollTo({top:0,behavior:"smooth"})},className:"group bg-gradient-to-br from-red-50 to-red-100 rounded-2xl p-4 lg:p-6 text-center hover:shadow-xl transition-all duration-500 transform hover:-translate-y-2",children:[p.jsx("div",{className:"text-3xl lg:text-4xl mb-3 lg:mb-4 group-hover:scale-110 transition-transform duration-300",children:b==="Diwali"?"":b==="Navratri"?"":b==="Raksha Bandhan"?"":b==="Holi"?"":b==="Ganesh Chaturthi"?"":b==="Karva Chauth"?"":""}),p.jsx("h3",{className:"font-semibold text-gray-800 group-hover:text-[#85193C] transition-colors text-sm lg:text-base",children:b})]},b))})]})})]})},fP=()=>{const[n,e]=B.useState({name:"",email:"",phone:"",product:"",message:""}),[t]=B.useState(!1),[s]=B.useState(!1),o=["Diwali Decorations","Navratri Accessories","Raksha Bandhan Items","Holi Colors","Ganesh Chaturthi Items","Karva Chauth Essentials","Custom Design Request","Bulk Order Inquiry","Other"],l=m=>{const{name:v,value:x}=m.target;e(T=>({...T,[v]:x}))},h=m=>{m.preventDefault();const v=`Hi! Here are my details:
Name: ${n.name}
Email: ${n.email}
Phone: ${n.phone}
Product Interest: ${n.product}
Message: ${n.message}`,x=`https://wa.me/916356065766?text=${encodeURIComponent(v)}`;window.open(x,"_blank"),e({name:"",email:"",phone:"",product:"",message:""})},f=()=>{const v=`https://wa.me/916356065766?text=${encodeURIComponent("Hi! I'm interested in your festival products. Please share more details.")}`;window.open(v,"_blank")};return p.jsxs("div",{className:"min-h-screen pt-20",children:[p.jsx("section",{className:"relative py-16 bg-gradient-to-r from-[#85193C] to-red-600",children:p.jsx("div",{className:"container mx-auto px-4 text-center text-white",children:p.jsxs("div",{children:[p.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:["Get in ",p.jsx("span",{className:"text-yellow-300",children:"Touch"})]}),p.jsx("p",{className:"text-lg md:text-xl max-w-2xl mx-auto",children:"We'd love to hear from you. Reach out for any inquiries about our festival products."})]})})}),p.jsx("section",{className:"py-16",children:p.jsx("div",{className:"container mx-auto px-4",children:p.jsxs("div",{className:"grid lg:grid-cols-2 gap-12",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-8",children:"Contact Information"}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-start space-x-4 bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300",children:[p.jsx("div",{className:"bg-orange-100 p-3 rounded-full",children:p.jsx(yc,{className:"w-6 h-6 text-orange-600"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Our Address"}),p.jsxs("p",{className:"text-gray-600",children:["Chunaravad - 14, New Thorala Main Road,",p.jsx("br",{}),"Rajkot, Gujarat, 360003"]})]})]}),p.jsxs("div",{className:"flex items-start space-x-4 bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300",children:[p.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:p.jsx(_c,{className:"w-6 h-6 text-blue-600"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Call Us"}),p.jsx("a",{href:"tel:+919712923284",className:"text-gray-600 hover:text-blue-600 transition-colors",children:"+91 97129 23284"})]})]}),p.jsxs("div",{className:"flex items-start space-x-4 bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300",children:[p.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:p.jsx(vc,{className:"w-6 h-6 text-green-600"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"WhatsApp Inquiry"}),p.jsx("button",{onClick:f,className:"text-gray-600 hover:text-green-600 transition-colors",children:"+91 6356 065 766"})]})]}),p.jsxs("div",{className:"flex items-start space-x-4 bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300",children:[p.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:p.jsx(v_,{className:"w-6 h-6 text-purple-600"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Email Us"}),p.jsx("a",{href:"mailto:info@houseoffestival.com",className:"text-gray-600 hover:text-purple-600 transition-colors",children:"info@houseoffestival.com"})]})]}),p.jsxs("div",{className:"flex items-start space-x-4 bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300",children:[p.jsx("div",{className:"bg-yellow-100 p-3 rounded-full",children:p.jsx(y_,{className:"w-6 h-6 text-yellow-600"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Business Hours"}),p.jsxs("div",{className:"text-gray-600 space-y-1",children:[p.jsx("p",{children:"Monday - Saturday: 9:00 AM - 7:00 PM"}),p.jsx("p",{children:"Sunday: 10:00 AM - 5:00 PM"})]})]})]}),p.jsxs("div",{className:"flex items-start space-x-4 bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300",children:[p.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:p.jsx(YE,{className:"w-6 h-6 text-red-600"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"GST Number"}),p.jsx("p",{className:"text-gray-600 font-mono",children:"24DITPM3391G1ZU"})]})]})]}),p.jsxs("div",{className:"mt-8 space-y-4",children:[p.jsxs("button",{onClick:f,className:"w-full bg-gradient-to-r from-green-500 to-green-600 text-white py-4 px-6 rounded-xl hover:from-green-600 hover:to-green-700 transition-all duration-300 transform hover:scale-105 flex items-center justify-center space-x-2 font-medium shadow-lg",children:[p.jsx(vc,{className:"w-5 h-5"}),p.jsx("span",{children:"Quick WhatsApp Inquiry"})]}),p.jsxs("a",{href:"tel:+919712923284",className:"w-full bg-gradient-to-r from-blue-500 to-blue-600 text-white py-4 px-6 rounded-xl hover:from-blue-600 hover:to-blue-700 transition-all duration-300 transform hover:scale-105 flex items-center justify-center space-x-2 font-medium shadow-lg",children:[p.jsx(_c,{className:"w-5 h-5"}),p.jsx("span",{children:"Call Now"})]})]})]}),p.jsx("div",{children:p.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg",children:[p.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Send us a Message"}),s?p.jsxs("div",{className:"text-center py-8",children:[p.jsx("div",{className:"bg-green-100 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-6",children:p.jsx(g_,{className:"w-10 h-10 text-green-600"})}),p.jsx("h3",{className:"text-2xl font-bold text-green-600 mb-4",children:"Message Sent!"}),p.jsx("p",{className:"text-gray-600",children:"Thank you for contacting us. We'll get back to you within 24 hours."})]}):p.jsxs("form",{onSubmit:h,className:"space-y-6",children:[p.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),p.jsx("input",{type:"text",name:"name",value:n.name,onChange:l,required:!0,className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-300",placeholder:"Your full name"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),p.jsx("input",{type:"email",name:"email",value:n.email,onChange:l,required:!0,className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-300",placeholder:"your@email.com"})]})]}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),p.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:l,className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-300",placeholder:"+91 XXXXX XXXXX"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Interest"}),p.jsxs("select",{name:"product",value:n.product,onChange:l,className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-300",children:[p.jsx("option",{value:"",children:"Select a product"}),o.map(m=>p.jsx("option",{value:m,children:m},m))]})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message *"}),p.jsx("textarea",{name:"message",value:n.message,onChange:l,required:!0,rows:6,className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-300 resize-none",placeholder:"Tell us about your requirements, quantity needed, or any specific questions..."})]}),p.jsx("button",{type:"submit",disabled:t,className:"w-full bg-gradient-to-r from-[#85193C] to-red-600 text-white py-4 px-6 rounded-xl hover:from-red-600 hover:to-[#85193C] focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none font-medium",children:t?p.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[p.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),p.jsx("span",{children:"Sending Message..."})]}):p.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[p.jsx(PT,{className:"w-5 h-5"}),p.jsx("span",{children:"Send Message"})]})})]})]})})]})})}),p.jsx("section",{className:"py-16 bg-gray-50",children:p.jsxs("div",{className:"container mx-auto px-4",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Find Us"}),p.jsx("p",{className:"text-lg text-gray-600",children:"Visit our showroom in Rajkot, Gujarat"})]}),p.jsx("div",{className:"bg-white rounded-2xl p-8 shadow-lg",children:p.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-red-50 rounded-xl p-12 text-center",children:[p.jsx(yc,{className:"w-16 h-16 text-orange-600 mx-auto mb-4"}),p.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Visit Our Showroom"}),p.jsx("p",{className:"text-lg text-gray-600 mb-6 max-w-md mx-auto",children:"Come experience our beautiful collection of festival products in person."}),p.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[p.jsx("p",{className:"font-semibold text-gray-800 mb-2",children:"House of Festival"}),p.jsxs("p",{className:"text-gray-600",children:["Chunaravad - 14, New Thorala Main Road,",p.jsx("br",{}),"Rajkot, Gujarat, 360003"]})]})]})})]})})]})},pP=()=>{const{isAdmin:n}=Hf(),[e,t]=B.useState([]),[s,o]=B.useState(!1),[l,h]=B.useState(null),[f,m]=B.useState(!1),[v,x]=B.useState(0),[T,I]=B.useState({title:"",image:"",size:"",color:"",price:0,category:"Diwali"}),[L,z]=B.useState(null),[$,b]=B.useState(""),W=["Diwali","Navratri","Raksha Bandhan","Holi","Ganesh Chaturthi","Karva Chauth"];if(B.useEffect(()=>{const R=cw(Rf(Za,"products"),hw("createdAt","desc")),P=KA(R,V=>{const A=V.docs.map(Qe=>({id:Qe.id,...Qe.data(),createdAt:Qe.data().createdAt?.toDate()||new Date}));t(A)});return()=>P()},[]),!n)return p.jsx(aE,{to:"/",replace:!0});const ee=R=>{const{name:P,value:V}=R.target;I(A=>({...A,[P]:P==="price"?parseFloat(V)||0:V}))},te=R=>{const P=R.target.files[0];if(P){z(P);const V=new FileReader;V.onload=A=>b(A.target.result),V.readAsDataURL(P)}},le=async R=>{const P=iP(hP,`products/${Date.now()}_${R.name}`),V=await rP(P,R);return await sP(V.ref)},Ie=async R=>{R.preventDefault(),m(!0);try{let P=T.image;L&&(P=await le(L));const V={...T,image:P,price:Number(T.price)};l?await qA(Nf(Za,"products",l.id),V):await GA(Rf(Za,"products"),{...V,createdAt:Ke.now()}),I({title:"",image:"",size:"",color:"",price:0,category:"Diwali"}),z(null),b(""),o(!1),h(null)}catch(P){console.error("Error saving product:",P),alert("Error saving product. Please try again.")}finally{m(!1)}},Te=R=>{h(R),I({title:R.title,image:R.image,size:R.size,color:R.color,price:R.price,category:R.category}),b(R.image),o(!0)},D=async R=>{if(confirm("Are you sure you want to delete this product?"))try{await WA(Nf(Za,"products",R))}catch(P){console.error("Error deleting product:",P),alert("Error deleting product. Please try again.")}},S=()=>{I({title:"",image:"",size:"",color:"",price:0,category:"Diwali"}),z(null),b(""),h(null),o(!1)},k=[{label:"Total Products",value:e.length,icon:p.jsx(__,{className:"w-6 h-6 text-blue-500"})},{label:"Categories",value:W.length,icon:p.jsx(Vo,{className:"w-6 h-6 text-[#85193C]"})},{label:"Avg. Price",value:`${Math.round(e.reduce((R,P)=>R+P.price,0)/(e.length||1))}`,icon:p.jsx($T,{className:"w-6 h-6 text-green-500"})},{label:"Total Value",value:`${e.reduce((R,P)=>R+P.price,0).toLocaleString()}`,icon:p.jsx(wc,{className:"w-6 h-6 text-purple-500"})}];return p.jsxs("div",{className:"min-h-screen pt-20 bg-gray-50",children:[p.jsx("div",{className:"bg-gradient-to-r from-[#85193C] to-[#b51f50] py-8 lg:py-12",children:p.jsxs("div",{className:"container mx-auto px-4",children:[p.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-white mb-4",children:"Admin Dashboard"}),p.jsx("p",{className:"text-red-100 text-lg",children:"Manage your festival products"})]})}),p.jsxs("div",{className:"container mx-auto px-4 py-6 lg:py-8",children:[p.jsx("div",{className:"responsive-grid mb-8",children:k.map((R,P)=>p.jsxs("div",{className:"bg-white rounded-2xl p-4 lg:p-6 shadow-lg hover:shadow-xl transition-shadow",children:[p.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[R.icon,p.jsx("h3",{className:"text-xl lg:text-2xl font-bold text-gray-800",children:R.value})]}),p.jsx("p",{className:"text-gray-600 text-sm",children:R.label})]},P))}),p.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Product Management"}),p.jsxs("button",{onClick:()=>{S(),o(!0)},className:"btn-gradient-custom",children:[p.jsx(vy,{className:"w-5 h-5"}),p.jsx("span",{children:"Add Product"})]})]}),s&&p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:p.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[p.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[p.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:l?"Edit Product":"Add New Product"}),p.jsx("button",{onClick:S,className:"text-gray-500 hover:text-gray-700",children:p.jsx(zc,{className:"w-6 h-6"})})]}),p.jsxs("form",{onSubmit:Ie,className:"p-6 space-y-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Product Image"}),p.jsxs("div",{className:"flex flex-col space-y-4",children:[p.jsx("input",{type:"file",accept:"image/*",onChange:te,className:"form-input"}),p.jsx("input",{type:"url",name:"image",value:T.image,onChange:ee,placeholder:"Or paste image URL",className:"form-input"}),$&&p.jsx("div",{className:"relative w-32 h-32 rounded-lg overflow-hidden border",children:p.jsx("img",{src:$,alt:"Preview",className:"w-full h-full object-cover"})})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Product Title *"}),p.jsx("input",{type:"text",name:"title",value:T.title,onChange:ee,placeholder:"Enter product title",className:"form-input",required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Category *"}),p.jsx("select",{name:"category",value:T.category,onChange:ee,className:"form-input",required:!0,children:W.map(R=>p.jsx("option",{value:R,children:R},R))})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Size *"}),p.jsx("input",{type:"text",name:"size",value:T.size,onChange:ee,placeholder:"e.g., Medium, Large, 12 inches",className:"form-input",required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Color *"}),p.jsx("input",{type:"text",name:"color",value:T.color,onChange:ee,placeholder:"e.g., Red, Golden, Multi-color",className:"form-input",required:!0})]}),p.jsxs("div",{className:"space-y-2 md:col-span-2",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Price () *"}),p.jsx("input",{type:"number",name:"price",value:T.price,onChange:ee,placeholder:"Enter price",className:"form-input",min:"0",step:"0.01",required:!0})]})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3",children:[p.jsx("button",{type:"submit",disabled:f,className:"btn-gradient-custom flex-1 disabled:opacity-50 disabled:cursor-not-allowed",children:f?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"loading-spinner"}),p.jsx("span",{children:l?"Updating...":"Adding..."})]}):p.jsxs(p.Fragment,{children:[p.jsx(AT,{className:"w-5 h-5"}),p.jsx("span",{children:l?"Update Product":"Add Product"})]})}),p.jsx("button",{type:"button",onClick:S,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"})]})]})]})}),p.jsx("div",{className:"responsive-grid",children:e.map(R=>p.jsx(w_,{product:R,onEdit:Te,onDelete:D,isAdmin:!0},R.id))}),e.length===0&&p.jsxs("div",{className:"text-center py-16",children:[p.jsx("div",{className:"text-6xl mb-4",children:""}),p.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"No Products Yet"}),p.jsx("p",{className:"text-gray-600 mb-6",children:"Start by adding your first festival product!"}),p.jsxs("button",{onClick:()=>{S(),o(!0)},className:"btn-gradient-custom",children:[p.jsx(vy,{className:"w-5 h-5"}),p.jsx("span",{children:"Add First Product"})]})]})]})]})},mP=()=>{const n=[{icon:p.jsx(ll,{className:"w-6 h-6 lg:w-8 lg:h-8 text-[#85193C]"}),title:"Handcrafted with Precision",description:"Every product is meticulously crafted by skilled artisans with attention to detail."},{icon:p.jsx(ul,{className:"w-6 h-6 lg:w-8 lg:h-8 text-red-500"}),title:"Authentic & Cultural",description:"Traditional designs that honor Indian heritage and festival customs."},{icon:p.jsx(yc,{className:"w-6 h-6 lg:w-8 lg:h-8 text-green-500"}),title:"Made in India",description:"Proudly supporting local artisans and promoting Indian craftsmanship."},{icon:p.jsx(rf,{className:"w-6 h-6 lg:w-8 lg:h-8 text-blue-500"}),title:"Quality Guaranteed",description:"Premium materials and quality assurance for lasting celebrations."}],e=[{label:"Years of Excellence",value:"15+",icon:p.jsx(ll,{className:"w-5 h-5 lg:w-6 lg:h-6"})},{label:"Happy Customers",value:"5000+",icon:p.jsx(wc,{className:"w-5 h-5 lg:w-6 lg:h-6"})},{label:"Products Crafted",value:"10000+",icon:p.jsx(jT,{className:"w-5 h-5 lg:w-6 lg:h-6"})},{label:"Festivals Celebrated",value:"50+",icon:p.jsx(Vo,{className:"w-5 h-5 lg:w-6 lg:h-6"})}];return p.jsxs("div",{className:"min-h-screen",children:[p.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0",children:p.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#85193C]/90 to-purple-900/90",style:{backgroundImage:"url(https://images.pexels.com/photos/1131555/pexels-photo-1131555.jpeg?auto=compress&cs=tinysrgb&w=1600)",backgroundSize:"cover",backgroundPosition:"center"}})}),p.jsxs("div",{className:"relative z-10 text-center text-white px-4 max-w-6xl mx-auto",children:[p.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl xl:text-7xl font-bold mb-6 leading-tight",children:["Celebrating ",p.jsx("span",{className:"text-yellow-300",children:"Traditions"}),p.jsx("br",{}),"with ",p.jsx("span",{className:"text-yellow-300",children:"Elegance"})]}),p.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl mb-8 text-orange-100 leading-relaxed max-w-3xl mx-auto",children:"Handcrafted Festival Essentials that bring joy and authenticity to every celebration"}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[p.jsxs($n,{to:"/products",className:"btn-gradient-custom rounded-full",children:[p.jsx("span",{children:"Explore Our Products"}),p.jsx(Ud,{className:"w-5 h-5"})]}),p.jsx($n,{to:"/about",className:"border-2 border-white text-white px-6 lg:px-8 py-3 lg:py-4 rounded-full text-base lg:text-lg font-semibold hover:bg-white hover:text-[#85193C] transition-all duration-300 transform hover:scale-105",children:"Our Story"})]})]})]}),p.jsx("section",{className:"py-12 lg:py-16",children:p.jsx("div",{className:"container mx-auto px-4",children:p.jsx("div",{className:"responsive-grid -mt-24 lg:-mt-32 relative z-10",children:e.map((t,s)=>p.jsx("div",{className:"text-center group hover:scale-105 transition-transform duration-300",children:p.jsxs("div",{className:"bg-white rounded-2xl p-4 lg:p-6 shadow-lg hover:shadow-xl transition-all duration-300",children:[p.jsx("div",{className:"text-[#85193C] mb-3 lg:mb-4 flex justify-center",children:t.icon}),p.jsx("h3",{className:"text-2xl lg:text-3xl font-bold text-gray-800 mb-2",children:t.value}),p.jsx("p",{className:"text-gray-600 text-sm lg:text-base font-medium",children:t.label})]})},s))})})}),p.jsx("section",{className:"py-16 lg:py-20 bg-white",children:p.jsx("div",{className:"container mx-auto px-4",children:p.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 lg:gap-12 items-center",children:[p.jsx("div",{className:"order-2 lg:order-1",children:p.jsx("img",{src:"https://images.pexels.com/photos/1131555/pexels-photo-1131555.jpeg?auto=compress&cs=tinysrgb&w=800",alt:"Traditional Craftwork",className:"rounded-2xl shadow-2xl hover:shadow-3xl transition-shadow duration-500 w-full h-64 lg:h-80 object-cover"})}),p.jsxs("div",{className:"order-1 lg:order-2",children:[p.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-[#85193C] mb-6",children:"Who We Are"}),p.jsx("p",{className:"text-base lg:text-lg text-gray-600 mb-6 lg:mb-8 leading-relaxed",children:"House of Festival is a passion-driven brand offering premium quality products that celebrate Indian culture and festivals."}),p.jsx("p",{className:"text-base lg:text-lg text-gray-600 mb-6 lg:mb-8 leading-relaxed",children:"With over 15 years of expertise, we've been proudly supporting local artisans and spreading joy through our handicrafts."}),p.jsxs($n,{to:"/about",className:"inline-flex items-center space-x-2 btn-gradient-custom rounded-full",children:[p.jsx("span",{children:"Learn More"}),p.jsx(Ud,{className:"w-5 h-5"})]})]})]})})}),p.jsx("section",{className:"py-16 lg:py-20 bg-gradient-to-br from-red-50 via-red-50 to-yellow-50",children:p.jsxs("div",{className:"container mx-auto px-4",children:[p.jsxs("div",{className:"text-center mb-12 lg:mb-16",children:[p.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-[#85193C] mb-4",children:"Why Choose Us?"}),p.jsx("p",{className:"responsive-text-xl text-gray-600 max-w-2xl mx-auto",children:"We combine tradition with quality, bringing you authentic festival essentials that make every celebration special."})]}),p.jsx("div",{className:"responsive-grid",children:n.map((t,s)=>p.jsxs("div",{className:"group bg-white rounded-2xl p-6 lg:p-8 shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2",children:[p.jsx("div",{className:"mb-4 lg:mb-6 group-hover:scale-110 transition-transform duration-300",children:t.icon}),p.jsx("h3",{className:"text-lg lg:text-xl font-bold text-gray-800 mb-3 lg:mb-4 group-hover:text-[#85193C] transition-colors",children:t.title}),p.jsx("p",{className:"text-gray-600 leading-relaxed text-sm lg:text-base",children:t.description})]},s))})]})}),p.jsx("section",{className:"py-16 lg:py-20",children:p.jsx("div",{className:"container mx-auto px-4 text-center",children:p.jsxs("div",{children:[p.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-[#85193C] mb-6",children:"Ready to Celebrate?"}),p.jsx("p",{className:"responsive-text-xl text-gray-600 mb-8 max-w-2xl mx-auto",children:"Discover our exclusive collection of handcrafted festival essentials and make your celebrations unforgettable."}),p.jsxs($n,{to:"/products",className:"inline-flex items-center space-x-2 bg-white text-[#85193C] px-6 lg:px-8 py-3 lg:py-4 rounded-full text-base lg:text-lg font-semibold hover:bg-gray-100 transition-all duration-300 transform hover:scale-105 hover:shadow-2xl border-2 border-[#85193C]",children:[p.jsx("span",{children:"Shop Now"}),p.jsx(Ud,{className:"w-5 h-5"})]})]})})})]})};function gP(){return p.jsx(BE,{children:p.jsx(bE,{children:p.jsxs("div",{className:"flex flex-col min-h-screen",children:[p.jsx(XT,{}),p.jsx("main",{className:"flex-grow",children:p.jsxs(uE,{children:[p.jsx(gi,{path:"/",element:p.jsx(mP,{})}),p.jsx(gi,{path:"/about",element:p.jsx(JT,{})}),p.jsx(gi,{path:"/services",element:p.jsx(ZT,{})}),p.jsx(gi,{path:"/products",element:p.jsx(dP,{})}),p.jsx(gi,{path:"/contact",element:p.jsx(fP,{})}),p.jsx(gi,{path:"/admin",element:p.jsx(pP,{})})]})}),p.jsx(YT,{})]})})})}vx.createRoot(document.getElementById("root")).render(p.jsx(B.StrictMode,{children:p.jsx(gP,{})}));
